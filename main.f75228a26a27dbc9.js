"use strict";(self.webpackChunkben_mathu=self.webpackChunkben_mathu||[]).push([[179],{973:()=>{let yt=null,Va=1;function ut(t){const e=yt;return yt=t,e}function mP(t){if((!fu(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Va)){if(!t.producerMustRecompute(t)&&!Tv(t))return t.dirty=!1,void(t.lastCleanEpoch=Va);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Va}}function Tv(t){Ba(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(mP(n),r!==n.version))return!0}return!1}function rp(t,e){if(function EP(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ba(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)rp(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ba(i),i.producerIndexOfThis[r]=e}}function fu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ba(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let TP=null;function Ke(t){return"function"==typeof t}function Dv(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Av=Dv(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ip(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Dn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ke(r))try{r()}catch(s){e=s instanceof Av?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{SP(s)}catch(o){e=e??[],o instanceof Av?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Av(e)}}add(e){var n;if(e&&e!==this)if(this.closed)SP(e);else{if(e instanceof Dn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ip(n,e)}remove(e){const{_finalizers:n}=this;n&&ip(n,e),e instanceof Dn&&e._removeParent(this)}}Dn.EMPTY=(()=>{const t=new Dn;return t.closed=!0,t})();const DP=Dn.EMPTY;function AP(t){return t instanceof Dn||t&&"closed"in t&&Ke(t.remove)&&Ke(t.add)&&Ke(t.unsubscribe)}function SP(t){Ke(t)?t():t.unsubscribe()}const uo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},sp={setTimeout(t,e,...n){const{delegate:r}=sp;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=sp;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function RP(t){sp.setTimeout(()=>{const{onUnhandledError:e}=uo;if(!e)throw t;e(t)})}function Sv(){}const E3=Rv("C",void 0,void 0);function Rv(t,e,n){return{kind:t,value:e,error:n}}let ho=null;function op(t){if(uo.useDeprecatedSynchronousErrorHandling){const e=!ho;if(e&&(ho={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ho;if(ho=null,n)throw r}}else t()}class xv extends Dn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,AP(e)&&e.add(this)):this.destination=R3}static create(e,n,r){return new pu(e,n,r)}next(e){this.isStopped?Mv(function w3(t){return Rv("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Mv(function T3(t){return Rv("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mv(E3,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const D3=Function.prototype.bind;function Pv(t,e){return D3.call(t,e)}class A3{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ap(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ap(r)}else ap(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ap(n)}}}class pu extends xv{constructor(e,n,r){let i;if(super(),Ke(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&uo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pv(e.next,s),error:e.error&&Pv(e.error,s),complete:e.complete&&Pv(e.complete,s)}):i=e}this.destination=new A3(i)}}function ap(t){uo.useDeprecatedSynchronousErrorHandling?function C3(t){uo.useDeprecatedSynchronousErrorHandling&&ho&&(ho.errorThrown=!0,ho.error=t)}(t):RP(t)}function Mv(t,e){const{onStoppedNotification:n}=uo;n&&sp.setTimeout(()=>n(t,e))}const R3={closed:!0,next:Sv,error:function S3(t){throw t},complete:Sv},kv="function"==typeof Symbol&&Symbol.observable||"@@observable";function ls(t){return t}function xP(t){return 0===t.length?ls:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Qe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function M3(t){return t&&t instanceof xv||function P3(t){return t&&Ke(t.next)&&Ke(t.error)&&Ke(t.complete)}(t)&&AP(t)}(n)?n:new pu(n,r,i);return op(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=PP(r))((i,s)=>{const o=new pu({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[kv](){return this}pipe(...n){return xP(n)(this)}toPromise(n){return new(n=PP(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function PP(t){var e;return null!==(e=t??uo.Promise)&&void 0!==e?e:Promise}const k3=Dv(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Yn=(()=>{class t extends Qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new MP(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new k3}next(n){op(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){op(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){op(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?DP:(this.currentObservers=null,s.push(n),new Dn(()=>{this.currentObservers=null,ip(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Qe;return n.source=this,n}}return t.create=(e,n)=>new MP(e,n),t})();class MP extends Yn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:DP}}function kP(t){return Ke(t?.lift)}function dt(t){return e=>{if(kP(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function st(t,e,n,r,i){return new NP(t,e,n,r,i)}class NP extends xv{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ae(t,e){return dt((n,r)=>{let i=0;n.subscribe(st(r,s=>{r.next(t.call(e,s,i++))}))})}function Fv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function us(t){return this instanceof us?(this.v=t,this):new us(t)}function VP(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Vv(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const BP=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function UP(t){return Ke(t?.then)}function jP(t){return Ke(t[kv])}function $P(t){return Symbol.asyncIterator&&Ke(t?.[Symbol.asyncIterator])}function HP(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const GP=function e5(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function zP(t){return Ke(t?.[GP])}function WP(t){return function LP(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof us?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield us(n.read());if(i)return yield us(void 0);yield yield us(r)}}finally{n.releaseLock()}})}function qP(t){return Ke(t?.getReader)}function Bn(t){if(t instanceof Qe)return t;if(null!=t){if(jP(t))return function t5(t){return new Qe(e=>{const n=t[kv]();if(Ke(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(BP(t))return function n5(t){return new Qe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(UP(t))return function r5(t){return new Qe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,RP)})}(t);if($P(t))return KP(t);if(zP(t))return function s5(t){return new Qe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(qP(t))return function o5(t){return KP(WP(t))}(t)}throw HP(t)}function KP(t){return new Qe(e=>{(function a5(t,e){var n,r,i,s;return function OP(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=VP(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Mi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function rn(t,e,n=1/0){return Ke(e)?rn((r,i)=>ae((s,o)=>e(r,s,i,o))(Bn(t(r,i))),n):("number"==typeof e&&(n=e),dt((r,i)=>function c5(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=m=>l<r?p(m):c.push(m),p=m=>{s&&e.next(m),l++;let g=!1;Bn(n(m,u++)).subscribe(st(e,y=>{i?.(y),s?f(y):e.next(y)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<r;){const y=c.shift();o?Mi(e,o,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(st(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ua(t=1/0){return rn(ls,t)}const Wr=new Qe(t=>t.complete());function Bv(t){return t[t.length-1]}function QP(t){return Ke(Bv(t))?t.pop():void 0}function mu(t){return function u5(t){return t&&Ke(t.schedule)}(Bv(t))?t.pop():void 0}function cp(t,e=0){return dt((n,r)=>{n.subscribe(st(r,i=>Mi(r,t,()=>r.next(i),e),()=>Mi(r,t,()=>r.complete(),e),i=>Mi(r,t,()=>r.error(i),e)))})}function lp(t,e=0){return dt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function YP(t,e){if(!t)throw new Error("Iterable cannot be null");return new Qe(n=>{Mi(n,e,()=>{const r=t[Symbol.asyncIterator]();Mi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function qt(t,e){return e?function _5(t,e){if(null!=t){if(jP(t))return function h5(t,e){return Bn(t).pipe(lp(e),cp(e))}(t,e);if(BP(t))return function p5(t,e){return new Qe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(UP(t))return function f5(t,e){return Bn(t).pipe(lp(e),cp(e))}(t,e);if($P(t))return YP(t,e);if(zP(t))return function m5(t,e){return new Qe(n=>{let r;return Mi(n,e,()=>{r=t[GP](),Mi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ke(r?.return)&&r.return()})}(t,e);if(qP(t))return function g5(t,e){return YP(WP(t),e)}(t,e)}throw HP(t)}(t,e):Bn(t)}class Xn extends Yn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function z(...t){return qt(t,mu(t))}function XP(t={}){const{connector:e=(()=>new Yn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return dt((m,g)=>{l++,!d&&!u&&h();const y=c=c??e();g.add(()=>{l--,0===l&&!d&&!u&&(a=Uv(p,i))}),y.subscribe(g),!o&&l>0&&(o=new pu({next:_=>y.next(_),error:_=>{d=!0,h(),a=Uv(f,n,_),y.error(_)},complete:()=>{u=!0,h(),a=Uv(f,r),y.complete()}}),Bn(m).subscribe(o))})(s)}}function Uv(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new pu({next:()=>{r.unsubscribe(),t()}});return Bn(e(...n)).subscribe(r)}function Zn(t,e){return dt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(st(r,c=>{i?.unsubscribe();let l=0;const u=s++;Bn(t(c,u)).subscribe(i=st(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ZP(t,e=ls){return t=t??v5,dt((n,r)=>{let i,s=!0;n.subscribe(st(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function v5(t,e){return t===e}function Se(t){for(let e in t)if(t[e]===Se)return e;throw Error("Could not find renamed property on target object.")}function up(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function xt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(xt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function jv(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b5=Se({__forward_ref__:Se});function $v(t){return t.__forward_ref__=$v,t.toString=function(){return xt(this())},t}function Q(t){return dp(t)?t():t}function dp(t){return"function"==typeof t&&t.hasOwnProperty(b5)&&t.__forward_ref__===$v}function Hv(t){return t&&!!t.\u0275providers}const JP="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function ja(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}const gu=Se({\u0275cmp:Se}),Gv=Se({\u0275dir:Se}),zv=Se({\u0275pipe:Se}),eM=Se({\u0275mod:Se}),ki=Se({\u0275fac:Se}),_u=Se({__NG_ELEMENT_ID__:Se}),tM=Se({__NG_ENV_ID__:Se});function ee(t){return"string"==typeof t?t:null==t?"":String(t)}function Wv(t,e){throw new S(-201,!1)}function Un(t,e){null==t&&function Y(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ht(t){return{providers:t.providers||[],imports:t.imports||[]}}function hp(t){return nM(t,pp)||nM(t,rM)}function nM(t,e){return t.hasOwnProperty(e)?t[e]:null}function fp(t){return t&&(t.hasOwnProperty(qv)||t.hasOwnProperty(R5))?t[qv]:null}const pp=Se({\u0275prov:Se}),qv=Se({\u0275inj:Se}),rM=Se({ngInjectableDef:Se}),R5=Se({ngInjectorDef:Se});var fe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(fe||{});let Kv;function iM(){return Kv}function jn(t){const e=Kv;return Kv=t,e}function sM(t,e,n){const r=hp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&fe.Optional?null:void 0!==e?e:void Wv(xt(t))}const Be=globalThis;class D{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const yu={},Jv="__NG_DI_FLAG__",mp="ngTempTokenPath",M5=/\n/gm,aM="__source";let $a;function hs(t){const e=$a;return $a=t,e}function O5(t,e=fe.Default){if(void 0===$a)throw new S(-203,!1);return null===$a?sM(t,void 0,e):$a.get(t,e&fe.Optional?null:void 0,e)}function M(t,e=fe.Default){return(iM()||O5)(Q(t),e)}function k(t,e=fe.Default){return M(t,gp(e))}function gp(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function eb(t){const e=[];for(let n=0;n<t.length;n++){const r=Q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=fe.Default;for(let o=0;o<r.length;o++){const a=r[o],c=F5(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(M(i,s))}else e.push(M(r))}return e}function vu(t,e){return t[Jv]=e,t.prototype[Jv]=e,t}function F5(t){return t[Jv]}function Ni(t){return{toString:t}.toString()}var _p=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_p||{}),Ar=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ar||{});const qr={},be=[];function lM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function tb(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];dM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function uM(t){return 3===t||4===t||6===t}function dM(t){return 64===t.charCodeAt(0)}function bu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||hM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function hM(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const fM="ng-template";function B5(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==lM(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function pM(t){return 4===t.type&&t.value!==fM}function U5(t,e,n){return e===(4!==t.type||n?t.value:fM)}function j5(t,e,n){let r=4;const i=t.attrs||[],s=function G5(t){for(let e=0;e<t.length;e++)if(uM(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!U5(t,c,n)||""===c&&1===e.length){if(Sr(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!B5(t.attrs,l,n)){if(Sr(r))return!1;o=!0}continue}const d=$5(8&r?"class":c,i,pM(t),n);if(-1===d){if(Sr(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==lM(f,l,0)||2&r&&l!==h){if(Sr(r))return!1;o=!0}}}}else{if(!o&&!Sr(r)&&!Sr(c))return!1;if(o&&Sr(c))continue;o=!1,r=c|1&r}}return Sr(r)||o}function Sr(t){return 0==(1&t)}function $5(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function z5(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function mM(t,e,n=!1){for(let r=0;r<e.length;r++)if(j5(t,e[r],n))return!0;return!1}function W5(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function gM(t,e){return t?":not("+e.trim()+")":e}function q5(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Sr(o)&&(e+=gM(s,i),i=""),r=o,s=s||!Sr(r);n++}return""!==i&&(e+=gM(s,i)),e}function hn(t){return Ni(()=>{const e=yM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_p.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ar.Emulated,styles:t.styles||be,_:null,schemas:t.schemas||null,tView:null,id:""};vM(n);const r=t.dependencies;return n.directiveDefs=yp(r,!1),n.pipeDefs=yp(r,!0),n.id=function J5(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Y5(t){return le(t)||Vt(t)}function X5(t){return null!==t}function vt(t){return Ni(()=>({type:t.type,bootstrap:t.bootstrap||be,declarations:t.declarations||be,imports:t.imports||be,exports:t.exports||be,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _M(t,e){if(null==t)return qr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Fe(t){return Ni(()=>{const e=yM(t);return vM(e),e})}function $n(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function le(t){return t[gu]||null}function Vt(t){return t[Gv]||null}function sn(t){return t[zv]||null}function fn(t,e){const n=t[eM]||null;if(!n&&!0===e)throw new Error(`Type ${xt(t)} does not have '\u0275mod' property.`);return n}function yM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||qr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||be,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_M(t.inputs,e),outputs:_M(t.outputs),debugInfo:null}}function vM(t){t.features?.forEach(e=>e(t))}function yp(t,e){if(!t)return null;const n=e?sn:Y5;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(X5)}const ft=0,R=1,K=2,tt=3,Rr=4,pn=5,xr=6,Ha=7,Ue=8,An=9,Ga=10,te=11,Iu=12,bM=13,za=14,ot=15,Eu=16,Wa=17,Kr=18,Tu=19,IM=20,ps=21,vp=22,fo=23,ne=25,nb=1,Qr=7,qa=9,bt=10;var Ka=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(Ka||{});function on(t){return Array.isArray(t)&&"object"==typeof t[nb]}function Kt(t){return Array.isArray(t)&&!0===t[nb]}function rb(t){return 0!=(4&t.flags)}function po(t){return t.componentOffset>-1}function Ip(t){return 1==(1&t.flags)}function Pr(t){return!!t.template}function ib(t){return 0!=(512&t[K])}function mo(t,e){return t.hasOwnProperty(ki)?t[ki]:null}class r6{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function go(){return CM}function CM(t){return t.type.prototype.ngOnChanges&&(t.setInput=o6),s6}function s6(){const t=AM(this),e=t?.current;if(e){const n=t.previous;if(n===qr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function o6(t,e,n,r){const i=this.declaredInputs[n],s=AM(t)||function a6(t,e){return t[DM]=e}(t,{previous:qr,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new r6(c&&c.currentValue,e,a===qr),t[r]=e}go.ngInherit=!0;const DM="__ngSimpleChanges__";function AM(t){return t[DM]||null}const Yr=function(t,e,n){};function je(t){for(;Array.isArray(t);)t=t[ft];return t}function Cu(t,e){return je(e[t])}function Sn(t,e){return je(e[t.index])}function Du(t,e){return t.data[e]}function Qa(t,e){return t[e]}function er(t,e){const n=e[t];return on(n)?n:n[ft]}function lb(t){return 128==(128&t[K])}function Xr(t,e){return null==e?null:t[e]}function xM(t){t[Wa]=0}function h6(t){1024&t[K]||(t[K]|=1024,lb(t)&&Ep(t))}function MM(t){return 9216&t[K]||t[fo]?.dirty}function kM(t){MM(t)&&Ep(t)}function Ep(t){let e=t[tt];for(;null!==e&&!(Kt(e)&&e[K]&Ka.HasChildViewsToRefresh||on(e)&&8192&e[K]);){if(Kt(e))e[K]|=Ka.HasChildViewsToRefresh;else if(e[K]|=8192,!lb(e))break;e=e[tt]}}function Tp(t,e){if(256==(256&t[K]))throw new S(911,!1);null===t[ps]&&(t[ps]=[]),t[ps].push(e)}const X={lFrame:HM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function OM(){return X.bindingsEnabled}function Ya(){return null!==X.skipHydrationRootTNode}function I(){return X.lFrame.lView}function ge(){return X.lFrame.tView}function ke(){let t=FM();for(;null!==t&&64===t.type;)t=t.parent;return t}function FM(){return X.lFrame.currentTNode}function Zr(t,e){const n=X.lFrame;n.currentTNode=t,n.isParent=e}function db(){return X.lFrame.isParent}function hb(){X.lFrame.isParent=!1}function Rn(){const t=X.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Jr(){return X.lFrame.bindingIndex++}function Fi(t){const e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function C6(t,e){const n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,fb(e)}function fb(t){X.lFrame.currentDirectiveIndex=t}function UM(){return X.lFrame.currentQueryIndex}function mb(t){X.lFrame.currentQueryIndex=t}function A6(t){const e=t[R];return 2===e.type?e.declTNode:1===e.type?t[pn]:null}function jM(t,e,n){if(n&fe.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&fe.Host||(i=A6(s),null===i||(s=s[za],10&i.type))););if(null===i)return!1;e=i,t=s}const r=X.lFrame=$M();return r.currentTNode=e,r.lView=t,!0}function gb(t){const e=$M(),n=t[R];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $M(){const t=X.lFrame,e=null===t?null:t.child;return null===e?HM(t):e}function HM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function GM(){const t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const zM=GM;function _b(){const t=GM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mn(){return X.lFrame.selectedIndex}function _o(t){X.lFrame.selectedIndex=t}function Ye(){const t=X.lFrame;return Du(t.tView,t.selectedIndex)}let qM=!0;function wp(){return qM}function ms(t){qM=t}function Cp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function Dp(t,e,n){KM(t,e,3,n)}function Ap(t,e,n,r){(3&t[K])===n&&KM(t,e,n,r)}function yb(t,e){let n=t[K];(3&n)===e&&(n&=16383,n+=1,t[K]=n)}function KM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Wa]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Wa]+=65536),(a<s||-1==s)&&(N6(t,n,e,c),t[Wa]=(4294901760&t[Wa])+c+2),c++}function QM(t,e){Yr(4,t,e);const n=ut(null);try{e.call(t)}finally{ut(n),Yr(5,t,e)}}function N6(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[K]>>14<t[Wa]>>16&&(3&t[K])===e&&(t[K]+=16384,QM(a,s)):QM(a,s)}const Xa=-1;class Su{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function bb(t){return t!==Xa}function Ru(t){return 32767&t}function xu(t,e){let n=function B6(t){return t>>16}(t),r=e;for(;n>0;)r=r[za],n--;return r}let Ib=!0;function Sp(t){const e=Ib;return Ib=t,e}const YM=255,XM=5;let U6=0;const ei={};function Rp(t,e){const n=ZM(t,e);if(-1!==n)return n;const r=e[R];r.firstCreatePass&&(t.injectorIndex=e.length,Eb(r.data,t),Eb(e,null),Eb(r.blueprint,null));const i=xp(t,e),s=t.injectorIndex;if(bb(i)){const o=Ru(i),a=xu(i,e),c=a[R].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function Eb(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ZM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function xp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=sk(i),null===r)return Xa;if(n++,i=i[za],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Xa}function Tb(t,e,n){!function j6(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(_u)&&(r=n[_u]),null==r&&(r=n[_u]=U6++);const i=r&YM;e.data[t+(i>>XM)]|=1<<i}(t,e,n)}function JM(t,e,n){if(n&fe.Optional||void 0!==t)return t;Wv()}function ek(t,e,n,r){if(n&fe.Optional&&void 0===r&&(r=null),!(n&(fe.Self|fe.Host))){const i=t[An],s=jn(void 0);try{return i?i.get(e,r,n&fe.Optional):sM(e,r,n&fe.Optional)}finally{jn(s)}}return JM(r,0,n)}function tk(t,e,n,r=fe.Default,i){if(null!==t){if(2048&e[K]&&!(r&fe.Self)){const o=function W6(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[K]&&!(512&o[K]);){const a=nk(s,o,n,r|fe.Self,ei);if(a!==ei)return a;let c=s.parent;if(!c){const l=o[IM];if(l){const u=l.get(n,ei,r);if(u!==ei)return u}c=sk(o),o=o[za]}s=c}return i}(t,e,n,r,ei);if(o!==ei)return o}const s=nk(t,e,n,r,ei);if(s!==ei)return s}return ek(e,n,r,i)}function nk(t,e,n,r,i){const s=function G6(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(_u)?t[_u]:void 0;return"number"==typeof e?e>=0?e&YM:z6:e}(n);if("function"==typeof s){if(!jM(e,t,r))return r&fe.Host?JM(i,0,r):ek(e,n,r,i);try{let o;if(o=s(r),null!=o||r&fe.Optional)return o;Wv()}finally{zM()}}else if("number"==typeof s){let o=null,a=ZM(t,e),c=Xa,l=r&fe.Host?e[ot][pn]:null;for((-1===a||r&fe.SkipSelf)&&(c=-1===a?xp(t,e):e[a+8],c!==Xa&&ik(r,!1)?(o=e[R],a=Ru(c),e=xu(c,e)):a=-1);-1!==a;){const u=e[R];if(rk(s,a,u.data)){const d=H6(a,e,n,o,r,l);if(d!==ei)return d}c=e[a+8],c!==Xa&&ik(r,e[R].data[a+8]===l)&&rk(s,a,e)?(o=u,a=Ru(c),e=xu(c,e)):a=-1}}return i}function H6(t,e,n,r,i,s){const o=e[R],a=o.data[t+8],u=Pp(a,o,n,null==r?po(a)&&Ib:r!=o&&0!=(3&a.type),i&fe.Host&&s===a);return null!==u?yo(e,o,u,a):ei}function Pp(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,h=i?a+u:t.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){const f=o[c];if(f&&Pr(f)&&f.type===n)return c}return null}function yo(t,e,n,r){let i=t[n];const s=e.data;if(function O6(t){return t instanceof Su}(i)){const o=i;o.resolving&&function E5(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ee(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ee(t)}(s[n]));const a=Sp(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?jn(o.injectImpl):null;jM(t,r,fe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function k6(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=CM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&jn(l),Sp(a),o.resolving=!1,zM()}}return i}function rk(t,e,n){return!!(n[e+(t>>XM)]&1<<t)}function ik(t,e){return!(t&fe.Self||t&fe.Host&&e)}class Bt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return tk(this._tNode,this._lView,e,gp(r),n)}}function z6(){return new Bt(ke(),I())}function wb(t){return Ni(()=>{const e=t.prototype.constructor,n=e[ki]||Cb(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ki]||Cb(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Cb(t){return dp(t)?()=>{const e=Cb(Q(t));return e&&e()}:mo(t)}function sk(t){const e=t[R],n=e.type;return 2===n?e.declTNode:1===n?t[pn]:null}function Pu(t){return function $6(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(uM(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(ke(),t)}const tc="__parameters__";function rc(t,e,n){return Ni(()=>{const r=function Db(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(tc)?c[tc]:Object.defineProperty(c,tc,{value:[]})[tc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function sc(t,e){t.forEach(n=>Array.isArray(n)?sc(n,e):e(n))}function ak(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Mp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ku(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function tr(t,e,n){let r=oc(t,e);return r>=0?t[1|r]=n:(r=~r,function ck(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Sb(t,e){const n=oc(t,e);if(n>=0)return t[1|n]}function oc(t,e){return function lk(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const It=vu(rc("Optional"),8),Nu=vu(rc("SkipSelf"),4),cc=new D("ENVIRONMENT_INITIALIZER"),fk=new D("INJECTOR",-1),Pb=new D("INJECTOR_DEF_TYPES");class Op{get(e,n=yu){if(n===yu){const r=new Error(`NullInjectorError: No provider for ${xt(e)}!`);throw r.name="NullInjectorError",r}return n}}function p9(...t){return{\u0275providers:mk(0,t),\u0275fromNgModule:!0}}function mk(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return sc(e,o=>{const a=o;Fp(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&gk(i,s),n}function gk(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Mb(i,s=>{e(s,r)})}}function Fp(t,e,n,r){if(!(t=Q(t)))return!1;let i=null,s=fp(t);const o=!s&&le(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=fp(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)Fp(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{sc(s.imports,u=>{Fp(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&gk(l,e)}if(!a){const l=mo(i)||(()=>new i);e({provide:i,useFactory:l,deps:be},i),e({provide:Pb,useValue:i,multi:!0},i),e({provide:cc,useValue:()=>M(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;Mb(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function Mb(t,e){for(let n of t)Hv(n)&&(n=n.\u0275providers),Array.isArray(n)?Mb(n,e):e(n)}const m9=Se({provide:String,useValue:Se});function kb(t){return null!==t&&"object"==typeof t&&m9 in t}function vo(t){return"function"==typeof t}const Nb=new D("Set Injector scope."),Lp={},_9={};let Ob;function Vp(){return void 0===Ob&&(Ob=new Op),Ob}class mr{}class lc extends mr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lb(e,o=>this.processProvider(o)),this.records.set(fk,uc(void 0,this)),i.has("environment")&&this.records.set(mr,uc(void 0,this));const s=this.records.get(Nb);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Pb,be,fe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=hs(this),r=jn(void 0);try{return e()}finally{hs(n),jn(r)}}get(e,n=yu,r=fe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tM))return e[tM](this);r=gp(r);const s=hs(this),o=jn(void 0);try{if(!(r&fe.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function E9(t){return"function"==typeof t||"object"==typeof t&&t instanceof D}(e)&&hp(e);c=l&&this.injectableDefInScope(l)?uc(Fb(e),Lp):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&fe.Self?Vp():this.parent).get(e,n=r&fe.Optional&&n===yu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[mp]=a[mp]||[]).unshift(xt(e)),s)throw a;return function L5(t,e,n,r){const i=t[mp];throw e[aM]&&i.unshift(e[aM]),t.message=function V5(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=xt(e);if(Array.isArray(e))i=e.map(xt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):xt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(M5,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[mp]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{jn(o),hs(s)}}resolveInjectorInitializers(){const e=hs(this),n=jn(void 0);try{const i=this.get(cc,be,fe.Self);for(const s of i)s()}finally{hs(e),jn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(xt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=vo(e=Q(e))?e:Q(e&&e.provide);const r=function v9(t){return kb(t)?uc(void 0,t.useValue):uc(function vk(t,e,n){let r;if(vo(t)){const i=Q(t);return mo(i)||Fb(i)}if(kb(t))r=()=>Q(t.useValue);else if(function yk(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...eb(t.deps||[]));else if(function _k(t){return!(!t||!t.useExisting)}(t))r=()=>M(Q(t.useExisting));else{const i=Q(t&&(t.useClass||t.provide));if(!function b9(t){return!!t.deps}(t))return mo(i)||Fb(i);r=()=>new i(...eb(t.deps))}return r}(t),Lp)}(e);if(vo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=uc(void 0,Lp,!0),i.factory=()=>eb(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Lp&&(n.value=_9,n.value=n.factory()),"object"==typeof n.value&&n.value&&function I9(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Fb(t){const e=hp(t),n=null!==e?e.factory:mo(t);if(null!==n)return n;if(t instanceof D)throw new S(204,!1);if(t instanceof Function)return function y9(t){const e=t.length;if(e>0)throw ku(e,"?"),new S(204,!1);const n=function S5(t){return t&&(t[pp]||t[rM])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function uc(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Lb(t,e){for(const n of t)Array.isArray(n)?Lb(n,e):n&&Hv(n)?Lb(n.\u0275providers,e):e(n)}function bo(t,e){t instanceof lc&&t.assertNotDestroyed();const r=hs(t),i=jn(void 0);try{return e()}finally{hs(r),jn(i)}}function Tk(t,e=null,n=null,r){const i=wk(t,e,n,r);return i.resolveInjectorInitializers(),i}function wk(t,e=null,n=null,r,i=new Set){const s=[n||be,p9(t)];return r=r||("object"==typeof t?void 0:xt(t)),new lc(s,e||Vp(),r||null,i)}let Ub,Pt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=yu;static#t=this.NULL=new Op;static create(n,r){if(Array.isArray(n))return Tk({name:""},r,n,"");{const i=n.name??"";return Tk({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=B({token:t,providedIn:"any",factory:()=>M(fk)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();const Up=new D("AppId",{providedIn:"root",factory:()=>P9}),P9="ng",Dk=new D("Platform Initializer"),ys=new D("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jb=new D("CSP nonce",{providedIn:"root",factory:()=>function _s(){if(void 0!==Ub)return Ub;if(typeof document<"u")return document;throw new S(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function nr(t){return t instanceof Function?t():t}function Gp(t){return 128==(128&t.flags)}var Is=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Is||{});const j9=/^>|^->|<!--|-->|--!>|<!-$/g,$9=/(<|>)/g,H9="\u200b$1\u200b";const Wb=new Map;let G9=0;const Kb="__ngContext__";function gn(t,e){on(e)?(t[Kb]=e[Tu],function W9(t){Wb.set(t[Tu],t)}(e)):t[Kb]=e}let Qb;function Yb(t,e){return Qb(t,e)}function Uu(t){const e=t[tt];return Kt(e)?e[tt]:e}function Gk(t){return Wk(t[Iu])}function zk(t){return Wk(t[Rr])}function Wk(t){for(;null!==t&&!Kt(t);)t=t[Rr];return t}function hc(t,e,n,r,i){if(null!=r){let s,o=!1;Kt(r)?s=r:on(r)&&(o=!0,r=r[ft]);const a=je(r);0===t&&null!==n?null==i?Yk(e,n,a):Io(e,n,a,i||null,!0):1===t&&null!==n?Io(e,n,a,i||null,!0):2===t?function Xp(t,e,n){const r=Qp(t,e);r&&function d8(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function p8(t,e,n,r,i){const s=n[Qr];s!==je(n)&&hc(e,t,r,s,i);for(let a=bt;a<n.length;a++){const c=n[a];Hu(c[R],c,t,e,r,s)}}(e,t,s,n,i)}}function Xb(t,e){return t.createComment(function Fk(t){return t.replace(j9,e=>e.replace($9,H9))}(e))}function qp(t,e,n){return t.createElement(e,n)}function Kk(t,e){const n=t[qa],r=n.indexOf(e);n.splice(r,1)}function ju(t,e){if(t.length<=bt)return;const n=bt+e,r=t[n];if(r){const i=r[Eu];null!==i&&i!==t&&Kk(i,r),e>0&&(t[n-1][Rr]=r[Rr]);const s=Mp(t,bt+e);!function r8(t,e){Hu(t,e,e[te],2,null,null),e[ft]=null,e[pn]=null}(r[R],r);const o=s[Kr];null!==o&&o.detachView(s[R]),r[tt]=null,r[Rr]=null,r[K]&=-129}return r}function Kp(t,e){if(!(256&e[K])){const n=e[te];n.destroyNode&&Hu(t,e,n,3,null,null),function o8(t){let e=t[Iu];if(!e)return Zb(t[R],t);for(;e;){let n=null;if(on(e))n=e[Iu];else{const r=e[bt];r&&(n=r)}if(!n){for(;e&&!e[Rr]&&e!==t;)on(e)&&Zb(e[R],e),e=e[tt];null===e&&(e=t),on(e)&&Zb(e[R],e),n=e&&e[Rr]}e=n}}(e)}}function Zb(t,e){if(!(256&e[K])){e[K]&=-129,e[K]|=256,e[fo]&&function bP(t){if(Ba(t),fu(t))for(let e=0;e<t.producerNode.length;e++)rp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[fo]),function u8(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Su)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];Yr(4,a,c);try{c.call(a)}finally{Yr(5,a,c)}}else{Yr(4,i,s);try{s.call(i)}finally{Yr(5,i,s)}}}}}(t,e),function l8(t,e){const n=t.cleanup,r=e[Ha];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ha]=null);const i=e[ps];if(null!==i){e[ps]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[R].type&&e[te].destroy();const n=e[Eu];if(null!==n&&Kt(e[tt])){n!==e[tt]&&Kk(n,e);const r=e[Kr];null!==r&&r.detachView(t)}!function q9(t){Wb.delete(t[Tu])}(e)}}function Jb(t,e,n){return function Qk(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ft];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ar.None||s===Ar.Emulated)return null}return Sn(r,n)}}(t,e.parent,n)}function Io(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Yk(t,e,n){t.appendChild(e,n)}function Xk(t,e,n,r,i){null!==r?Io(t,e,n,r,i):Yk(t,e,n)}function Qp(t,e){return t.parentNode(e)}function Zk(t,e,n){return eN(t,e,n)}let eI,Zp,Jp,eN=function Jk(t,e,n){return 40&t.type?Sn(t,n):null};function Yp(t,e,n,r){const i=Jb(t,r,e),s=e[te],a=Zk(r.parent||e[pn],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)Xk(s,i,n[c],a,!1);else Xk(s,i,n,a,!1);void 0!==eI&&eI(s,r,e,n,i)}function $u(t,e){if(null!==e){const n=e.type;if(3&n)return Sn(e,t);if(4&n)return tI(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return $u(t,r);{const i=t[e.index];return Kt(i)?tI(-1,i):je(i)}}if(32&n)return Yb(e,t)()||je(t[e.index]);{const r=nN(t,e);return null!==r?Array.isArray(r)?r[0]:$u(Uu(t[ot]),r):$u(t,e.next)}}return null}function nN(t,e){return null!==e?t[ot][pn].projection[e.projection]:null}function tI(t,e){const n=bt+t+1;if(n<e.length){const r=e[n],i=r[R].firstChild;if(null!==i)return $u(r,i)}return e[Qr]}function nI(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&gn(je(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)nI(t,e,n.child,r,i,s,!1),hc(e,t,i,a,s);else if(32&c){const l=Yb(n,r);let u;for(;u=l();)hc(e,t,i,u,s);hc(e,t,i,a,s)}else 16&c?iN(t,e,r,n,i,s):hc(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Hu(t,e,n,r,i,s){nI(n,r,t.firstChild,e,i,s,!1)}function iN(t,e,n,r,i,s){const o=n[ot],c=o[pn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)hc(e,t,i,c[l],s);else{let l=c;const u=o[tt];Gp(r)&&(l.flags|=128),nI(t,e,l,u,i,s,!0)}}function sN(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function oN(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&tb(t,e,r),null!==i&&sN(t,e,i),null!==s&&function g8(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function fc(t){return function rI(){if(void 0===Zp&&(Zp=null,Be.trustedTypes))try{Zp=Be.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zp}()?.createHTML(t)||t}function lN(t){return function iI(){if(void 0===Jp&&(Jp=null,Be.trustedTypes))try{Jp=Be.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Jp}()?.createScriptURL(t)||t}class Eo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${JP})`}}class b8 extends Eo{getTypeName(){return"HTML"}}class I8 extends Eo{getTypeName(){return"Style"}}class E8 extends Eo{getTypeName(){return"Script"}}class T8 extends Eo{getTypeName(){return"URL"}}class w8 extends Eo{getTypeName(){return"ResourceURL"}}function rr(t){return t instanceof Eo?t.changingThisBreaksApplicationSecurity:t}function ti(t,e){const n=function C8(t){return t instanceof Eo&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${JP})`)}return n===e}class P8{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(fc(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class M8{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=fc(e),n}}const N8=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function em(t){return(t=String(t)).match(N8)?t:"unsafe:"+t}function Li(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gu(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const dN=Li("area,br,col,hr,img,wbr"),hN=Li("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fN=Li("rp,rt"),sI=Gu(dN,Gu(hN,Li("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gu(fN,Li("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gu(fN,hN)),oI=Li("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pN=Gu(oI,Li("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Li("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),O8=Li("script,style,template");class F8{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!sI.hasOwnProperty(n))return this.sanitizedSomething=!0,!O8.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!pN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;oI[a]&&(c=em(c)),this.buf.push(" ",o,'="',mN(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();sI.hasOwnProperty(n)&&!dN.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(mN(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const L8=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,V8=/([^\#-~ |!])/g;function mN(t){return t.replace(/&/g,"&amp;").replace(L8,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(V8,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tm;function gN(t,e){let n=null;try{tm=tm||function uN(t){const e=new M8(t);return function k8(){try{return!!(new window.DOMParser).parseFromString(fc(""),"text/html")}catch{return!1}}()?new P8(e):e}(t);let r=e?String(e):"";n=tm.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=tm.getInertBodyElement(r)}while(r!==s);return fc((new F8).sanitizeChildren(aI(n)||n))}finally{if(n){const r=aI(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function aI(t){return"content"in t&&function B8(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var an=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(an||{});function zu(t){const e=Wu();return e?e.sanitize(an.URL,t)||"":ti(t,"URL")?rr(t):em(ee(t))}function _N(t){const e=Wu();if(e)return lN(e.sanitize(an.RESOURCE_URL,t)||"");if(ti(t,"ResourceURL"))return lN(rr(t));throw new S(904,!1)}function Wu(){const t=I();return t&&t[Ga].sanitizer}let vN=(t,e,n)=>null;function mI(t,e,n=!1){return vN(t,e,n)}class e7{}class EN{}class n7{resolveComponentFactory(e){throw function t7(t){const e=Error(`No component factory found for ${xt(t)}.`);return e.ngComponent=t,e}(e)}}let Qu=(()=>{class t{static#e=this.NULL=new n7}return t})();function r7(){return gc(ke(),I())}function gc(t,e){return new ni(Sn(t,e))}let ni=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=r7}return t})();function i7(t){return t instanceof ni?t.nativeElement:t}class wN{}let am=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function s7(){const t=I(),n=er(ke().index,t);return(on(n)?n:t)[te]}()}return t})(),o7=(()=>{class t{static#e=this.\u0275prov=B({token:t,providedIn:"root",factory:()=>null})}return t})();class To{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const CN=new To("17.0.7"),yI={};function DN(t){const e=ut(null);try{return t()}finally{ut(e)}}function cm(t){return!!vI(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function vI(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class AN{constructor(){}supports(e){return cm(e)}create(e){return new d7(e)}}const u7=(t,e)=>e;class d7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||u7}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<RN(r,i,s)?n:r,a=RN(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!cm(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function l7(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new h7(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new SN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class h7{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class f7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class SN{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new f7,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RN(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class xN{constructor(){}supports(e){return e instanceof Map||vI(e)}create(){return new p7}}class p7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||vI(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new m7(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class m7{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function PN(){return new lm([new AN])}let lm=(()=>{class t{static#e=this.\u0275prov=B({token:t,providedIn:"root",factory:PN});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||PN()),deps:[[t,new Nu,new It]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new S(901,!1)}}return t})();function MN(){return new Yu([new xN])}let Yu=(()=>{class t{static#e=this.\u0275prov=B({token:t,providedIn:"root",factory:MN});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||MN()),deps:[[t,new Nu,new It]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new S(901,!1)}}return t})();function Xu(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(je(s)),Kt(s)&&kN(s,r);const o=n.type;if(8&o)Xu(t,e,n.child,r);else if(32&o){const a=Yb(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=nN(e,n);if(Array.isArray(a))r.push(...a);else{const c=Uu(e[ot]);Xu(c[R],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function kN(t,e){for(let n=bt;n<t.length;n++){const r=t[n],i=r[R].firstChild;null!==i&&Xu(r[R],r,i,e)}t[Qr]!==t[ft]&&e.push(t[Qr])}let NN=[];const b7={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ep(t.lView)},consumerOnSignalRead(){this.lView[fo]=this}};function bI(t){return t.ngOriginalError}class gr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&bI(e);for(;n&&bI(n);)n=bI(n);return n||null}}const FN=new D("",{providedIn:"root",factory:()=>k(gr).handleError.bind(void 0)}),VN=new D("",{providedIn:"root",factory:()=>!1}),ie={};function Re(t){$N(ge(),I(),mn()+t,!1)}function $N(t,e,n,r){if(!r)if(3==(3&e[K])){const s=t.preOrderCheckHooks;null!==s&&Dp(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Ap(e,s,0,n)}_o(n)}function $(t,e=fe.Default){const n=I();return null===n?M(t,e):tk(ke(),n,Q(t),e)}function dm(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[ft]=i,d[K]=140|r,(null!==l||t&&2048&t[K])&&(d[K]|=2048),xM(d),d[tt]=d[za]=t,d[Ue]=n,d[Ga]=o||t&&t[Ga],d[te]=a||t&&t[te],d[An]=c||t&&t[An]||null,d[pn]=s,d[Tu]=function z9(){return G9++}(),d[xr]=u,d[IM]=l,d[ot]=2==e.type?t[ot]:d,d}function _c(t,e,n,r,i){let s=t.data[e];if(null===s)s=function II(t,e,n,r,i){const s=FM(),o=db(),c=t.data[e]=function k7(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Ya()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function w6(){return X.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Au(){const t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Zr(s,!0),s}function Zu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function GN(t,e,n,r,i){const s=mn(),o=2&r;try{_o(-1),o&&e.length>ne&&$N(t,e,ne,!1),Yr(o?2:0,i),n(r,i)}finally{_o(s),Yr(o?3:1,i)}}function EI(t,e,n){if(rb(e)){const r=ut(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ut(r)}}}function TI(t,e,n){OM()&&(function U7(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;po(n)&&function q7(t,e,n){const r=Sn(e,t),i=zN(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=hm(t,dm(t,i,null,o,r,e,null,t[Ga].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Rp(n,e),gn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=yo(e,t,a,n);gn(l,e),null!==o&&K7(0,a-i,l,c,0,o),Pr(c)&&(er(n.index,e)[Ue]=yo(e,t,a,n))}}(t,e,n,Sn(n,e)),64==(64&n.flags)&&YN(t,e,n))}function wI(t,e,n=Sn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function zN(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=CI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function CI(t,e,n,r,i,s,o,a,c,l,u){const d=ne+r,h=d+i,f=function A7(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ie);return n}(d,h),p="function"==typeof l?l():l;return f[R]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let WN=t=>null;function qN(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?KN(n,e,i,s):r.hasOwnProperty(i)&&KN(n,e,r[i],s)}return n}function KN(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function ir(t,e,n,r,i,s,o,a){const c=Sn(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(xI(t,n,u,r,i),po(e)&&function F7(t,e){const n=er(e,t);16&n[K]||(n[K]|=64)}(n,e.index)):3&e.type&&(r=function O7(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function DI(t,e,n,r){if(OM()){const i=null===r?null:{"":-1},s=function $7(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(mM(e,o.selectors,!1))if(r||(r=[]),Pr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),AI(t,e,a.length)}else r.unshift(o),AI(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&QN(t,e,n,o,i,a),i&&function H7(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=bu(n.mergedAttrs,n.attrs)}function QN(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Tb(Rp(n,e),t,r[l].type);!function z7(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Zu(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=bu(n.mergedAttrs,u.hostAttrs),W7(t,n,e,c,u),G7(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function N7(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=n?n.get(d):null,p=h?h.outputs:null;c=qN(d.inputs,u,c,h?h.inputs:null),l=qN(d.outputs,u,l,p);const m=null===c||null===o||pM(e)?null:Q7(c,u,o);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function YN(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function D6(){return X.lFrame.currentDirectiveIndex}();try{_o(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];fb(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&j7(c,l)}}finally{_o(-1),fb(o)}}function j7(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function AI(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function G7(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pr(e)&&(n[""]=t)}}function W7(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=mo(i.type)),o=new Su(s,Pr(i),$);t.blueprint[r]=o,n[r]=o,function V7(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function B7(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Zu(t,n,i.hostVars,ie),i)}function ri(t,e,n,r,i,s){const o=Sn(t,e);!function SI(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?ee(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[te],o,s,t.value,n,r,i)}function K7(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)XN(r,n,o[a++],o[a++],o[a++])}function XN(t,e,n,r,i){const s=ut(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ut(s)}}function Q7(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function ZN(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function JN(t,e){const n=t.contentQueries;if(null!==n){const r=ut(null);try{for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const a=t.data[o];mb(n[i]),a.contentQueries(2,e[o],o)}}}finally{ut(r)}}}function hm(t,e){return t[Iu]?t[bM][Rr]=e:t[Iu]=e,t[bM]=e,e}function RI(t,e,n){mb(0);const r=ut(null);try{e(t,n)}finally{ut(r)}}function eO(t){return t[Ha]||(t[Ha]=[])}function tO(t){return t.cleanup||(t.cleanup=[])}function fm(t,e){const n=t[An],r=n?n.get(gr,null):null;r&&r.handleError(e)}function xI(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];XN(t.data[o],e[o],r,a,i)}}function Vi(t,e,n){const r=Cu(e,t);!function qk(t,e,n){t.setValue(e,n)}(t[te],r,n)}function Z7(t,e,n,r){const i=e[K];if(256==(256&i))return;e[Ga].inlineEffectRunner?.flush(),gb(e);let o=null,a=null;(function J7(t){return 2!==t.type})(t)&&(a=function _7(t){return t[fo]??function y7(t){const e=NN.pop()??Object.create(b7);return e.lView=t,e}(t)}(e),o=function yP(t){return t&&(t.nextProducerIndex=0),ut(t)}(a));try{xM(e),function VM(t){return X.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&GN(t,e,n,2,r);const c=3==(3&i);if(c){const d=t.preOrderCheckHooks;null!==d&&Dp(e,d,null)}else{const d=t.preOrderHooks;null!==d&&Ap(e,d,0,null),yb(e,0)}if(function eK(t){for(let e=Gk(t);null!==e;e=zk(e)){if(!(e[K]&Ka.HasTransplantedViews))continue;const n=e[qa];for(let r=0;r<n.length;r++){h6(n[r])}}}(e),rO(e,0),null!==t.contentQueries&&JN(t,e),c){const d=t.contentCheckHooks;null!==d&&Dp(e,d)}else{const d=t.contentHooks;null!==d&&Ap(e,d,1),yb(e,1)}!function D7(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)_o(~i);else{const s=i,o=n[++r],a=n[++r];C6(o,s),a(2,e[s])}}}finally{_o(-1)}}(t,e);const l=t.components;null!==l&&sO(e,l,0);const u=t.viewQuery;if(null!==u&&RI(2,u,r),c){const d=t.viewCheckHooks;null!==d&&Dp(e,d)}else{const d=t.viewHooks;null!==d&&Ap(e,d,2),yb(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[vp]){for(const d of e[vp])d();e[vp]=null}e[K]&=-73}catch(c){throw Ep(e),c}finally{null!==a&&(function vP(t,e){if(ut(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(fu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)rp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(a,o),function v7(t){t.lView[fo]!==t&&(t.lView=null,NN.push(t))}(a)),_b()}}function rO(t,e){for(let n=Gk(t);null!==n;n=zk(n)){n[K]&=~Ka.HasChildViewsToRefresh;for(let r=bt;r<n.length;r++)iO(n[r],e)}}function tK(t,e,n){iO(er(e,t),n)}function iO(t,e){lb(t)&&MI(t,e)}function MI(t,e){const r=t[R],i=t[K],s=t[fo];let o=!!(0===e&&16&i);if(o||=!!(64&i&&0===e),o||=!!(1024&i),o||=!(!s?.dirty||!Tv(s)),s&&(s.dirty=!1),t[K]&=-9217,o)Z7(r,t,r.template,t[Ue]);else if(8192&i){rO(t,1);const a=r.components;null!==a&&sO(t,a,1)}}function sO(t,e,n){for(let r=0;r<e.length;r++)tK(t,e[r],n)}function Ju(t){for(;t;){t[K]|=64;const e=Uu(t);if(ib(t)&&!e)return t;t=e}return null}class ed{get rootNodes(){const e=this._lView,n=e[R];return Xu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ue]}set context(e){this._lView[Ue]=e}get destroyed(){return 256==(256&this._lView[K])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[tt];if(Kt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(ju(e,r),Mp(n,r))}this._attachedToViewContainer=!1}Kp(this._lView[R],this._lView)}onDestroy(e){Tp(this._lView,e)}markForCheck(){Ju(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){kM(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,function PI(t,e=!0){const n=t[Ga],r=n.rendererFactory,i=n.afterRenderEventManager;r.begin?.(),i?.begin();try{!function X7(t){MI(t,0);let e=0;for(;MM(t);){if(100===e)throw new S(103,!1);e++,MI(t,1)}}(t)}catch(o){throw e&&fm(t,o),o}finally{r.end?.(),n.inlineEffectRunner?.flush(),i?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function s8(t,e){Hu(t,e,e[te],2,null,null)}(this._lView[R],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}let pm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=nK}return t})();function nK(t){return function rK(t,e,n){if(po(t)&&!n){const r=er(t.index,e);return new ed(r,r)}return 47&t.type?new ed(e[ot],e):null}(ke(),I(),16==(16&t))}let mm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=aK;static#t=this.__NG_ENV_ID__=n=>n}return t})();class oK extends mm{constructor(e){super(),this._lView=e}onDestroy(e){return Tp(this._lView,e),()=>function ub(t,e){if(null===t[ps])return;const n=t[ps].indexOf(e);-1!==n&&t[ps].splice(n,1)}(this._lView,e)}}function aK(){return new oK(I())}const oO=new Set;function wo(t){oO.has(t)||(oO.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function kI(t){return e=>{setTimeout(t,void 0,e)}}const xn=class pK extends Yn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=kI(s),i&&(i=kI(i)),o&&(o=kI(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Dn&&e.add(a),a}};function aO(...t){}class pe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xn(!1),this.onMicrotaskEmpty=new xn(!1),this.onStable=new xn(!1),this.onError=new xn(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function mK(){const t="function"==typeof Be.requestAnimationFrame;let e=Be[t?"requestAnimationFrame":"setTimeout"],n=Be[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function yK(t){const e=()=>{!function _K(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Be,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,OI(t),t.isCheckStableRunning=!0,NI(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),OI(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function bK(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return cO(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),lO(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return cO(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),lO(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,OI(t),NI(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pe.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(pe.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,gK,aO,aO);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const gK={};function NI(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function OI(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function cO(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lO(t){t._nesting--,NI(t)}class vK{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xn,this.onMicrotaskEmpty=new xn,this.onStable=new xn,this.onError=new xn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const uO=new D("",{providedIn:"root",factory:dO});function dO(){const t=k(pe);let e=!0;return function y5(...t){const e=mu(t),n=function d5(t,e){return"number"==typeof Bv(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Bn(r[0]):Ua(n)(qt(r,e)):Wr}(new Qe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Qe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{pe.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(XP()))}var Co=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Co||{});const hO={destroy(){}};function pO(t,e){!e&&function Vb(t){if(!iM()&&!function N5(){return $a}())throw new S(-203,!1)}();const n=e?.injector??k(Pt);if(!function vs(t){return"browser"===(t??k(Pt)).get(ys)}(n))return hO;wo("NgAfterNextRender");const r=n.get(gm),i=r.handler??=new gO,s=e?.phase??Co.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(mm).onDestroy(o),c=new mO(n,s,()=>{o(),t()});return i.register(c),{destroy:o}}class mO{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(pe),this.errorHandler=e.get(gr,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class gO{constructor(){this.executingCallbacks=!1,this.buckets={[Co.EarlyRead]:new Set,[Co.Write]:new Set,[Co.MixedReadWrite]:new Set,[Co.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new S(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let gm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})();function TK(t,e){const n=er(e,t),r=n[R];!function wK(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[ft];null!==i&&null===n[xr]&&(n[xr]=mI(i,n[An])),FI(r,n,n[Ue])}function FI(t,e,n){gb(e);try{const r=t.viewQuery;null!==r&&RI(1,r,n);const i=t.template;null!==i&&GN(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&JN(t,e),t.staticViewQueries&&RI(2,t.viewQuery,n);const s=t.components;null!==s&&function CK(t,e){for(let n=0;n<e.length;n++)TK(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,_b()}}function _m(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=jv(i,a):2==s&&(r=jv(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class _O extends Qu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=le(e);return new td(n,this.ngModule)}}function yO(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class AK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=gp(r);const i=this.injector.get(e,yI,r);return i!==yI||n===yI?i:this.parentInjector.get(e,n,r)}}class td extends EN{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=yO(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return yO(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function K5(t){return t.map(q5).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof mr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new AK(e,s):e,a=o.get(wN,null);if(null===a)throw new S(407,!1);const u={rendererFactory:a,sanitizer:o.get(o7,null),inlineEffectRunner:null,afterRenderEventManager:o.get(gm,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function S7(t,e,n,r){const s=r.get(VN,!1)||n===Ar.ShadowDom,o=t.selectRootElement(e,s);return function R7(t){WN(t)}(o),o}(d,r,this.componentDef.encapsulation,o):qp(d,h,function DK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),g=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==f&&(y=mI(f,o,!0));const _=CI(0,null,null,1,0,null,null,null,null,null,null),E=dm(null,_,null,g,null,null,u,d,o,null,y);let x,V;gb(E);try{const H=this.componentDef;let De,Wt=null;H.findHostDirectiveDefs?(De=[],Wt=new Map,H.findHostDirectiveDefs(H,De,Wt),De.push(H)):De=[H];const Fa=function RK(t,e){const n=t[R],r=ne;return t[r]=e,_c(n,r,2,"#host",null)}(E,f),hu=function xK(t,e,n,r,i,s,o){const a=i[R];!function PK(t,e,n,r){for(const i of t)e.mergedAttrs=bu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(_m(e,e.mergedAttrs,!0),null!==n&&oN(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=mI(e,i[An]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=dm(i,zN(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&AI(a,t,r.length-1),hm(i,d),i[t.index]=d}(Fa,f,H,De,E,u,d);V=Du(_,ne),f&&function kK(t,e,n,r){if(r)tb(t,n,["ng-version",CN.full]);else{const{attrs:i,classes:s}=function Q5(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Sr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&tb(t,n,i),s&&s.length>0&&sN(t,n,s.join(" "))}}(d,H,f,r),void 0!==n&&function NK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(V,this.ngContentSelectors,n),x=function MK(t,e,n,r,i,s){const o=ke(),a=i[R],c=Sn(o,i);QN(a,i,o,n,null,r);for(let u=0;u<n.length;u++)gn(yo(i,a,o.directiveStart+u,o),i);YN(a,i,o),c&&gn(c,i);const l=yo(i,a,o.directiveStart+o.componentOffset,o);if(t[Ue]=i[Ue]=l,null!==s)for(const u of s)u(l,e);return EI(a,o,t),l}(hu,H,De,Wt,E,[OK]),FI(_,E,null)}finally{_b()}return new SK(this.componentType,x,gc(V,E),E,V)}}class SK extends e7{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ed(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;xI(s[R],s,i,e,n),this.previousInputValues.set(e,n),Ju(er(this._tNode.index,s))}}get injector(){return new Bt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function OK(){const t=ke();Cp(I()[R],t)}function LI(t){let e=function vO(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Pr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=ym(t.inputs),o.inputTransforms=ym(t.inputTransforms),o.declaredInputs=ym(t.declaredInputs),o.outputs=ym(t.outputs);const a=i.hostBindings;a&&BK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&LK(t,c),l&&VK(t,l),up(t.inputs,i.inputs),up(t.declaredInputs,i.declaredInputs),up(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),up(o.inputTransforms,i.inputTransforms)),Pr(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===LI&&(n=!1)}}e=Object.getPrototypeOf(e)}!function FK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bu(i.hostAttrs,n=bu(n,i.hostAttrs))}}(r)}function ym(t){return t===qr?{}:t===be?[]:t}function LK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function VK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function BK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function TO(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function ii(t,e,n){return t[e]=n}function nd(t,e){return t[e]}function Mt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Do(t,e,n,r){const i=Mt(t,e,n);return Mt(t,e+1,r)||i}function rd(t,e,n,r){const i=I();return Mt(i,Jr(),e)&&(ge(),ri(Ye(),i,t,e,n,r)),rd}function vc(t,e,n,r){return Mt(t,Jr(),n)?e+ee(n)+r:ie}function bc(t,e,n,r,i,s){const a=Do(t,function Oi(){return X.lFrame.bindingIndex}(),n,i);return Fi(2),a?e+ee(n)+r+ee(i)+s:ie}function bm(t,e){return t<<17|e<<2}function Es(t){return t>>17&32767}function VI(t){return 2|t}function Ao(t){return(131068&t)>>2}function BI(t,e){return-131069&t|e<<2}function UI(t){return 1|t}function kO(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Es(s):Ao(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];YK(t[a],e)&&(c=!0,t[a+1]=r?UI(u):VI(u)),a=r?Es(u):Ao(u)}c&&(t[n+1]=r?VI(s):UI(s))}function YK(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&oc(t,e)>=0}function at(t,e,n){const r=I();return Mt(r,Jr(),e)&&ir(ge(),Ye(),r,t,e,r[te],n,!1),at}function jI(t,e,n,r,i){const o=i?"class":"style";xI(t,n,e.inputs[o],o,r)}function id(t,e){return function Mr(t,e,n,r){const i=I(),s=ge(),o=Fi(2);s.firstUpdatePass&&function $O(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[mn()],o=function jO(t,e){return e>=t.expandoStartIndex}(t,n);(function WO(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function sQ(t,e,n,r){const i=function pb(t){const e=X.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=sd(n=$I(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=$I(i,t,e,n,r),null===s){let c=function oQ(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ao(r))return t[Es(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=$I(null,t,e,c[1],r),c=sd(c,e.attrs,r),function aQ(t,e,n,r){t[Es(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function cQ(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=sd(r,t[s].hostAttrs,n);return sd(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function KK(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Es(o),c=Ao(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||oc(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const h=Es(t[a+1]);t[r+1]=bm(h,a),0!==h&&(t[h+1]=BI(t[h+1],r)),t[a+1]=function WK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=bm(a,0),0!==a&&(t[a+1]=BI(t[a+1],r)),a=r;else t[r+1]=bm(c,0),0===a?a=r:t[c+1]=BI(t[c+1],r),c=r;l&&(t[r+1]=VI(t[r+1])),kO(t,u,r,!0),kO(t,u,r,!1),function QK(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&oc(s,e)>=0&&(n[r+1]=UI(n[r+1]))}(e,u,t,r,s),o=bm(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ie&&Mt(i,o,e)&&function GO(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function qK(t){return 1==(1&t)}(l)?zO(c,e,n,i,Ao(l),o):void 0;Im(u)||(Im(s)||function zK(t){return 2==(2&t)}(l)&&(s=zO(c,null,n,i,a,o)),function m8(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Is.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Is.Important),t.setStyle(n,r,i,s))}}(r,o,Cu(mn(),n),i,s))}(s,s.data[mn()],i,i[te],t,i[o+1]=function hQ(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=xt(rr(t)))),t}(e,n),r,o)}(t,e,null,!0),id}function $I(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=sd(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function sd(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),tr(t,o,!!n||e[++s]))}return void 0===t?null:t}function zO(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=n[i+1];h===ie&&(h=d?be:void 0);let f=d?Sb(h,r):u===r?h:void 0;if(l&&!Im(f)&&(f=Sb(c,r)),Im(f)&&(a=f,o))return a;const p=t[i+1];i=o?Es(p):Ao(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=Sb(c,r))}return a}function Im(t){return void 0!==t}function Rc(t,e){return!e||null===e.firstChild||Gp(t)}function dd(t,e,n,r=!0){const i=e[R];if(function a8(t,e,n,r){const i=bt+r,s=n.length;r>0&&(n[i-1][Rr]=e),r<s-bt?(e[Rr]=n[i],ak(n,bt+r,e)):(n.push(e),e[Rr]=null),e[tt]=n;const o=e[Eu];null!==o&&n!==o&&function c8(t,e){const n=t[qa];e[ot]!==e[tt][tt][ot]&&(t[K]|=Ka.HasTransplantedViews),null===n?t[qa]=[e]:n.push(e)}(o,e);const a=e[Kr];null!==a&&a.insertView(t),kM(e),e[K]|=128}(i,e,t,n),r){const o=tI(n,t),a=e[te],c=Qp(a,t[Qr]);null!==c&&function i8(t,e,n,r,i,s){r[ft]=i,r[pn]=e,Hu(t,r,n,1,i,s)}(i,t[pn],a,e,c,o)}const s=e[xr];null!==s&&null!==s.firstChild&&(s.firstChild=null)}let Nr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=WQ}return t})();function WQ(){return o1(ke(),I())}const qQ=Nr,r1=class extends qQ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return gc(this._hostTNode,this._hostLView)}get injector(){return new Bt(this._hostTNode,this._hostLView)}get parentInjector(){const e=xp(this._hostTNode,this._hostLView);if(bb(e)){const n=xu(e,this._hostLView),r=Ru(e);return new Bt(n[R].data[r+8],n)}return new Bt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=s1(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-bt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,Rc(this._hostTNode,null)),a}createComponent(e,n,r,i,s){const o=e&&!function Mu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}const c=o?e:new td(le(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(o?l:this.parentInjector).get(mr,null);m&&(s=m)}le(c.componentType??{});const f=c.create(l,i,null,s);return this.insertImpl(f.hostView,a,Rc(this._hostTNode,null)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function d6(t){return Kt(t[tt])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=i[tt],l=new r1(c,c[pn],c[tt]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;return dd(o,i,s,r),e.attachToViewContainerRef(),ak(XI(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=s1(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=ju(this._lContainer,n);r&&(Mp(XI(this._lContainer),n),Kp(r[R],r))}detach(e){const n=this._adjustIndex(e,-1),r=ju(this._lContainer,n);return r&&null!=Mp(XI(this._lContainer),n)?new ed(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function s1(t){return t[8]}function XI(t){return t[8]||(t[8]=[])}function o1(t,e){let n;const r=e[t.index];return Kt(r)?n=r:(n=ZN(r,e,null,t),e[t.index]=n,hm(e,n)),a1(n,e,t,r),new r1(n,t,e)}let a1=function l1(t,e,n,r){if(t[Qr])return;let i;i=8&n.type?je(r):function KQ(t,e){const n=t[te],r=n.createComment(""),i=Sn(e,t);return Io(n,Qp(n,i),r,function h8(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Qr]=i},ZI=(t,e,n)=>!1;function _n(t,e,n,r,i,s,o,a){const c=I(),l=ge(),u=t+ne,d=l.firstCreatePass?function ZQ(t,e,n,r,i,s,o,a,c){const l=e.consts,u=_c(e,t,4,o||null,Xr(l,a));DI(e,n,u,Xr(l,c)),Cp(e,u);const d=u.tView=CI(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];Zr(d,!1);const h=u1(l,c,d,t);wp()&&Yp(l,c,h,d),gn(h,c);const f=ZN(h,c,h,d);return c[u]=f,hm(c,f),function c1(t,e,n){return ZI(t,e,n)}(f,d,c),Ip(d)&&TI(l,c,d),null!=o&&wI(c,d,a),_n}let u1=function d1(t,e,n,r){return ms(!0),e[te].createComment("")};function q(t,e,n,r){const i=I(),s=ge(),o=ne+t,a=i[te],c=s.firstCreatePass?function jY(t,e,n,r,i,s){const o=e.consts,c=_c(e,t,2,r,Xr(o,i));return DI(e,n,c,Xr(o,s)),null!==c.attrs&&_m(c,c.attrs,!1),null!==c.mergedAttrs&&_m(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=N1(s,i,c,a,e,t);i[o]=l;const u=Ip(c);return Zr(c,!0),oN(a,l,c),32!=(32&c.flags)&&wp()&&Yp(s,i,l,c),0===function f6(){return X.lFrame.elementDepthCount}()&&gn(l,i),function p6(){X.lFrame.elementDepthCount++}(),u&&(TI(s,i,c),EI(s,c,i)),null!==r&&wI(i,c),q}function W(){let t=ke();db()?hb():(t=t.parent,Zr(t,!1));const e=t;(function g6(t){return X.skipHydrationRootTNode===t})(e)&&function b6(){X.skipHydrationRootTNode=null}(),function m6(){X.lFrame.elementDepthCount--}();const n=ge();return n.firstCreatePass&&(Cp(n,t),rb(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function L6(t){return 0!=(8&t.flags)}(e)&&jI(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function V6(t){return 0!=(16&t.flags)}(e)&&jI(n,e,I(),e.stylesWithoutHost,!1),W}function yn(t,e,n,r){return q(t,e,n,r),W(),yn}let N1=(t,e,n,r,i,s)=>(ms(!0),qp(r,i,function WM(){return X.lFrame.currentNamespace}()));function Ro(t,e,n){const r=I(),i=ge(),s=t+ne,o=i.firstCreatePass?function GY(t,e,n,r,i){const s=e.consts,o=Xr(s,r),a=_c(e,t,8,"ng-container",o);return null!==o&&_m(a,o,!0),DI(e,n,a,Xr(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Zr(o,!0);const a=O1(i,r,o,t);return r[s]=a,wp()&&Yp(i,r,a,o),gn(a,r),Ip(o)&&(TI(i,r,o),EI(i,o,r)),null!=n&&wI(r,o),Ro}function xo(){let t=ke();const e=ge();return db()?hb():(t=t.parent,Zr(t,!1)),e.firstCreatePass&&(Cp(e,t),rb(t)&&e.queries.elementEnd(t)),xo}function md(t,e,n){return Ro(t,e,n),xo(),md}let O1=(t,e,n,r)=>(ms(!0),Xb(e[te],""));const Lc="en-US";let U1=Lc;function Om(t){return!!t&&"function"==typeof t.then}function dF(t){return!!t&&"function"==typeof t.subscribe}function dE(t,e,n,r){const i=I(),s=ge(),o=ke();return function fF(t,e,n,r,i,s,o){const a=Ip(r),l=t.firstCreatePass&&tO(t),u=e[Ue],d=eO(e);let h=!0;if(3&r.type||o){const m=Sn(r,e),g=o?o(m):m,y=d.length,_=o?x=>o(je(x[r.index])):r.index;let E=null;if(!o&&a&&(E=function GX(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ha],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=mF(r,e,u,s,!1);const x=n.listen(g,i,s);d.push(s,x),l&&l.push(i,_,y,y+1)}}else s=mF(r,e,u,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const V=e[p[g]][p[g+1]].subscribe(s),H=d.length;d.push(s,V),l&&l.push(i,r.index,H,-(H+1))}}}(s,i,i[te],o,t,e,r),dE}function pF(t,e,n,r){try{return Yr(6,e,n),!1!==n(r)}catch(i){return fm(t,i),!1}finally{Yr(7,e,n)}}function mF(t,e,n,r,i){return function s(o){if(o===Function)return r;Ju(t.componentOffset>-1?er(t.index,e):e);let c=pF(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=pF(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function vr(t=1){return function S6(t){return(X.lFrame.contextLView=function PM(t,e){for(;t>0;)e=e[za],t--;return e}(t,X.lFrame.contextLView))[Ue]}(t)}function zX(t,e){let n=null;const r=function H5(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?mM(t,s,!0):W5(r,s))return i}else n=i}return n}function Fm(t,e,n){return Lm(t,"",e,"",n),Fm}function Lm(t,e,n,r,i){const s=I(),o=vc(s,e,n,r);return o!==ie&&ir(ge(),Ye(),s,t,o,s[te],i,!1),Lm}function _e(t,e=""){const n=I(),r=ge(),i=t+ne,s=r.firstCreatePass?_c(r,i,1,e,null):r.data[i],o=NF(r,n,s,e,t);n[i]=o,wp()&&Yp(r,n,o,s),Zr(s,!1)}let NF=(t,e,n,r,i)=>(ms(!0),function Wp(t,e){return t.createText(e)}(e[te],r));function ai(t){return hE("",t,""),ai}function hE(t,e,n){const r=I(),i=vc(r,t,e,n);return i!==ie&&Vi(r,mn(),i),hE}function fE(t,e,n,r,i){const s=I(),o=bc(s,t,e,n,r,i);return o!==ie&&Vi(s,mn(),o),fE}class Mo{}class HF{}class yE extends Mo{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _O(this);const i=fn(e);this._bootstrapComponents=nr(i.bootstrap),this._r3Injector=wk(e,n,[{provide:Mo,useValue:this},{provide:Qu,useValue:this.componentFactoryResolver},...r],xt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class vE extends HF{constructor(e){super(),this.moduleType=e}create(e){return new yE(this.moduleType,e,[])}}class GF extends Mo{constructor(e){super(),this.componentFactoryResolver=new _O(this),this.instance=null;const n=new lc([...e.providers,{provide:Mo,useValue:this},{provide:Qu,useValue:this.componentFactoryResolver}],e.parent||Vp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function bE(t,e,n=null){return new GF({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let dZ=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=mk(0,n.type),i=r.length>0?bE([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(M(mr))})}return t})();function zF(t){wo("NgStandalone"),t.getStandaloneInjector=e=>e.get(dZ).getOrCreateStandaloneInjector(t)}function EE(t,e,n){const r=Rn()+t,i=I();return i[r]===ie?ii(i,r,n?e.call(n):e()):nd(i,r)}function TE(t,e,n,r,i,s,o,a,c){const l=Rn()+t,u=I(),d=function _r(t,e,n,r,i,s){const o=Do(t,e,n,r);return Do(t,e+2,i,s)||o}(u,l,n,r,i,s);return Do(u,l+4,o,a)||d?ii(u,l+6,c?e.call(c,n,r,i,s,o,a):e(n,r,i,s,o,a)):nd(u,l+6)}function eL(t,e,n,r,i,s){const o=e+n;return Mt(t,o,i)?ii(t,o+1,s?r.call(s,i):r(i)):function Ed(t,e){const n=t[e];return n===ie?void 0:n}(t,o+1)}function oL(t,e,n){const r=t+ne,i=I(),s=Qa(i,r);return function Td(t,e){return t[R].data[e].pure}(i,r)?eL(i,Rn(),e,s.transform,n,s):s.transform(n)}function NZ(){return this._results[Symbol.iterator]()}class wE{static#e=Symbol.iterator;get changes(){return this._changes??=new xn}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=wE.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=NZ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;const r=function Hn(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function X6(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Or=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=LZ}return t})();const OZ=Or,FZ=class extends OZ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function ud(t,e,n,r){const i=e.tView,a=dm(t,i,n,4096&t[K]?4096:16,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null);a[Eu]=t[e.index];const l=t[Kr];return null!==l&&(a[Kr]=l.createEmbeddedView(i)),FI(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new ed(i)}};function LZ(){return Um(ke(),I())}function Um(t,e){return 4&t.type?new FZ(e,t,gc(t,e)):null}class CE{constructor(e){this.queryList=e,this.matches=null}clone(){return new CE(this.queryList)}setDirty(){this.queryList.setDirty()}}class DE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new DE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==dL(e,n).matches&&this.queries[n].setDirty()}}class aL{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class AE{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new AE(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class SE{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new SE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,VZ(n,s)),this.matchTNodeWithReadOption(e,n,Pp(n,e,s,!1,!1))}else r===Or?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Pp(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ni||i===Nr||i===Or&&4&n.type)this.addMatch(n.index,-2);else{const s=Pp(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function VZ(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function UZ(t,e,n,r){return-1===n?function BZ(t,e){return 11&t.type?gc(t,e):4&t.type?Um(t,e):null}(e,t):-2===n?function jZ(t,e,n){return n===ni?gc(e,t):n===Or?Um(e,t):n===Nr?o1(e,t):void 0}(t,e,r):yo(t,t[R],n,e)}function cL(t,e,n,r){const i=e[Kr].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:UZ(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function RE(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=cL(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=bt;d<u.length;d++){const h=u[d];h[Eu]===h[tt]&&RE(h[R],h,l,r)}if(null!==u[qa]){const d=u[qa];for(let h=0;h<d.length;h++){const f=d[h];RE(f[R],f,l,r)}}}}}return r}function xE(t){const e=I(),n=ge(),r=UM();mb(r+1);const i=dL(n,r);if(t.dirty&&function u6(t){return 4==(4&t[K])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?RE(n,e,r,[]):cL(n,e,i,r);t.reset(s,i7),t.notifyOnChanges()}return!0}return!1}function PE(t,e,n,r){const i=ge();if(i.firstCreatePass){const s=ke();(function uL(t,e,n){null===t.queries&&(t.queries=new AE),t.queries.track(new SE(e,n))})(i,new aL(e,n,r),s.index),function GZ(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function lL(t,e,n){const r=new wE(4==(4&n));(function M7(t,e,n,r){const i=eO(e);i.push(n),t.firstCreatePass&&tO(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Kr]&&(e[Kr]=new DE),e[Kr].queries.push(new CE(r))}(i,I(),n)}function dL(t,e){return t.queries.getByIndex(e)}function hL(t,e){return Um(t,e)}let SL=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),RL=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class hJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let xL=(()=>{class t{compileModuleSync(n){return new vE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=nr(fn(n).declarations).reduce((o,a)=>{const c=le(a);return c&&o.push(new td(c)),o},[]);return new hJ(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const OL=new D(""),Hm=new D("");let UE,VE=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,UE||(function LJ(t){UE=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(M(pe),M(BE),M(Hm))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),BE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return UE?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Gm=new D("Application Initializer");let jE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(Gm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Om(s))n.push(s);else if(dF(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $E=new D("appBootstrapListener");function VL(t,e){return Array.isArray(e)?e.reduce(VL,t):{...t,...e}}let Uc=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(FN),this.zoneIsStable=k(uO),this.componentTypes=[],this.components=[],this.isStable=k(RL).hasPendingTasks.pipe(Zn(n=>n?z(!1):this.zoneIsStable),ZP()),this._injector=k(mr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof EN;if(!this._injector.get(jE).done)throw!i&&function fs(t){const e=le(t)||Vt(t)||sn(t);return null!==e&&e.standalone}(n),new S(405,!1);let o;o=i?n:this._injector.get(Qu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function BJ(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Mo),l=o.create(Pt.NULL,[],r||o.selector,a),u=l.location.nativeElement,d=l.injector.get(OL,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),zm(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;zm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get($E,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>zm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let jJ=(()=>{class t{constructor(){this.zone=k(pe),this.applicationRef=k(Uc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $J(){const t=k(pe),e=k(gr);return n=>t.runOutsideAngular(()=>e.handleError(n))}const ci=new D("LocaleId",{providedIn:"root",factory:()=>k(ci,fe.Optional|fe.SkipSelf)||function GJ(){return typeof $localize<"u"&&$localize.locale||Lc}()}),HE=new D("PlatformDestroyListeners");let $L=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function IK(t="zone.js",e){return"noop"===t?new vK:"zone.js"===t?new pe(e):t}(r?.ngZone,function jL(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function uZ(t,e,n){return new yE(t,e,n)}(n.moduleType,this.injector,function UL(t){return[{provide:pe,useFactory:t},{provide:cc,multi:!0,useFactory:()=>{const e=k(jJ,{optional:!0});return()=>e.initialize()}},{provide:FN,useFactory:$J},{provide:uO,useFactory:dO}]}(()=>i)),o=s.injector.get(gr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{zm(this._modules,s),a.unsubscribe()})}),function LL(t,e,n){try{const r=n();return Om(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(jE);return a.runInitializers(),a.donePromise.then(()=>(function j1(t){Un(t,"Expected localeId to be defined"),"string"==typeof t&&(U1=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ci,Lc)||Lc),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=VL({},r);return function VJ(t,e,n){const r=new vE(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Uc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(HE,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(M(Pt))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ws=null;const HL=new D("AllowMultipleToken");function GL(t,e,n=[]){const r=`Platform: ${e}`,i=new D(r);return(s=[])=>{let o=GE();if(!o||o.injector.get(HL,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function qJ(t){if(ws&&!ws.get(HL,!1))throw new S(400,!1);(function FL(){!function y3(t){TP=t}(()=>{throw new S(600,!1)})})(),ws=t;const e=t.get($L);(function WL(t){t.get(Dk,null)?.forEach(n=>n())})(t)}(function zL(t=[],e){return Pt.create({name:e,providers:[{provide:Nb,useValue:"platform"},{provide:HE,useValue:new Set([()=>ws=null])},...t]})}(a,r))}return function KJ(t){const e=GE();if(!e)throw new S(401,!1);return e}()}}function GE(){return ws?.get($L)??null}const eee=GL(null,"core",[]);let tee=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(M(Uc))};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ht({})}return t})();function JE(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let eT=null;function $c(){return eT}class Ree{}const Tt=new D("DocumentToken");let tT=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:()=>k(Pee),providedIn:"platform"})}return t})();const xee=new D("Location Initialized");let Pee=(()=>{class t extends tT{constructor(){super(),this._doc=k(Tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $c().getBaseHref(this._doc)}onPopState(n){const r=$c().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=$c().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function nT(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function mV(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ui(t){return t&&"?"!==t[0]?"?"+t:t}let No=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:()=>k(gV),providedIn:"root"})}return t})();const rT=new D("appBaseHref");let gV=(()=>{class t extends No{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return nT(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ui(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ui(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(M(tT),M(rT,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Mee=(()=>{class t extends No{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=nT(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(M(tT),M(rT,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Sd=(()=>{class t{constructor(n){this._subject=new xn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Oee(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(mV(_V(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ui(r))}normalize(n){return t.stripTrailingSlash(function Nee(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,_V(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ui(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ui(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Ui;static#t=this.joinWithSlash=nT;static#n=this.stripTrailingSlash=mV;static#r=this.\u0275fac=function(r){return new(r||t)(M(No))};static#i=this.\u0275prov=B({token:t,factory:()=>function kee(){return new Sd(M(No))}(),providedIn:"root"})}return t})();function _V(t){return t.replace(/\/index.html$/,"")}const fT=/\s+/,DV=[];let AV=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=DV,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(fT):DV}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(fT):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(fT).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)($(lm),$(Yu),$(ni),$(am))};static#t=this.\u0275dir=Fe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class Ite{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pT=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ite(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),RV(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{RV(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)($(Nr),$(Or),$(lm))};static#t=this.\u0275dir=Fe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function RV(t,e){t.context.$implicit=e.item}let mT=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Ete,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){xV("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){xV("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)($(Nr),$(Or))};static#t=this.\u0275dir=Fe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class Ete{constructor(){this.$implicit=null,this.ngIf=null}}function xV(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${xt(e)}'.`)}let MV=(()=>{class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static#e=this.\u0275fac=function(r){return new(r||t)($(Nr))};static#t=this.\u0275dir=Fe({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[go]})}return t})();class Ste{createSubscription(e,n){return DN(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){DN(()=>e.unsubscribe())}}class Rte{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const xte=new Rte,Pte=new Ste;let kV=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Om(n))return xte;if(dF(n))return Pte;throw function Lr(t,e){return new S(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)($(pm,16))};static#t=this.\u0275pipe=$n({name:"async",type:t,pure:!1,standalone:!0})}return t})(),ug=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ht({})}return t})();const OV="browser";function FV(t){return"server"===t}let Jte=(()=>{class t{static#e=this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new ene(M(Tt),window)})}return t})();class ene{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function tne(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Cne extends Ree{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ET extends Cne{static makeCurrent(){!function See(t){eT||(eT=t)}(new ET)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Dne(){return Md=Md||document.querySelector("base"),Md?Md.getAttribute("href"):null}();return null==n?null:function Ane(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){Md=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function vte(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Md=null,Rne=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();const TT=new D("EventManagerPlugins");let UV=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(M(TT),M(pe))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();class jV{constructor(e){this._doc=e}}const wT="ng-app-id";let $V=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=FV(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${wT}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(wT),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(wT,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(M(Tt),M(Up),M(jb,8),M(ys))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();const CT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},DT=/%COMP%/g,kne=new D("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function GV(t,e){return e.map(n=>n.replace(DT,t))}let zV=(()=>{class t{constructor(n,r,i,s,o,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=FV(a),this.defaultRenderer=new AT(n,o,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ar.ShadowDom&&(r={...r,encapsulation:Ar.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof qV?i.applyToHost(n):i instanceof ST&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ar.Emulated:s=new qV(c,l,r,this.appId,u,o,a,d);break;case Ar.ShadowDom:return new Lne(c,l,n,r,o,a,this.nonce,d);default:s=new ST(c,l,r,u,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(M(UV),M($V),M(Up),M(kne),M(Tt),M(ys),M(pe),M(jb))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();class AT{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(CT[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(WV(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(WV(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=CT[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=CT[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Is.DashCase|Is.Important)?e.style.setProperty(n,r,i&Is.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Is.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=$c().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function WV(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Lne extends AT{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=GV(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ST extends AT{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?GV(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qV extends ST{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function Nne(t){return"_ngcontent-%COMP%".replace(DT,t)}(l),this.hostAttr=function One(t){return"_nghost-%COMP%".replace(DT,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Vne=(()=>{class t extends jV{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(M(Tt))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();const KV=["alt","control","meta","shift"],Bne={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Une={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let jne=(()=>{class t extends jV{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$c().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),KV.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=Bne[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),KV.forEach(o=>{o!==i&&(0,Une[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(M(Tt))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();const YV=[{provide:ys,useValue:OV},{provide:Dk,useValue:function $ne(){ET.makeCurrent()},multi:!0},{provide:Tt,useFactory:function Gne(){return function x9(t){Ub=t}(document),document},deps:[]}],zne=GL(eee,"browser",YV),Wne=new D(""),XV=[{provide:Hm,useClass:class Sne{addToWindow(e){Be.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new S(5103,!1);return s},Be.getAllAngularTestabilities=()=>e.getAllTestabilities(),Be.getAllAngularRootElements=()=>e.getAllRootElements(),Be.frameworkStabilizers||(Be.frameworkStabilizers=[]),Be.frameworkStabilizers.push(r=>{const i=Be.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?$c().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:OL,useClass:VE,deps:[pe,BE,Hm]},{provide:VE,useClass:VE,deps:[pe,BE,Hm]}],ZV=[{provide:Nb,useValue:"root"},{provide:gr,useFactory:function Hne(){return new gr},deps:[]},{provide:TT,useClass:Vne,multi:!0,deps:[Tt,pe,ys]},{provide:TT,useClass:jne,multi:!0,deps:[Tt]},zV,$V,UV,{provide:wN,useExisting:zV},{provide:class nne{},useClass:Rne,deps:[]},[]];let qne=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Up,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(M(Wne,12))};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ht({providers:[...ZV,...XV],imports:[ug,tee]})}return t})(),RT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(M(Tt))};static#t=this.\u0275prov=B({token:t,factory:function(r){let i=null;return i=r?new r:function Qne(){return new RT(M(Tt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let MT,PT=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:function(r){let i=null;return i=r?new(r||t):M(t2),i},providedIn:"root"})}return t})(),t2=(()=>{class t extends PT{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case an.NONE:return r;case an.HTML:return ti(r,"HTML")?rr(r):gN(this._doc,String(r)).toString();case an.STYLE:return ti(r,"Style")?rr(r):r;case an.SCRIPT:if(ti(r,"Script"))return rr(r);throw new S(5200,!1);case an.URL:return ti(r,"URL")?rr(r):em(String(r));case an.RESOURCE_URL:if(ti(r,"ResourceURL"))return rr(r);throw new S(5201,!1);default:throw new S(5202,!1)}}bypassSecurityTrustHtml(n){return function D8(t){return new b8(t)}(n)}bypassSecurityTrustStyle(n){return function A8(t){return new I8(t)}(n)}bypassSecurityTrustScript(n){return function S8(t){return new E8(t)}(n)}bypassSecurityTrustUrl(n){return function R8(t){return new T8(t)}(n)}bypassSecurityTrustResourceUrl(n){return function x8(t){return new w8(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(M(Tt))};static#t=this.\u0275prov=B({token:t,factory:function(r){let i=null;return i=r?new r:function Jne(t){return new t2(t.get(Tt))}(M(Pt)),i},providedIn:"root"})}return t})();try{MT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{MT=!1}let kd,r2=(()=>{class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function Zte(t){return t===OV}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!MT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||t)(M(ys))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Nd(t){return function ere(){if(null==kd&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>kd=!0}))}finally{kd=kd||!1}return kd}()?t:!!t.capture}let lre=(()=>{class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),o2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ht({providers:[lre]})}return t})();function a2(t){return Array.isArray(t)?t:[t]}const{isArray:hre}=Array,{getPrototypeOf:fre,prototype:pre,keys:mre}=Object;function l2(t){if(1===t.length){const e=t[0];if(hre(e))return{args:e,keys:null};if(function gre(t){return t&&"object"==typeof t&&fre(t)===pre}(e)){const n=mre(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:_re}=Array;function u2(t){return ae(e=>function yre(t,e){return _re(e)?t(...e):t(e)}(t,e))}function d2(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function pg(...t){const e=mu(t),n=QP(t),{args:r,keys:i}=l2(t);if(0===r.length)return qt([],e);const s=new Qe(function vre(t,e,n=ls){return r=>{h2(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)h2(e,()=>{const l=qt(t[c],e);let u=!1;l.subscribe(st(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>d2(i,o):ls));return n?s.pipe(u2(n)):s}function h2(t,e,n){t?Mi(n,t,e):e()}function mg(...t){return function bre(){return Ua(1)}()(qt(t,mu(t)))}function Ds(t){return t<=0?()=>Wr:dt((e,n)=>{let r=0;e.subscribe(st(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function or(t,e){return dt((n,r)=>{let i=0;n.subscribe(st(r,s=>t.call(e,s,i++)&&r.next(s)))})}class Ere extends Dn{constructor(e,n){super()}schedule(e,n=0){return this}}const gg={setInterval(t,e,...n){const{delegate:r}=gg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=gg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class f2 extends Ere{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return gg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&gg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ip(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const p2={now:()=>(p2.delegate||Date).now(),delegate:void 0};class Od{constructor(e,n=Od.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Od.now=p2.now;class m2 extends Od{constructor(e,n=Od.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const g2=new m2(f2);function NT(...t){const e=mu(t);return dt((n,r)=>{(e?mg(t,n,e):mg(t,n)).subscribe(r)})}function _2(t){return dt((e,n)=>{Bn(t).subscribe(st(n,()=>n.complete(),Sv)),!n.closed&&e.subscribe(n)})}const y2=new Set;let Fo,wre=(()=>{class t{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Dre}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function Cre(t,e){if(!y2.has(t))try{Fo||(Fo=document.createElement("style"),e&&(Fo.nonce=e),Fo.setAttribute("type","text/css"),document.head.appendChild(Fo)),Fo.sheet&&(Fo.sheet.insertRule(`@media ${t} {body{ }}`,0),y2.add(t))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static#e=this.\u0275fac=function(r){return new(r||t)(M(r2),M(jb,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dre(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Are=(()=>{class t{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Yn}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return v2(a2(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let s=pg(v2(a2(n)).map(o=>this._registerQuery(o).observable));return s=mg(s.pipe(Ds(1)),s.pipe(function Ire(t){return or((e,n)=>t<=n)}(1),function Tre(t,e=g2){return dt((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=s;s=null,r.next(l)}};function c(){const l=o+t,u=e.now();if(u<l)return i=this.schedule(void 0,l-u),void r.add(i);a()}n.subscribe(st(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(ae(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),s={observable:new Qe(o=>{const a=c=>this._zone.run(()=>o.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(NT(r),ae(({matches:o})=>({query:n,matches:o})),_2(this._destroySubject)),mql:r};return this._queries.set(n,s),s}static#e=this.\u0275fac=function(r){return new(r||t)(M(wre),M(pe))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function v2(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}const T2="cdk-high-contrast-black-on-white",w2="cdk-high-contrast-white-on-black",OT="cdk-high-contrast-active";let C2=(()=>{class t{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=k(Are).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(OT,T2,w2),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?n.add(OT,T2):2===r&&n.add(OT,w2)}}static#e=this.\u0275fac=function(r){return new(r||t)(M(r2),M(Tt))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vre=(()=>{class t{constructor(n){n._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(r){return new(r||t)(M(C2))};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ht({imports:[o2]})}return t})(),D2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ht({})}return t})();const $re=new D("mat-sanity-checks",{providedIn:"root",factory:function jre(){return!0}});let As=(()=>{class t{constructor(n,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!function rre(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}static#e=this.\u0275fac=function(r){return new(r||t)(M(C2),M($re,8),M(Tt))};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ht({imports:[D2,D2]})}return t})();function Hre(t,e){return class extends t{get color(){return this._color}set color(n){const r=n||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...n){super(...n),this.defaultColor=e,this.color=e}}}const R2=Nd({passive:!0,capture:!0});class Wre{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const n=function nre(t){return t.composedPath?t.composedPath()[0]:t.target}(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,r,i){const s=this._events.get(n);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,R2)})}removeHandler(e,n,r){const i=this._events.get(e);if(!i)return;const s=i.get(n);s&&(s.delete(r),0===s.size&&i.delete(n),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,R2)))}}class FT{static#e=this._eventManager=new Wre;constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=c2(r))}fadeInRipple(e,n,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...x2,...r.animation},o=r.radius||function Kre(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(e,n,i),a=e-i.left,c=n-i.top,l=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=c-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===i.width&&0===i.height,m=new zre(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,r.persistent||(this._mostRecentTransientRipple=m);return!p&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const y=()=>this._finishRippleTransition(m),_=()=>this._destroyRipple(m);u.addEventListener("transitionend",y),u.addEventListener("transitioncancel",_)}),this._activeRipples.set(m,null),(p||!l)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const n=e.element,r={...x2,...e.config.animation};n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const n=c2(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,M2.forEach(r=>{FT._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{k2.forEach(n=>{this._triggerElement.addEventListener(n,this,P2)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==n&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){const n=function Ore(t){return 0===t.buttons||0===t.detail}(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function Fre(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(M2.forEach(n=>FT._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&k2.forEach(n=>e.removeEventListener(n,this,P2)))}}let Qre=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ht({imports:[As,As]})}return t})();function Ld(t,e){const n=Ke(t)?t:()=>t,r=i=>i.error(n());return new Qe(e?i=>e.schedule(r,0,i):r)}function Ot(t,e,n){const r=Ke(t)||e||n?{next:t,error:e,complete:n}:t;return r?dt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(st(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ls}function Lo(t){return dt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(st(n,void 0,void 0,o=>{s=Bn(t(o,Lo(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function _g(t){return dt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function zc(t,e){return Ke(e)?rn(t,e,1):rn(t,1)}class LT{}class Hi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Hi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Hi;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Hi?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Xre{encodeKey(e){return N2(e)}encodeValue(e){return N2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Jre=/%(\d[a-f0-9])/gi,eie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function N2(t){return encodeURIComponent(t).replace(Jre,(e,n)=>eie[n]??e)}function yg(t){return`${t}`}class Ss{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Xre,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Zre(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(yg):[yg(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Ss({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(yg(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(yg(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class tie{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function O2(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function F2(t){return typeof Blob<"u"&&t instanceof Blob}function L2(t){return typeof FormData<"u"&&t instanceof FormData}class Vd{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function nie(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new Hi),this.context||(this.context=new tie),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Ss,this.urlWithParams=n}serializeBody(){return null===this.body?null:O2(this.body)||F2(this.body)||L2(this.body)||function rie(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ss?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||L2(this.body)?null:F2(this.body)?this.body.type||null:O2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ss?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new Vd(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var BT=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(BT||{});class iie{constructor(e,n=200,r="OK"){this.headers=e.headers||new Hi,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Bd extends iie{constructor(e={}){super(e),this.type=BT.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Bd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function UT(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let jT=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Vd)s=n;else{let c,l;c=i.headers instanceof Hi?i.headers:new Hi(i.headers),i.params&&(l=i.params instanceof Ss?i.params:new Ss({fromObject:i.params})),s=new Vd(n,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const o=z(s).pipe(zc(c=>this.handler.handle(c)));if(n instanceof Vd||"events"===i.observe)return o;const a=o.pipe(or(c=>c instanceof Bd));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ae(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ae(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ae(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(ae(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Ss).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,UT(i,r))}post(n,r,i={}){return this.request("POST",n,UT(i,r))}put(n,r,i={}){return this.request("PUT",n,UT(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(M(LT))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();const Die=["*"];let Ig;function Ud(t){return function Aie(){if(void 0===Ig&&(Ig=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(Ig=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Ig}()?.createHTML(t)||t}function Z2(t){return Error(`Unable to find icon with the name "${t}"`)}function J2(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function eB(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Bo{constructor(e,n,r){this.url=e,this.svgText=n,this.options=r}}let Eg=(()=>{class t{constructor(n,r,i,s){this._httpClient=n,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(n,r,i){return this.addSvgIconInNamespace("",n,r,i)}addSvgIconLiteral(n,r,i){return this.addSvgIconLiteralInNamespace("",n,r,i)}addSvgIconInNamespace(n,r,i,s){return this._addSvgIconConfig(n,r,new Bo(i,null,s))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,r,i,s){const o=this._sanitizer.sanitize(an.HTML,i);if(!o)throw eB(i);const a=Ud(o);return this._addSvgIconConfig(n,r,new Bo("",a,s))}addSvgIconSet(n,r){return this.addSvgIconSetInNamespace("",n,r)}addSvgIconSetLiteral(n,r){return this.addSvgIconSetLiteralInNamespace("",n,r)}addSvgIconSetInNamespace(n,r,i){return this._addSvgIconSetConfig(n,new Bo(r,null,i))}addSvgIconSetLiteralInNamespace(n,r,i){const s=this._sanitizer.sanitize(an.HTML,r);if(!s)throw eB(r);const o=Ud(s);return this._addSvgIconSetConfig(n,new Bo("",o,i))}registerFontClassAlias(n,r=n){return this._fontCssClassesByAlias.set(n,r),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const r=this._sanitizer.sanitize(an.RESOURCE_URL,n);if(!r)throw J2(n);const i=this._cachedIconsByUrl.get(r);return i?z(Tg(i)):this._loadSvgIconFromConfig(new Bo(n,null)).pipe(Ot(s=>this._cachedIconsByUrl.set(r,s)),ae(s=>Tg(s)))}getNamedSvgIcon(n,r=""){const i=tB(r,n);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,n),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(n,o):Ld(Z2(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?z(Tg(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(ae(r=>Tg(r)))}_getSvgFromIconSetConfigs(n,r){const i=this._extractIconWithNameFromAnySet(n,r);return i?z(i):function Yre(...t){const e=QP(t),{args:n,keys:r}=l2(t),i=new Qe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;Bn(n[u]).subscribe(st(s,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?d2(r,a):a),s.complete())}))}});return e?i.pipe(u2(e)):i}(r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Lo(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(an.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),z(null)})))).pipe(ae(()=>{const o=this._extractIconWithNameFromAnySet(n,r);if(!o)throw Z2(n);return o}))}_extractIconWithNameFromAnySet(n,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(n)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,n,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(Ot(r=>n.svgText=r),ae(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?z(null):this._fetchIcon(n).pipe(Ot(r=>n.svgText=r))}_extractSvgIconFromSet(n,r,i){const s=n.querySelector(`[id="${r}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,i);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),i);const a=this._svgElementFromString(Ud("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(n){const r=this._document.createElement("DIV");r.innerHTML=n;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(n){const r=this._svgElementFromString(Ud("<svg></svg>")),i=n.attributes;for(let s=0;s<i.length;s++){const{name:o,value:a}=i[s];"id"!==o&&r.setAttribute(o,a)}for(let s=0;s<n.childNodes.length;s++)n.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(n.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(n,r){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),r&&r.viewBox&&n.setAttribute("viewBox",r.viewBox),n}_fetchIcon(n){const{url:r,options:i}=n,s=i?.withCredentials??!1;if(!this._httpClient)throw function Sie(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const o=this._sanitizer.sanitize(an.RESOURCE_URL,r);if(!o)throw J2(r);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(ae(l=>Ud(l)),_g(()=>this._inProgressUrlFetches.delete(o)),XP());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(n,r,i){return this._svgIconConfigs.set(tB(n,r),i),this}_addSvgIconSetConfig(n,r){const i=this._iconSetConfigs.get(n);return i?i.push(r):this._iconSetConfigs.set(n,[r]),this}_svgElementFromConfig(n){if(!n.svgElement){const r=this._svgElementFromString(n.svgText);this._setSvgAttributes(r,n.options),n.svgElement=r}return n.svgElement}_getIconConfigFromResolvers(n,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,n);if(s)return xie(s)?new Bo(s.url,null,s.options):new Bo(s,null)}}static#e=this.\u0275fac=function(r){return new(r||t)(M(jT,8),M(PT),M(Tt,8),M(gr))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Tg(t){return t.cloneNode(!0)}function tB(t,e){return t+":"+e}function xie(t){return!(!t.url||!t.options)}const Pie=Hre(class{constructor(t){this._elementRef=t}}),Mie=new D("MAT_ICON_DEFAULT_OPTIONS"),kie=new D("mat-icon-location",{providedIn:"root",factory:function Nie(){const t=k(Tt),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),nB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Oie=nB.map(t=>`[${t}]`).join(", "),Fie=/^url\(['"]?#(.*?)['"]?\)$/;let GT=(()=>{class t extends Pie{get inline(){return this._inline}set inline(n){this._inline=function ure(t){return null!=t&&"false"!=`${t}`}(n)}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const r=this._cleanupFontValue(n);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const r=this._cleanupFontValue(n);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(n,r,i,s,o,a){super(n),this._iconRegistry=r,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Dn.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];const r=n.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let r=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=n.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>n.classList.remove(i)),r.forEach(i=>n.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${n}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(n){const r=n.querySelectorAll(Oie),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)nB.forEach(o=>{const a=r[s],c=a.getAttribute(o),l=c?c.match(Fie):null;if(l){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:o,value:l[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[r,i]=this._splitIconName(n);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Ds(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}static#e=this.\u0275fac=function(r){return new(r||t)($(ni),$(Eg),Pu("aria-hidden"),$(kie),$(gr),$(Mie,8))};static#t=this.\u0275cmp=hn({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(r,i){2&r&&(rd("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),id("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[LI],ngContentSelectors:Die,decls:1,vars:0,template:function(r,i){1&r&&(function Id(t){const e=I()[ot][pn];if(!e.projection){const r=e.projection=ku(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?zX(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function Bi(t,e=0,n){const r=I(),i=ge(),s=_c(i,ne+t,16,null,n||null);null===s.projection&&(s.projection=e),hb(),(!r[xr]||Ya())&&32!=(32&s.flags)&&function f8(t,e,n){iN(e[te],0,e,n,Jb(t,n,e),Zk(n.parent||e[pn],n,e))}(i,r,s)}(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return t})(),rB=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ht({imports:[As,As]})}return t})(),Uie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ht({})}return t})(),Qie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ht({imports:[ug,As,Uie,Qre,o2,Vre,As]})}return t})(),nse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ht({imports:[As,ug,As]})}return t})(),rse=(()=>{class t{constructor(){}ngOnInit(){}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=hn({type:t,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(r,i){1&r&&(q(0,"p"),_e(1,"page-not-found works!"),W())}})}return t})(),ise=(()=>{class t{constructor(){}ngOnInit(){}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=hn({type:t,selectors:[["app-portfolio"]],decls:2,vars:0,template:function(r,i){1&r&&(q(0,"p"),_e(1,"portfolio works!"),W())}})}return t})(),sse=(()=>{class t{constructor(){}ngOnInit(){}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=hn({type:t,selectors:[["app-about"]],decls:2,vars:0,template:function(r,i){1&r&&(q(0,"p"),_e(1,"about works!"),W())}})}return t})();class ose{name="";headline="";description="";skills="";technologies="";skillArr=[];techArr=[];cv_url="";phone="";email=""}function sB(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function C(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){sB(s,r,i,o,a,"next",c)}function a(c){sB(s,r,i,o,a,"throw",c)}o(void 0)})}}const P=function(t,e){if(!t)throw Wc(e)},Wc=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},oB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},YT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new cse;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cse extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aB=function(t){const e=oB(t);return YT.encodeByteArray(e,!0)},wg=function(t){return aB(t).replace(/\./g,"")},Cg=function(t){try{return YT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lse(t){return cB(void 0,t)}function cB(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!use(n)||(t[n]=cB(t[n],e[n]));return t}function use(t){return"__proto__"!==t}const Dg=()=>{try{return function dse(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},lB=t=>{const e=(t=>{var e,n;return null===(n=null===(e=Dg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uB=()=>{var t;return null===(t=Dg())||void 0===t?void 0:t.config};class Ag{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function dB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wg(JSON.stringify({alg:"none",type:"JWT"})),wg(JSON.stringify(o)),""].join(".")}function ar(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function XT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}function ZT(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function hB(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function JT(){try{return"object"==typeof indexedDB}catch{return!1}}function ew(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function fB(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uo.prototype.create)}}class Uo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function vse(t,e){return t.replace(bse,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new li(i,`${this.serviceName}: ${o} (${i}).`,r)}}const bse=/\{\$([^}]+)}/g;function $d(t){return JSON.parse(t)}function Ht(t){return JSON.stringify(t)}const Sg=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=$d(Cg(s[0])||""),n=$d(Cg(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function zi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function qc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function pB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rg(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function xg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mB(s)&&mB(o)){if(!xg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mB(t){return null!==t&&"object"==typeof t}function tw(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Tse{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let l,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):d<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class Cse{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Dse(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=nw),void 0===i.error&&(i.error=nw),void 0===i.complete&&(i.complete=nw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nw(){}function Hd(t,e){return`${t} failed: ${e} argument `}const Pg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},Sse=1e3,Rse=2,xse=144e5,Pse=.5;function gB(t,e=Sse,n=Rse){const r=e*Math.pow(n,t),i=Math.round(Pse*r*(Math.random()-.5)*2);return Math.min(xse,r+i)}function cr(t){return t&&t._delegate?t._delegate:t}class Er{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jo="[DEFAULT]";class kse{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ag;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Ose(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return C(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===jo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kse(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const rw=[];var Ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ce||{});const _B={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Lse=Ce.INFO,Vse={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},Bse=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Vse[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Gd{constructor(e){this.name=e,this._logLevel=Lse,this._logHandler=Bse,this._userLogHandler=null,rw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?_B[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const Use=(t,e)=>e.some(n=>t instanceof n);let yB,vB;const bB=new WeakMap,iw=new WeakMap,IB=new WeakMap,sw=new WeakMap,ow=new WeakMap;let aw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return iw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||IB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function qse(t){return"function"==typeof t?function Wse(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $se(){return vB||(vB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(cw(this),e),xs(bB.get(this))}:function(...e){return xs(t.apply(cw(this),e))}:function(e,...n){const r=t.call(cw(this),e,...n);return IB.set(r,e.sort?e.sort():[e]),xs(r)}}(t):(t instanceof IDBTransaction&&function Gse(t){if(iw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});iw.set(t,e)}(t),Use(t,function jse(){return yB||(yB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,aw):t)}function xs(t){if(t instanceof IDBRequest)return function Hse(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bB.set(n,t)}).catch(()=>{}),ow.set(e,t),e}(t);if(sw.has(t))return sw.get(t);const e=qse(t);return e!==t&&(sw.set(t,e),ow.set(e,t)),e}const cw=t=>ow.get(t),Qse=["get","getKey","getAll","getAllKeys","count"],Yse=["put","add","delete","clear"],lw=new Map;function EB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(lw.get(e))return lw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Yse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Qse.includes(n))return;const s=function(){var o=C(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return lw.set(e,s),s}!function zse(t){aw=t(aw)}(t=>({...t,get:(e,n,r)=>EB(e,n)||t.get(e,n,r),has:(e,n)=>!!EB(e,n)||t.has(e,n)}));class Xse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Zse(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const uw="@firebase/app",$o=new Gd("@firebase/app"),Mg="[DEFAULT]",woe={[uw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ho=new Map,kg=new Map;function Coe(t,e){try{t.container.addComponent(e)}catch(n){$o.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vr(t){const e=t.name;if(kg.has(e))return $o.debug(`There were multiple attempts to register component ${e}.`),!1;kg.set(e,t);for(const n of Ho.values())Coe(n,t);return!0}function Go(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Wi=new Uo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Aoe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}const zd="10.7.0";function wB(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Mg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Wi.create("bad-app-name",{appName:String(i)});if(n||(n=uB()),!n)throw Wi.create("no-options");const s=Ho.get(i);if(s){if(xg(n,s.options)&&xg(r,s.config))return s;throw Wi.create("duplicate-app",{appName:i})}const o=new Fse(i);for(const c of kg.values())o.addComponent(c);const a=new Aoe(n,r,o);return Ho.set(i,a),a}function Ng(t=Mg){const e=Ho.get(t);if(!e&&t===Mg&&uB())return wB();if(!e)throw Wi.create("no-app",{appName:t});return e}function CB(){return Array.from(Ho.values())}function mt(t,e,n){var r;let i=null!==(r=woe[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void $o.warn(a.join(" "))}Vr(new Er(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Soe="firebase-heartbeat-database",Roe=1,Wd="firebase-heartbeat-store";let hw=null;function DB(){return hw||(hw=function Kse(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=xs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(xs(o.result),c.oldVersion,c.newVersion,xs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(Soe,Roe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Wd)}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),hw}function fw(){return(fw=C(function*(t){try{return yield(yield DB()).transaction(Wd).objectStore(Wd).get(SB(t))}catch(e){if(e instanceof li)$o.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e?.message});$o.warn(n.message)}}})).apply(this,arguments)}function AB(t,e){return pw.apply(this,arguments)}function pw(){return(pw=C(function*(t,e){try{const r=(yield DB()).transaction(Wd,"readwrite");yield r.objectStore(Wd).put(e,SB(t)),yield r.done}catch(n){if(n instanceof li)$o.warn(n.message);else{const r=Wi.create("idb-set",{originalErrorMessage:n?.message});$o.warn(r.message)}}})).apply(this,arguments)}function SB(t){return`${t.name}!${t.options.appId}`}class koe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ooe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return C(function*(){var n,r;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RB();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return C(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=RB(),{heartbeatsToSend:i,unsentEntries:s}=function Noe(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xB(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xB(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=wg(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function RB(){return(new Date).toISOString().substring(0,10)}class Ooe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(function*(){return!!JT()&&ew().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return C(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function xoe(t){return fw.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return C(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return AB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return C(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return AB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function xB(t){return wg(JSON.stringify({version:2,heartbeats:t})).length}!function Foe(t){Vr(new Er("platform-logger",e=>new Xse(e),"PRIVATE")),Vr(new Er("heartbeat",e=>new koe(e),"PRIVATE")),mt(uw,"0.9.24",t),mt(uw,"0.9.24","esm2017"),mt("fire-js","")}(""),mt("firebase","10.7.0","app");const joe=new class Uoe extends m2{}(class Boe extends f2{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),zo=new To("ANGULARFIRE2_VERSION");function Og(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const qd=(t,e)=>{const n=e?[e]:CB(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class PB{constructor(){return qd(Hoe)}}const Hoe="app-check";function Kc(){}class MB{zone;delegate;constructor(e,n=joe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Goe{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kc,{},Kc,Kc)),n.pipe(Ot({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fg=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new MB(Zone.current)),this.insideAngular=n.run(()=>new MB(Zone.current,g2)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(M(pe))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qc(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Wo(t){return Qc().ngZone.run(()=>t())}function Woe(t){return function qoe(t){return function(n){return(n=n.lift(new Goe(t.ngZone))).pipe(lp(t.outsideAngular),cp(t.insideAngular))}}(Qc())(t)}const Koe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Wo(()=>t.apply(void 0,r))},ui=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=Wo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kc,{},Kc,Kc))),r[s]=Koe(r[s],n));const i=function zoe(t){return Qc().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Qe){const s=Qc();return i.pipe(lp(s.outsideAngular),cp(s.insideAngular))}return Wo(()=>i)}return i instanceof Qe?i.pipe(Woe):i instanceof Promise?Wo(()=>new Promise((s,o)=>i.then(a=>Wo(()=>s(a)),a=>Wo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Wo(()=>i)};class qo{constructor(e){return e}}class Lg{constructor(){return CB()}}const mw=new D("angularfire2._apps"),Yoe={provide:qo,useFactory:function Qoe(t){return t&&1===t.length?t[0]:new qo(Ng())},deps:[[new It,mw]]},Xoe={provide:Lg,deps:[[new It,mw]]};function Zoe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new qo(r)}}let Joe=(()=>{class t{constructor(n){mt("angularfire",zo.full,"core"),mt("angularfire",zo.full,"app"),mt("angular",CN.full,n.toString())}static \u0275fac=function(r){return new(r||t)(M(ys))};static \u0275mod=vt({type:t});static \u0275inj=ht({providers:[Yoe,Xoe]})}return t})();function eae(t,...e){return{ngModule:Joe,providers:[{provide:mw,useFactory:Zoe(t),multi:!0,deps:[pe,Pt,Fg,...e]}]}}const tae=ui(wB,!0);const nae=function kB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},NB=new Uo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Vg=new Gd("@firebase/auth");function Bg(t,...e){Vg.logLevel<=Ce.ERROR&&Vg.error(`Auth (${zd}): ${t}`,...e)}function Wn(t,...e){throw gw(t,...e)}function di(t,...e){return gw(t,...e)}function gw(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NB.create(t,...e)}function N(t,e,...n){if(!t)throw gw(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bg(e),new Error(e)}function Ps(t,e){t||hi(e)}function FB(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Qd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=XT()||hB()}get(){return function iae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function _w(){return"http:"===FB()||"https:"===FB()}()||ZT()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class LB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},aae=new Qd(3e4,6e4);function Xe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ze(t,e,n,r){return vw.apply(this,arguments)}function vw(){return(vw=C(function*(t,e,n,r,i={}){return VB(t,i,C(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=tw(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),LB.fetch()(BB(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function VB(t,e,n){return bw.apply(this,arguments)}function bw(){return(bw=C(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},oae),e);try{const i=new lae(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Yd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Yd(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Yd(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Yd(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function OB(t,e,n){const r=Object.assign(Object.assign({},nae()),{[e]:n});return new Uo("auth","Firebase",r).create(e,{appName:t.name})}(t,u,l);Wn(t,u)}}catch(i){if(i instanceof li)throw i;Wn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function BB(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function yw(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class lae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(di(this.auth,"network-request-failed")),aae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=di(t,e,r);return i.customData._tokenResponse=n,i}function ww(){return(ww=C(function*(t,e){return Ze(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Dw(){return(Dw=C(function*(t,e){return Ze(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Xd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Aw(){return(Aw=C(function*(t,e=!1){const n=cr(t),r=yield n.getIdToken(e),i=Ug(r);N(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Xd(Sw(i.auth_time)),issuedAtTime:Xd(Sw(i.iat)),expirationTime:Xd(Sw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Sw(t){return 1e3*Number(t)}function Ug(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Bg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Cg(n);return i?JSON.parse(i):(Bg("Failed to decode base64 JWT payload"),null)}catch(i){return Bg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ki(t,e){return Rw.apply(this,arguments)}function Rw(){return(Rw=C(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof li&&function gae({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class _ae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(C(function*(){yield n.iteration()}),r)}iteration(){var e=this;return C(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class GB{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xd(this.lastLoginAt),this.creationTime=Xd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zd(t){return xw.apply(this,arguments)}function xw(){return xw=C(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ki(t,function fae(t,e){return Dw.apply(this,arguments)}(n,{idToken:r}));N(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function bae(t){return t.map(e=>{var{providerId:n}=e,r=Fv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function vae(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new GB(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),xw.apply(this,arguments)}function Pw(){return(Pw=C(function*(t){const e=cr(t);yield Zd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Mw(){return(Mw=C(function*(t,e){const n=yield VB(t,{},C(function*(){const r=tw({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=BB(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",LB.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function kw(){return(kw=C(function*(t,e){return Ze(t,"POST","/v2/accounts:revokeToken",Xe(t,e))})).apply(this,arguments)}class Jd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function mae(t){const e=Ug(t);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return C(function*(){return N(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return C(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Iae(t,e){return Mw.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Jd;return r&&(N("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(N("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(N("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jd,this.toJSON())}_performRefresh(){return hi("not implemented")}}function Ms(t,e){N("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ko{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Fv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _ae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new GB(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return C(function*(){const r=yield Ki(n,n.stsTokenManager.getToken(n.auth,e));return N(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function pae(t){return Aw.apply(this,arguments)}(this,e)}reload(){return function yae(t){return Pw.apply(this,arguments)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ko(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return C(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Zd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return C(function*(){const n=yield e.getIdToken();return yield Ki(e,function dae(t,e){return ww.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,g=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,y=null!==(l=n.createdAt)&&void 0!==l?l:void 0,_=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:E,emailVerified:x,isAnonymous:V,providerData:H,stsTokenManager:De}=n;N(E&&De,e,"internal-error");const Wt=Jd.fromJSON(this.name,De);N("string"==typeof E,e,"internal-error"),Ms(d,e.name),Ms(h,e.name),N("boolean"==typeof x,e,"internal-error"),N("boolean"==typeof V,e,"internal-error"),Ms(f,e.name),Ms(p,e.name),Ms(m,e.name),Ms(g,e.name),Ms(y,e.name),Ms(_,e.name);const Fa=new Ko({uid:E,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Wt,createdAt:y,lastLoginAt:_});return H&&Array.isArray(H)&&(Fa.providerData=H.map(hu=>Object.assign({},hu))),g&&(Fa._redirectEventId=g),Fa}static _fromIdTokenResponse(e,n,r=!1){return C(function*(){const i=new Jd;i.updateFromServerResponse(n);const s=new Ko({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zd(s),s})()}}const zB=new Map;function Qi(t){Ps(t instanceof Function,"Expected a class definition");let e=zB.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zB.set(t,e),e)}const WB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(function*(){return!0})()}_set(n,r){var i=this;return C(function*(){i.storage[n]=r})()}_get(n){var r=this;return C(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return C(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function jg(t,e,n){return`firebase:${t}:${e}:${n}`}class Xc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=jg(this.userKey,i.apiKey,s),this.fullPersistenceKey=jg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return C(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ko._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return C(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(function*(){if(!n.length)return new Xc(Qi(WB),e,r);const i=(yield Promise.all(n.map(function(){var l=C(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Qi(WB);const o=jg(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=Ko._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=C(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Xc(s,e,r)):new Xc(s,e,r)})()}}function qB(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function YB(t=ar()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function KB(t=ar()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function ZB(t=ar()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function JB(t=ar()){return/webos/i.test(t)}(e))return"Webos";if(function Nw(t=ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function QB(t=ar()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function XB(t=ar()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function eU(t,e=[]){let n;switch(t){case"Browser":n=qB(ar());break;case"Worker":n=`${qB(ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zd}/${r}`}class Cae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return C(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function Ow(){return(Ow=C(function*(t,e={}){return Ze(t,"GET","/v2/passwordPolicy",Xe(t,e))})).apply(this,arguments)}class Sae{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Rae{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tU(this),this.idTokenSubscription=new tU(this),this.beforeStateQueue=new Cae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(C(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Xc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return C(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return C(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return N(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return C(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return C(function*(){try{yield Zd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function sae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return C(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return C(function*(){const r=e?cr(e):null;return r&&N(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return C(function*(){if(!r._deleted)return e&&N(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(C(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return C(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(C(function*(){yield n.assertedPersistence.setPersistence(Qi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return C(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return C(function*(){const n=yield function Dae(t){return Ow.apply(this,arguments)}(e),r=new Sae(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return C(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function Eae(t,e){return kw.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return C(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return C(function*(){if(!n.redirectPersistenceManager){const r=e&&Qi(e)||n._popupRedirectResolver;N(r,n,"argument-error"),n.redirectPersistenceManager=yield Xc.create(n,[Qi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return C(function*(){var r,i;return n._isInitialized&&(yield n.queue(C(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return C(function*(){if(e===n.currentUser)return n.queue(C(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return C(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return C(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return C(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function rae(t,...e){Vg.logLevel<=Ce.WARN&&Vg.warn(`Auth (${zd}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class tU{constructor(e){this.auth=e,this.observer=null,this.addObserver=function wse(t,e){const n=new Cse(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function nU(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Qd(3e4,6e4),new Qd(2e3,1e4),new Qd(3e4,6e4),new Qd(5e3,15e3),encodeURIComponent("fac");var kU="@firebase/auth";class Mle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return C(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Vle(t){return new Qe(function(e){var n=function bce(t,e,n,r){return cr(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}Dg(),function Nle(t){Vr(new Er("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;N(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eU(t)},l=new Rae(r,i,s,c);return function Fae(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vr(new Er("auth-internal",e=>{const n=function Ct(t){return cr(t)}(e.getProvider("auth").getImmediate());return new Mle(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mt(kU,"1.5.0",function kle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),mt(kU,"1.5.0","esm2017")}("Browser");class e_{constructor(e){return e}}class CD{constructor(){return qd("auth")}}const Hle=ui(Vle,!0),LU="@firebase/database";let AD="";class Gle{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ht(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:$d(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class zle{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return zi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const UU=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Gle(e)}}catch{}return new zle},Zo=UU("localStorage"),SD=UU("sessionStorage"),Zc=new Gd("@firebase/database"),jU=function(){let t=1;return function(){return t++}}(),$U=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,P(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Tse;n.update(e);const r=n.digest();return YT.encodeByteArray(r)},sh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=sh.apply(null,r):e+="object"==typeof r?Ht(r):r,e+=" "}return e};let Jo=null,HU=!0;const Qt=function(...t){if(!0===HU&&(HU=!1,null===Jo&&!0===SD.get("logging_enabled")&&function(t,e){P(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Zc.logLevel=Ce.VERBOSE,Jo=Zc.log.bind(Zc),e&&SD.set("logging_enabled",!0)):"function"==typeof t?Jo=t:(Jo=null,SD.remove("logging_enabled"))}(!0)),Jo){const e=sh.apply(null,t);Jo(e)}},oh=function(t){return function(...e){Qt(t,...e)}},RD=function(...t){const e="FIREBASE INTERNAL ERROR: "+sh(...t);Zc.error(e)},fi=function(...t){const e=`FIREBASE FATAL ERROR: ${sh(...t)}`;throw Zc.error(e),new Error(e)},vn=function(...t){const e="FIREBASE WARNING: "+sh(...t);Zc.warn(e)},t_=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ks="[MIN_NAME]",Xi="[MAX_NAME]",ea=function(t,e){if(t===e)return 0;if(t===ks||e===Xi)return-1;if(e===ks||t===Xi)return 1;{const n=qU(t),r=qU(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Kle=function(t,e){return t===e?0:t<e?-1:1},ah=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ht(e))},xD=function(t){if("object"!=typeof t||null===t)return Ht(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Ht(e[r]),n+=":",n+=xD(t[e[r]]);return n+="}",n},zU=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Yt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const WU=function(t){P(!t_(t),"Invalid JSON number");const r=1023;let i,s,o,a,c;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=11;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Zle=new RegExp("^-?(0*)\\d{1,10}$"),qU=function(t){if(Zle.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Jc=function(t){try{t()}catch(e){setTimeout(()=>{throw vn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},ch=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class nue{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){vn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class rue{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vn(e)}}let lh=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const ZU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tj="websocket",nj="long_polling";class MD{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zo.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Zo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function rj(t,e,n){let r;if(P("string"==typeof e,"typeof type must == string"),P("object"==typeof n,"typeof params must == object"),e===tj)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==nj)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function iue(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Yt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class sue{constructor(){this.counters_={}}incrementCounter(e,n=1){zi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return lse(this.counters_)}}const kD={},ND={};function OD(t){const e=t.toString();return kD[e]||(kD[e]=new sue),kD[e]}class aue{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Jc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ns{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=oh(e),this.stats_=OD(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),rj(n,nj,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new aue(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FD((...s)=>{const[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=c;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ZU.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ns.forceAllow_=!0}static forceDisallow(){Ns.forceDisallow_=!0}static isAvailable(){return!(!Ns.forceAllow_&&(Ns.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=aB(n),i=zU(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ht(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class FD{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=jU(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=FD.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Qt("frame writing exception"),a.stack&&Qt(a.stack),Qt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Qt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let r_=null;typeof MozWebSocket<"u"?r_=MozWebSocket:typeof WebSocket<"u"&&(r_=WebSocket);let el=(()=>{class t{constructor(n,r,i,s,o,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=oh(this.connId),this.stats_=OD(r),this.connURL=t.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&ZU.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),rj(n,tj,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zo.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new r_(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==r_&&!t.forceDisallow_}static previouslyFailed(){return Zo.isInMemoryStorage||!0===Zo.get("previous_websocket_failure")}markConnectionHealthy(){Zo.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=$d(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(P(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Ht(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=zU(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),uj=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ns,el]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=el&&el.isAvailable();let i=r&&!el.previouslyFailed();if(n.webSocketOnly&&(r||vn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[el];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class _j{constructor(e,n,r,i,s,o,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=oh("c:"+this.id+":"),this.transportManager_=new uj(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ch(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ah("t",e),r=ah("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ah("t",e),r=ah("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ah("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?RD("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):RD("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&vn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ch(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ch(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class yj{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class vj{constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){P(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class i_ extends vj{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!XT()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new i_}getInitialEvent(e){return P("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ae{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ie(){return new Ae("")}function ue(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Os(t){return t.pieces_.length-t.pieceNum_}function Ve(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ae(t.pieces_,e)}function VD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function uh(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Ej(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ae(e,0)}function nt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ae)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ae(n,0)}function de(t){return t.pieceNum_>=t.pieces_.length}function On(t,e){const n=ue(t),r=ue(e);if(null===n)return e;if(n===r)return On(Ve(t),Ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function BD(t,e){if(Os(t)!==Os(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function wr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Os(t)>Os(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class xue{constructor(e,n){this.errorPrefix_=n,this.parts_=uh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Pg(this.parts_[r]);Tj(this)}}function Tj(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ta(t))}function ta(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class UD extends vj{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new UD}getInitialEvent(e){return P("visible"===e,"Unknown event type: "+e),[this.visible_]}}const dh=1e3;let o_,na=(()=>{class t extends yj{constructor(n,r,i,s,o,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=oh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=dh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");UD.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&i_.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Ht(o)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new Ag,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),P(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,c=>{const l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&zi(n,"w")){const i=qc(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();vn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=Sg(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=Sg(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),P(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ht(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):RD("Unrecognized action received from server: "+Ht(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dh,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=dh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=dh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return C(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,s())};n.realtime_={close:u,sendRequest:function(f){P(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);c?Qt("getToken() completed but was canceled"):(Qt("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,l=new _j(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,m=>{vn(m+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),c||(n.repoInfo_.nodeAdmin&&vn(f),u())}}})()}interrupt(n){Qt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Qt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],pB(this.interruptReasons_)&&(this.reconnectDelay_=dh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>xD(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new Ae(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Qt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Qt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+AD.replace(/\./g,"-")]=1,XT()?n["framework.cordova"]=1:hB()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=i_.getInstance().currentlyOnline();return pB(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class he{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new he(e,n)}}class s_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new he(ks,e),i=new he(ks,n);return 0!==this.compare(r,i)}minPost(){return he.MIN}}class Dj extends s_{static get __EMPTY_NODE(){return o_}static set __EMPTY_NODE(e){o_=e}compare(e,n){return ea(e.name,n.name)}isDefinedOn(e){throw Wc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return he.MIN}maxPost(){return new he(Xi,o_)}makePost(e,n){return P("string"==typeof e,"KeyIndex indexValue must always be a string."),new he(e,o_)}toString(){return".key"}}const pi=new Dj;class a_{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let $D,Br=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??qn.EMPTY_NODE,this.right=o??qn.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return qn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return qn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class qn{constructor(e,n=qn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new qn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Br.BLACK,null,null))}remove(e){return new qn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Br.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new a_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new a_(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new a_(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new a_(this.root_,null,this.comparator_,!0,e)}}function Vue(t,e){return ea(t.name,e.name)}function jD(t,e){return ea(t,e)}qn.EMPTY_NODE=new class Lue{copy(e,n,r,i,s){return this}insert(e,n,r){return new Br(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Aj=function(t){return"number"==typeof t?"number:"+WU(t):"string:"+t},Sj=function(t){if(t.isLeafNode()){const e=t.val();P("string"==typeof e||"number"==typeof e||"object"==typeof e&&zi(e,".sv"),"Priority must be a string or number.")}else P(t===$D||t.isEmpty(),"priority of unexpected type.");P(t===$D||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Rj,xj,Pj,tl=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,P(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Sj(this.priorityNode_)}static set __childrenNodeConstructor(n){Rj=n}static get __childrenNodeConstructor(){return Rj}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return de(n)?this:".priority"===ue(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=ue(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(P(".priority"!==i||1===Os(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ve(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Aj(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?WU(this.value_):this.value_,this.lazyHash_=$U(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(P(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return P(s>=0,"Unknown leaf type: "+r),P(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Ge=new class $ue extends s_{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?ea(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return he.MIN}maxPost(){return new he(Xi,new tl("[PRIORITY-POST]",Pj))}makePost(e,n){const r=xj(e);return new he(n,new tl("[PRIORITY-POST]",r))}toString(){return".priority"}},Hue=Math.log(2);class Gue{constructor(e){this.count=parseInt(Math.log(e+1)/Hue,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const c_=function(t,e,n,r){t.sort(e);const i=function(c,l){const u=l-c;let d,h;if(0===u)return null;if(1===u)return d=t[c],h=n?n(d):d,new Br(h,d.node,Br.BLACK,null,null);{const f=parseInt(u/2,10)+c,p=i(c,f),m=i(f+1,l);return d=t[f],h=n?n(d):d,new Br(h,d.node,Br.BLACK,p,m)}},a=function(c){let l=null,u=null,d=t.length;const h=function(p,m){const g=d-p,y=d;d-=p;const _=i(g+1,y),E=t[g],x=n?n(E):E;f(new Br(x,E.node,m,null,_))},f=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){const m=c.nextBitIsOne(),g=Math.pow(2,c.count-(p+1));m?h(g,Br.BLACK):(h(g,Br.BLACK),h(g,Br.RED))}return u}(new Gue(t.length));return new qn(r||e,a)};let HD;const nl={};class Zi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return P(nl&&Ge,"ChildrenNode.ts has not been loaded"),HD=HD||new Zi({".priority":nl},{".priority":Ge}),HD}get(e){const n=qc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof qn?n:null}hasIndex(e){return zi(this.indexSet_,e.toString())}addIndex(e,n){P(e!==pi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(he.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?c_(r,e.getCompare()):nl;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=a,new Zi(u,l)}addToIndexes(e,n){const r=Rg(this.indexes_,(i,s)=>{const o=qc(this.indexSet_,s);if(P(o,"Missing index implementation for "+s),i===nl){if(o.isDefinedOn(e.node)){const a=[],c=n.getIterator(he.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),c_(a,o.getCompare())}return nl}{const a=n.get(e.name);let c=i;return a&&(c=c.remove(new he(e.name,a))),c.insert(e,e.node)}});return new Zi(r,this.indexSet_)}removeFromIndexes(e,n){const r=Rg(this.indexes_,i=>{if(i===nl)return i;{const s=n.get(e.name);return s?i.remove(new he(e.name,s)):i}});return new Zi(r,this.indexSet_)}}let hh,se=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Sj(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hh||(hh=new t(new qn(jD),null,Zi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hh}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?hh:r}}getChild(n){const r=ue(n);return null===r?this:this.getImmediateChild(r).getChild(Ve(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(P(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new he(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?hh:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=ue(n);if(null===i)return r;{P(".priority"!==ue(n)||1===Os(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ve(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Ge,(a,c)=>{r[a]=c.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+Aj(this.getPriority().val())+":"),this.forEachChild(Ge,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":$U(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new he(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new he(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new he(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,he.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,he.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===fh?-1:0}withIndex(n){if(n===pi||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===pi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Ge),s=r.getIterator(Ge);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===pi?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const fh=new class zue extends se{constructor(){super(new qn(jD),se.EMPTY_NODE,Zi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(he,{MIN:{value:new he(ks,se.EMPTY_NODE)},MAX:{value:new he(Xi,fh)}}),Dj.__EMPTY_NODE=se.EMPTY_NODE,tl.__childrenNodeConstructor=se,function Bue(t){$D=t}(fh),function jue(t){Pj=t}(fh);const Wue=!0;function ct(t,e=null){if(null===t)return se.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),P(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new tl(t,ct(e));if(t instanceof Array||!Wue){let n=se.EMPTY_NODE;return Yt(t,(r,i)=>{if(zi(t,r)&&"."!==r.substring(0,1)){const s=ct(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ct(e))}{const n=[];let r=!1;if(Yt(t,(o,a)=>{if("."!==o.substring(0,1)){const c=ct(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new he(o,c)))}}),0===n.length)return se.EMPTY_NODE;const s=c_(n,Vue,o=>o.name,jD);if(r){const o=c_(n,Ge.getCompare());return new se(s,ct(e),new Zi({".priority":o},{".priority":Ge}))}return new se(s,ct(e),Zi.Default)}}!function Uue(t){xj=t}(ct);class GD extends s_{constructor(e){super(),this.indexPath_=e,P(!de(e)&&".priority"!==ue(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?ea(e.name,n.name):s}makePost(e,n){const r=ct(e),i=se.EMPTY_NODE.updateChild(this.indexPath_,r);return new he(n,i)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,fh);return new he(Xi,e)}toString(){return uh(this.indexPath_,0).join("/")}}const zD=new class que extends s_{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?ea(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,n){const r=ct(e);return new he(n,r)}toString(){return".value"}};function Mj(t){return{type:"value",snapshotNode:t}}function rl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ph(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function mh(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class WD{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){P(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ph(n,a)):P(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(rl(n,r)):o.trackChildChange(mh(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Ge,(i,s)=>{n.hasChild(i)||r.trackChildChange(ph(i,s))}),n.isLeafNode()||n.forEachChild(Ge,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(mh(i,s,o))}else r.trackChildChange(rl(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?se.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class gh{constructor(e){this.indexedFilter_=new WD(e.getIndex()),this.index_=e.getIndex(),this.startPost_=gh.getStartPost_(e),this.endPost_=gh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new he(n,r))||(r=se.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=se.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(se.EMPTY_NODE);const s=this;return n.forEachChild(Ge,(o,a)=>{s.matches(new he(o,a))||(i=i.updateImmediateChild(o,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class Que{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new gh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new he(n,r))||(r=se.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=se.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let s;i=se.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),o++}}}else{let s;i=n.withIndex(this.index_),i=i.updatePriority(se.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;P(a.numChildren()===this.limit_,"");const c=new he(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=h&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:o(h,c);if(u&&!r.isEmpty()&&f>=0)return s?.trackChildChange(mh(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange(ph(n,d));const m=a.updateImmediateChild(n,se.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(s?.trackChildChange(rl(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}return r.isEmpty()?e:u&&o(l,c)>=0?(null!=s&&(s.trackChildChange(ph(l.name,l.node)),s.trackChildChange(rl(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,se.EMPTY_NODE)):e}}class qD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ks}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const e=new qD;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function kj(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ge?n="$priority":t.index_===zD?n="$value":t.index_===pi?n="$key":(P(t.index_ instanceof GD,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ht(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ht(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ht(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ht(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ht(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Nj(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Ge&&(e.i=t.index_.toString()),e}class u_ extends yj{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=oh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(P(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=u_.getListenId_(e,r),a={};this.listens_[o]=a;const c=kj(e._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let d=u;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(s,d,!1,r),qc(this.listens_,o)===a){let h;h=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(h,null)}})}unlisten(e,n){const r=u_.getListenId_(e,n);delete this.listens_[r]}get(e){const n=kj(e._queryParams),r=e._path.toString(),i=new Ag;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+tw(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=$d(a.responseText)}catch{vn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&vn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class tde{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function d_(){return{value:null,children:new Map}}function il(t,e,n){if(de(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=ue(e);t.children.has(r)||t.children.set(r,d_()),il(t.children.get(r),e=Ve(e),n)}}function XD(t,e,n){null!==t.value?n(e,t.value):function nde(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{XD(i,new Ae(e.toString()+"/"+r),n)})}class rde{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Yt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class ode{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new rde(e);const r=1e4+2e4*Math.random();ch(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Yt(e,(i,s)=>{s>0&&zi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ch(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var mi=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(mi||{});function eA(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class h_{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=mi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(de(this.path)){if(null!=this.affectedTree.value)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ae(e));return new h_(Ie(),n,this.revert)}}return P(ue(this.path)===e,"operationForChild called for unrelated child."),new h_(Ve(this.path),this.affectedTree,this.revert)}}class _h{constructor(e,n){this.source=e,this.path=n,this.type=mi.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new _h(this.source,Ie()):new _h(this.source,Ve(this.path))}}class ra{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=mi.OVERWRITE}operationForChild(e){return de(this.path)?new ra(this.source,Ie(),this.snap.getImmediateChild(e)):new ra(this.source,Ve(this.path),this.snap)}}class sl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=mi.MERGE}operationForChild(e){if(de(this.path)){const n=this.children.subtree(new Ae(e));return n.isEmpty()?null:n.value?new ra(this.source,Ie(),n.value):new sl(this.source,Ie(),n)}return P(ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sl(this.source,Ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Fs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const n=ue(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class ade{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function yh(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,c)=>function ude(t,e,n){if(null==e.childName||null==n.childName)throw Wc("Should only compare child_ events.");const r=new he(e.childName,e.snapshotNode),i=new he(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,c)),o.forEach(a=>{const c=function lde(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function f_(t,e){return{eventCache:t,serverCache:e}}function vh(t,e,n,r){return f_(new Fs(e,n,r),t.serverCache)}function Fj(t,e,n,r){return f_(t.eventCache,new Fs(e,n,r))}function p_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ia(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let tA;class ze{constructor(e,n=(()=>(tA||(tA=new qn(Kle)),tA))()){this.value=e,this.children=n}static fromObject(e){let n=new ze(null);return Yt(e,(r,i)=>{n=n.set(new Ae(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Ie(),value:this.value};if(de(e))return null;{const r=ue(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Ve(e),n);return null!=s?{path:nt(new Ae(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const n=ue(e),r=this.children.get(n);return null!==r?r.subtree(Ve(e)):new ze(null)}}set(e,n){if(de(e))return new ze(n,this.children);{const r=ue(e),s=(this.children.get(r)||new ze(null)).set(Ve(e),n),o=this.children.insert(r,s);return new ze(this.value,o)}}remove(e){if(de(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const n=ue(e),r=this.children.get(n);if(r){const i=r.remove(Ve(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new ze(null):new ze(this.value,s)}return this}}get(e){if(de(e))return this.value;{const n=ue(e),r=this.children.get(n);return r?r.get(Ve(e)):null}}setTree(e,n){if(de(e))return n;{const r=ue(e),s=(this.children.get(r)||new ze(null)).setTree(Ve(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new ze(this.value,o)}}fold(e){return this.fold_(Ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(nt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ie(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(de(e))return null;{const s=ue(e),o=this.children.get(s);return o?o.findOnPath_(Ve(e),nt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ie(),n)}foreachOnPath_(e,n,r){if(de(e))return this;{this.value&&r(n,this.value);const i=ue(e),s=this.children.get(i);return s?s.foreachOnPath_(Ve(e),nt(n,i),r):new ze(null)}}foreach(e){this.foreach_(Ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(nt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Ur{constructor(e){this.writeTree_=e}static empty(){return new Ur(new ze(null))}}function bh(t,e,n){if(de(e))return new Ur(new ze(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=On(i,e);return s=s.updateChild(o,n),new Ur(t.writeTree_.set(i,s))}{const i=new ze(n),s=t.writeTree_.setTree(e,i);return new Ur(s)}}}function nA(t,e,n){let r=t;return Yt(n,(i,s)=>{r=bh(r,nt(e,i),s)}),r}function Lj(t,e){if(de(e))return Ur.empty();{const n=t.writeTree_.setTree(e,new ze(null));return new Ur(n)}}function rA(t,e){return null!=sa(t,e)}function sa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(On(n.path,e)):null}function Vj(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ge,(r,i)=>{e.push(new he(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new he(r,i.value))}),e}function Ls(t,e){if(de(e))return t;{const n=sa(t,e);return new Ur(null!=n?new ze(n):t.writeTree_.subtree(e))}}function iA(t){return t.writeTree_.isEmpty()}function ol(t,e){return Bj(Ie(),t.writeTree_,e)}function Bj(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(P(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=Bj(nt(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(nt(t,".priority"),r)),n}}function m_(t,e){return Gj(e,t)}function gde(t,e){if(t.snap)return wr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&wr(nt(t.path,n),e))return!0;return!1}function yde(t){return t.visible}function Uj(t,e,n){let r=Ur.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)wr(n,o)?(a=On(n,o),r=bh(r,a,s.snap)):wr(o,n)&&(a=On(o,n),r=bh(r,Ie(),s.snap.getChild(a)));else{if(!s.children)throw Wc("WriteRecord should have .snap or .children");if(wr(n,o))a=On(n,o),r=nA(r,a,s.children);else if(wr(o,n))if(a=On(o,n),de(a))r=nA(r,Ie(),s.children);else{const c=qc(s.children,ue(a));if(c){const l=c.getChild(Ve(a));r=bh(r,Ie(),l)}}}}}return r}function jj(t,e,n,r,i){if(r||i){const s=Ls(t.visibleWrites,e);return!i&&iA(s)?n:i||null!=n||rA(s,Ie())?ol(Uj(t.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(wr(l.path,e)||wr(e,l.path))},e),n||se.EMPTY_NODE):null}{const s=sa(t.visibleWrites,e);if(null!=s)return s;{const o=Ls(t.visibleWrites,e);return iA(o)?n:null!=n||rA(o,Ie())?ol(o,n||se.EMPTY_NODE):null}}}function g_(t,e,n,r){return jj(t.writeTree,t.treePath,e,n,r)}function sA(t,e){return function vde(t,e,n){let r=se.EMPTY_NODE;const i=sa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ge,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ls(t.visibleWrites,e);return n.forEachChild(Ge,(o,a)=>{const c=ol(Ls(s,new Ae(o)),a);r=r.updateImmediateChild(o,c)}),Vj(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return Vj(Ls(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function $j(t,e,n,r){return function bde(t,e,n,r,i){P(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=nt(e,n);if(rA(t.visibleWrites,s))return null;{const o=Ls(t.visibleWrites,s);return iA(o)?i.getChild(n):ol(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function __(t,e){return function Ede(t,e){return sa(t.visibleWrites,e)}(t.writeTree,nt(t.treePath,e))}function oA(t,e,n){return function Ide(t,e,n,r){const i=nt(e,n),s=sa(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?ol(Ls(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Hj(t,e){return Gj(nt(t.treePath,e),t.writeTree)}function Gj(t,e){return{treePath:t,writeTree:e}}class Dde{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;P("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),P(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,mh(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,ph(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,rl(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw Wc("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,mh(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const zj=new class Ade{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class aA{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Fs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oA(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ia(this.viewCache_),s=function Cde(t,e,n,r,i,s){return function Tde(t,e,n,r,i,s,o){let a;const c=Ls(t.visibleWrites,e),l=sa(c,Ie());if(null!=l)a=l;else{if(null==n)return[];a=ol(c,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function Wj(t,e,n,r,i,s){const o=e.eventCache;if(null!=__(r,n))return e;{let a,c;if(de(n))if(P(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=ia(e),d=sA(r,l instanceof se?l:se.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const l=g_(r,ia(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{const l=ue(n);if(".priority"===l){P(1===Os(n),"Can't have a priority with additional path components");const u=o.getNode();c=e.serverCache.getNode();const d=$j(r,n,u,c);a=null!=d?t.filter.updatePriority(u,d):o.getNode()}else{const u=Ve(n);let d;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();const h=$j(r,n,o.getNode(),c);d=null!=h?o.getNode().getImmediateChild(l).updateChild(u,h):o.getNode().getImmediateChild(l)}else d=oA(r,l,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),l,d,u,i,s):o.getNode()}}return vh(e,a,o.isFullyInitialized()||de(n),t.filter.filtersNodes())}}function y_(t,e,n,r,i,s,o,a){const c=e.serverCache;let l;const u=o?t.filter:t.filter.getIndexedFilter();if(de(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const f=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),f,null)}else{const f=ue(n);if(!c.isCompleteForPath(n)&&Os(n)>1)return e;const p=Ve(n),g=c.getNode().getImmediateChild(f).updateChild(p,r);l=".priority"===f?u.updatePriority(c.getNode(),g):u.updateChild(c.getNode(),f,g,p,zj,null)}const d=Fj(e,l,c.isFullyInitialized()||de(n),u.filtersNodes());return Wj(t,d,n,i,new aA(i,d,s),a)}function cA(t,e,n,r,i,s,o){const a=e.eventCache;let c,l;const u=new aA(i,e,s);if(de(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=vh(e,l,!0,t.filter.filtersNodes());else{const d=ue(n);if(".priority"===d)l=t.filter.updatePriority(e.eventCache.getNode(),r),c=vh(e,l,a.isFullyInitialized(),a.isFiltered());else{const h=Ve(n),f=a.getNode().getImmediateChild(d);let p;if(de(h))p=r;else{const m=u.getCompleteChild(d);p=null!=m?".priority"===VD(h)&&m.getChild(Ej(h)).isEmpty()?m:m.updateChild(h,r):se.EMPTY_NODE}c=f.equals(p)?e:vh(e,t.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return c}function qj(t,e){return t.eventCache.isCompleteForChild(e)}function Kj(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function lA(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=de(n)?r:new ze(null).setTree(n,r);const u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=Kj(0,e.serverCache.getNode().getImmediateChild(d),h);c=y_(t,c,new Ae(d),p,i,s,o,a)}}),l.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const m=Kj(0,e.serverCache.getNode().getImmediateChild(d),h);c=y_(t,c,new Ae(d),m,i,s,o,a)}}),c}class Fde{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new WD(r.getIndex()),s=function Yue(t){return t.loadsAllData()?new WD(t.getIndex()):t.hasLimit()?new Que(t):new gh(t)}(r);this.processor_=function Sde(t){return{filter:t}}(s);const o=n.serverCache,a=n.eventCache,c=i.updateFullNode(se.EMPTY_NODE,o.getNode(),null),l=s.updateFullNode(se.EMPTY_NODE,a.getNode(),null),u=new Fs(c,o.isFullyInitialized(),i.filtersNodes()),d=new Fs(l,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=f_(d,u),this.eventGenerator_=new ade(this.query_)}get query(){return this.query_}}function Bde(t,e){const n=ia(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!de(e)&&!n.getImmediateChild(ue(e)).isEmpty())?n.getChild(e):null}function Qj(t){return 0===t.eventRegistrations_.length}function Yj(t,e,n){const r=[];if(n){P(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}else i.push(o)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Xj(t,e,n,r){e.type===mi.MERGE&&null!==e.source.queryId&&(P(ia(t.viewCache_),"We should always have a full cache before handling merges"),P(p_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function xde(t,e,n,r,i){const s=new Dde;let o,a;if(n.type===mi.OVERWRITE){const l=n;l.source.fromUser?o=cA(t,e,l.path,l.snap,r,i,s):(P(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!de(l.path),o=y_(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===mi.MERGE){const l=n;l.source.fromUser?o=function Mde(t,e,n,r,i,s,o){let a=e;return r.foreach((c,l)=>{const u=nt(n,c);qj(e,ue(u))&&(a=cA(t,a,u,l,i,s,o))}),r.foreach((c,l)=>{const u=nt(n,c);qj(e,ue(u))||(a=cA(t,a,u,l,i,s,o))}),a}(t,e,l.path,l.children,r,i,s):(P(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=lA(t,e,l.path,l.children,r,i,a,s))}else if(n.type===mi.ACK_USER_WRITE){const l=n;o=l.revert?function Ode(t,e,n,r,i,s){let o;if(null!=__(r,n))return e;{const a=new aA(r,e,i),c=e.eventCache.getNode();let l;if(de(n)||".priority"===ue(n)){let u;if(e.serverCache.isFullyInitialized())u=g_(r,ia(e));else{const d=e.serverCache.getNode();P(d instanceof se,"serverChildren would be complete if leaf node"),u=sA(r,d)}l=t.filter.updateFullNode(c,u,s)}else{const u=ue(n);let d=oA(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),l=null!=d?t.filter.updateChild(c,u,d,Ve(n),a,s):e.eventCache.getNode().hasChild(u)?t.filter.updateChild(c,u,se.EMPTY_NODE,Ve(n),a,s):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=g_(r,ia(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=__(r,Ie()),vh(e,l,o,t.filter.filtersNodes())}}(t,e,l.path,r,i,s):function kde(t,e,n,r,i,s,o){if(null!=__(i,n))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(de(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return y_(t,e,n,c.getNode().getChild(n),i,s,a,o);if(de(n)){let l=new ze(null);return c.getNode().forEachChild(pi,(u,d)=>{l=l.set(new Ae(u),d)}),lA(t,e,n,l,i,s,a,o)}return e}{let l=new ze(null);return r.foreach((u,d)=>{const h=nt(n,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),lA(t,e,n,l,i,s,a,o)}}(t,e,l.path,l.affectedTree,r,i,s)}else{if(n.type!==mi.LISTEN_COMPLETE)throw Wc("Unknown operation type: "+n.type);o=function Nde(t,e,n,r,i){const s=e.serverCache;return Wj(t,Fj(e,s.getNode(),s.isFullyInitialized()||de(n),s.isFiltered()),n,r,zj,i)}(t,e,n.path,r,s)}const c=s.getChanges();return function Pde(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=p_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Mj(p_(e)))}}(e,o,c),{viewCache:o,changes:c}}(t.processor_,i,e,n,r);return function Rde(t,e){P(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),P(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),P(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Zj(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Zj(t,e,n,r){return function cde(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Kue(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),yh(t,i,"child_removed",e,r,n),yh(t,i,"child_added",e,r,n),yh(t,i,"child_moved",s,r,n),yh(t,i,"child_changed",e,r,n),yh(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let v_,I_;class Jj{constructor(){this.views=new Map}}function uA(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return P(null!=s,"SyncTree gave us an op for an invalid query."),Xj(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(Xj(o,e,n,r));return s}}function e$(t,e,n,r,i){const o=t.views.get(e._queryIdentifier);if(!o){let a=g_(n,i?r:null),c=!1;a?c=!0:r instanceof se?(a=sA(n,r),c=!1):(a=se.EMPTY_NODE,c=!1);const l=f_(new Fs(a,c,!1),new Fs(r,i,!1));return new Fde(e,l)}return o}function t$(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Vs(t,e){let n=null;for(const r of t.views.values())n=n||Bde(r,e);return n}function n$(t,e){return e._queryParams.loadsAllData()?b_(t):t.views.get(e._queryIdentifier)}function r$(t,e){return null!=n$(t,e)}function Bs(t){return null!=b_(t)}function b_(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Qde=1;class i${constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=function wde(){return{visibleWrites:Ur.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dA(t,e,n,r,i){return function hde(t,e,n,r,i){P(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=bh(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?al(t,new ra({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Us(t,e,n=!1){const r=function pde(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function mde(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);P(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&gde(a,r.path)?i=!1:wr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function _de(t){t.visibleWrites=Uj(t.allWrites,yde,Ie()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=Lj(t.visibleWrites,r.path):Yt(r.children,c=>{t.visibleWrites=Lj(t.visibleWrites,nt(r.path,c))}),!0))}(t.pendingWriteTree_,e)){let s=new ze(null);return null!=r.snap?s=s.set(Ie(),!0):Yt(r.children,o=>{s=s.set(new Ae(o),!0)}),al(t,new h_(r.path,s,n))}return[]}function Ih(t,e,n){return al(t,new ra({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function E_(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&("default"===e._queryIdentifier||r$(o,e))){const c=function Wde(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Bs(t);if("default"===i)for(const[c,l]of t.views.entries())o=o.concat(Yj(l,n,r)),Qj(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||s.push(l.query));else{const c=t.views.get(i);c&&(o=o.concat(Yj(c,n,r)),Qj(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return a&&!Bs(t)&&s.push(new(function Hde(){return P(v_,"Reference.ts has not been loaded"),v_}())(e._repo,e._path)),{removed:s,events:o}}(o,e,n,r);(function Gde(t){return 0===t.views.size})(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const l=c.removed;if(a=c.events,!i){const u=-1!==l.findIndex(h=>h._queryParams.loadsAllData()),d=t.syncPointTree_.findOnPath(s,(h,f)=>Bs(f));if(u&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=function nhe(t){return t.fold((e,n,r)=>{if(n&&Bs(n))return[b_(n)];{let i=[];return n&&(i=t$(n)),Yt(r,(s,o)=>{i=i.concat(o)}),i}})}(h);for(let p=0;p<f.length;++p){const m=f[p],g=m.query,y=c$(t,m);t.listenProvider_.startListening(Th(g),Eh(t,g),y.hashFn,y.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(Th(e),null):l.forEach(h=>{const f=t.queryToTagMap.get(w_(h));t.listenProvider_.stopListening(Th(h),f)}))}!function rhe(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=w_(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}(t,l)}return a}function s$(t,e,n,r){const i=fA(t,r);if(null!=i){const s=pA(i),o=s.path,a=s.queryId,c=On(o,e);return mA(t,o,new ra(eA(a),c,n))}return[]}function hA(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=On(h,i);s=s||Vs(f,p),o=o||Bs(f)});let c,a=t.syncPointTree_.get(i);a?(o=o||Bs(a),s=s||Vs(a,Ie())):(a=new Jj,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=s?c=!0:(c=!1,s=se.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const m=Vs(p,Ie());m&&(s=s.updateImmediateChild(f,m))}));const l=r$(a,e);if(!l&&!e._queryParams.loadsAllData()){const h=w_(e);P(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=function ihe(){return Qde++}();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let d=function zde(t,e,n,r,i,s){const o=e$(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),function Ude(t,e){t.eventRegistrations_.push(e)}(o,n),function jde(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ge,(s,o)=>{r.push(rl(s,o))}),n.isFullyInitialized()&&r.push(Mj(n.getNode())),Zj(t,r,n.getNode(),e)}(o,n)}(a,e,n,m_(t.pendingWriteTree_,i),s,c);if(!l&&!o&&!r){const h=n$(a,e);d=d.concat(function she(t,e,n){const r=e._path,i=Eh(t,e),s=c$(t,n),o=t.listenProvider_.startListening(Th(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)P(!Bs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,u,d)=>{if(!de(l)&&u&&Bs(u))return[b_(u).query];{let h=[];return u&&(h=h.concat(t$(u).map(f=>f.query))),Yt(d,(f,p)=>{h=h.concat(p)}),h}});for(let l=0;l<c.length;++l){const u=c[l];t.listenProvider_.stopListening(Th(u),Eh(t,u))}}return o}(t,e,h))}return d}function T_(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Vs(a,On(o,e));if(l)return l});return jj(i,e,s,n,!0)}function al(t,e){return o$(e,t.syncPointTree_,null,m_(t.pendingWriteTree_,Ie()))}function o$(t,e,n,r){if(de(t.path))return a$(t,e,n,r);{const i=e.get(Ie());null==n&&null!=i&&(n=Vs(i,Ie()));let s=[];const o=ue(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){const l=n?n.getImmediateChild(o):null,u=Hj(r,o);s=s.concat(o$(a,c,l,u))}return i&&(s=s.concat(uA(i,t,r,n))),s}}function a$(t,e,n,r){const i=e.get(Ie());null==n&&null!=i&&(n=Vs(i,Ie()));let s=[];return e.children.inorderTraversal((o,a)=>{const c=n?n.getImmediateChild(o):null,l=Hj(r,o),u=t.operationForChild(o);u&&(s=s.concat(a$(u,a,c,l)))}),i&&(s=s.concat(uA(i,t,r,n))),s}function c$(t,e){const n=e.query,r=Eh(t,n);return{hashFn:()=>(function Lde(t){return t.viewCache_.serverCache.getNode()}(e)||se.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function Jde(t,e,n){const r=fA(t,n);if(r){const i=pA(r),s=i.path,o=i.queryId,a=On(s,e);return mA(t,s,new _h(eA(o),a))}return[]}(t,n._path,r):function Zde(t,e){return al(t,new _h({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const s=function Xle(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return E_(t,n,null,s)}}}}function Eh(t,e){const n=w_(e);return t.queryToTagMap.get(n)}function w_(t){return t._path.toString()+"$"+t._queryIdentifier}function fA(t,e){return t.tagToQueryMap.get(e)}function pA(t){const e=t.indexOf("$");return P(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ae(t.substr(0,e))}}function mA(t,e,n){const r=t.syncPointTree_.get(e);return P(r,"Missing sync point for query tag that we're tracking"),uA(r,n,m_(t.pendingWriteTree_,e),null)}function Th(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function Kde(){return P(I_,"Reference.ts has not been loaded"),I_}())(t._repo,t._path):t}class gA{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new gA(n)}node(){return this.node_}}class _A{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nt(this.path_,e);return new _A(this.syncTree_,n)}node(){return T_(this.syncTree_,this.path_)}}const ohe=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},l$=function(t,e,n){return t&&"object"==typeof t?(P(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ahe(t[".sv"],e,n):"object"==typeof t[".sv"]?che(t[".sv"],e):void P(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ahe=function(t,e,n){if("timestamp"===t)return n.timestamp;P(!1,"Unexpected server value: "+t)},che=function(t,e,n){t.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&P(!1,"Unexpected increment value: "+r);const i=e.node();if(P(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},u$=function(t,e,n,r){return vA(e,new _A(n,t),r)},yA=function(t,e,n){return vA(t,new gA(e),n)};function vA(t,e,n){const r=t.getPriority().val(),i=l$(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=l$(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new tl(a,ct(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new tl(i))),o.forEachChild(Ge,(a,c)=>{const l=vA(c,e.getImmediateChild(a),n);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}class bA{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function C_(t,e){let n=e instanceof Ae?e:new Ae(e),r=t,i=ue(n);for(;null!==i;){const s=qc(r.node.children,i)||{children:{},childCount:0};r=new bA(i,r,s),n=Ve(n),i=ue(n)}return r}function oa(t){return t.node.value}function IA(t,e){t.node.value=e,EA(t)}function d$(t){return t.node.childCount>0}function D_(t,e){Yt(t.node.children,(n,r)=>{e(new bA(n,t,r))})}function h$(t,e,n,r){n&&!r&&e(t),D_(t,i=>{h$(i,e,!0,r)}),n&&r&&e(t)}function wh(t){return new Ae(null===t.parent?t.name:wh(t.parent)+"/"+t.name)}function EA(t){null!==t.parent&&function dhe(t,e,n){const r=function lhe(t){return void 0===oa(t)&&!d$(t)}(n),i=zi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,EA(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,EA(t))}(t.parent,t.name,t)}const hhe=/[\[\].#$\/\u0000-\u001F\u007F]/,fhe=/[\[\].#$\u0000-\u001F\u007F]/,TA=10485760,A_=function(t){return"string"==typeof t&&0!==t.length&&!hhe.test(t)},f$=function(t){return"string"==typeof t&&0!==t.length&&!fhe.test(t)},Dh=function(t,e,n){const r=n instanceof Ae?new xue(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+ta(r));if("function"==typeof e)throw new Error(t+"contains a function "+ta(r)+" with contents = "+e.toString());if(t_(e))throw new Error(t+"contains "+e.toString()+" "+ta(r));if("string"==typeof e&&e.length>TA/3&&Pg(e)>TA)throw new Error(t+"contains a string greater than "+TA+" utf8 bytes "+ta(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Yt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!A_(o)))throw new Error(t+" contains an invalid key ("+o+") "+ta(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Pue(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Pg(e),Tj(t)})(r,o),Dh(t,a,r),function Mue(t){const e=t.parts_.pop();t.byteLength_-=Pg(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+ta(r)+" in addition to actual children.")}},CA=function(t,e,n,r){if(!(r&&void 0===n||f$(n)))throw new Error(Hd(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ghe=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),CA(t,e,n,r)};class _he{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lr(t,e,n){(function S_(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!BD(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function _$(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(yhe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>wr(r,e)||wr(e,r))}function yhe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Jo&&Qt("event: "+n.toString()),Jc(r)}}}const vhe=25;class bhe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _he,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=d_(),this.transactionQueueTree_=new bA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function v$(t){const n=t.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Sh(t){return ohe({timestamp:v$(t)})}function b$(t,e,n,r,i){t.dataUpdateCount++;const s=new Ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const c=Rg(n,l=>ct(l));o=function ehe(t,e,n,r){const i=fA(t,r);if(i){const s=pA(i),o=s.path,a=s.queryId,c=On(o,e),l=ze.fromObject(n);return mA(t,o,new sl(eA(a),c,l))}return[]}(t.serverSyncTree_,s,c,i)}else{const c=ct(n);o=s$(t.serverSyncTree_,s,c,i)}else if(r){const c=Rg(n,l=>ct(l));o=function Xde(t,e,n){const r=ze.fromObject(n);return al(t,new sl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,c)}else{const c=ct(n);o=Ih(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=ll(t,s)),lr(t.eventQueue_,a,o)}function I$(t,e){DA(t,"connected",e),!1===e&&function Che(t){cl(t,"onDisconnectEvents");const e=Sh(t),n=d_();XD(t.onDisconnect_,Ie(),(i,s)=>{const o=u$(i,s,t.serverSyncTree_,e);il(n,i,o)});let r=[];XD(n,Ie(),(i,s)=>{r=r.concat(Ih(t.serverSyncTree_,i,s));const o=function xA(t,e){const n=wh(w$(t,e)),r=C_(t.transactionQueueTree_,e);return function uhe(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{PA(t,i)}),PA(t,r),h$(r,i=>{PA(t,i)}),n}(t,i);ll(t,o)}),t.onDisconnect_=d_(),lr(t.eventQueue_,Ie(),r)}(t)}function DA(t,e,n){const r=new Ae("/.info/"+e),i=ct(n);t.infoData_.updateSnapshot(r,i);const s=Ih(t.infoSyncTree_,r,i);lr(t.eventQueue_,r,s)}function R_(t){return t.nextWriteId_++}function cl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Qt(n,...e)}function RA(t,e,n){return T_(t.serverSyncTree_,e,n)||se.EMPTY_NODE}function x_(t,e=t.transactionQueueTree_){if(e||P_(t,e),oa(e)){const n=C$(t,e);P(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function Mhe(t,e,n){const r=n.map(l=>l.currentWriteId),i=RA(t,e,r);let s=i;const o=i.hash();for(let l=0;l<n.length;l++){const u=n[l];P(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=On(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),c=e;t.server_.put(c.toString(),a,l=>{cl(t,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Us(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();P_(t,C_(t.transactionQueueTree_,e)),x_(t,t.transactionQueueTree_),lr(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Jc(d[h])}else{if("datastale"===l)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{vn("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}ll(t,e)}},o)}(t,wh(e),n)}else d$(e)&&D_(e,n=>{x_(t,n)})}function ll(t,e){const n=w$(t,e),r=wh(n);return function khe(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=On(n,c.path);let d,u=!1;if(P(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,d=c.abortReason,i=i.concat(Us(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=vhe)u=!0,d="maxretry",i=i.concat(Us(t.serverSyncTree_,c.currentWriteId,!0));else{const h=RA(t,c.path,o);c.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Dh("transaction failed: Data returned ",f,c.path);let p=ct(f);"object"==typeof f&&null!=f&&zi(f,".priority")||(p=p.updatePriority(h.getPriority()));const g=c.currentWriteId,y=Sh(t),_=yA(p,h,y);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=_,c.currentWriteId=R_(t),o.splice(o.indexOf(g),1),i=i.concat(dA(t.serverSyncTree_,c.path,_,c.currentWriteId,c.applyLocally)),i=i.concat(Us(t.serverSyncTree_,g,!0))}else u=!0,d="nodata",i=i.concat(Us(t.serverSyncTree_,c.currentWriteId,!0))}lr(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}P_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Jc(r[a]);x_(t,t.transactionQueueTree_)}(t,C$(t,n),r),r}function w$(t,e){let n,r=t.transactionQueueTree_;for(n=ue(e);null!==n&&void 0===oa(r);)r=C_(r,n),n=ue(e=Ve(e));return r}function C$(t,e){const n=[];return D$(t,e,n),n.sort((r,i)=>r.order-i.order),n}function D$(t,e,n){const r=oa(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);D_(e,i=>{D$(t,i,n)})}function P_(t,e){const n=oa(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,IA(e,n.length>0?n:void 0)}D_(e,r=>{P_(t,r)})}function PA(t,e){const n=oa(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(P(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(P(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Us(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?IA(e,void 0):n.length=s+1,lr(t.eventQueue_,wh(e),i);for(let o=0;o<r.length;o++)Jc(r[o])}}const MA=function(t,e){const n=Fhe(t),r=n.namespace;return"firebase.com"===n.domain&&fi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&fi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&vn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new MD(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Ae(n.pathString)}},Fhe=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if("string"==typeof t){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");-1===u&&(u=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=function Nhe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(u,d)));const h=function Ohe(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vn(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(o="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const f=e.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class S${constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ht(this.snapshot.exportVal())}}class R${constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class kA{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return P(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class ur{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return de(this._path)?null:VD(this._path)}get ref(){return new jr(this._repo,this._path)}get _queryIdentifier(){const e=Nj(this._queryParams),n=xD(e);return"{}"===n?"default":n}get _queryObject(){return Nj(this._queryParams)}isEqual(e){if(!((e=cr(e))instanceof ur))return!1;const n=this._repo===e._repo,r=BD(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Sue(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class jr extends ur{constructor(e,n){super(e,n,new qD,!1)}get parent(){const e=Ej(this._path);return null===e?null:new jr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class aa{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ae(e),r=ca(this.ref,e);return new aa(this._node.getChild(n),r,Ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new aa(i,ca(this.ref,r),Ge)))}hasChild(e){const n=new Ae(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function x$(t,e){return(t=cr(t))._checkNotDeleted("ref"),void 0!==e?ca(t._root,e):t._root}function ca(t,e){return null===ue((t=cr(t))._path)?ghe("child","path",e,!1):CA("child","path",e,!1),new jr(t._repo,nt(t._path,e))}function Bhe(t){t=cr(t);const e=new kA(()=>{}),n=new Rh(e);return function The(t,e,n){const r=function the(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(l,u)=>{const d=On(l,n);r=r||Vs(u,d)});let i=t.syncPointTree_.get(n);i?r=r||Vs(i,Ie()):(i=new Jj,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=null!=r,o=s?new Fs(r,!0,!1):null;return function Vde(t){return p_(t.viewCache_)}(e$(i,e,m_(t.pendingWriteTree_,e._path),s?o.getNode():se.EMPTY_NODE,s))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const s=ct(i).withIndex(e._queryParams.getIndex());let o;if(hA(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())o=Ih(t.serverSyncTree_,e._path,s);else{const a=Eh(t.serverSyncTree_,e);o=s$(t.serverSyncTree_,e._path,s,a)}return lr(t.eventQueue_,e._path,o),E_(t.serverSyncTree_,e,n,null,!0),s},i=>(cl(t,"get for query "+Ht(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new aa(r,new jr(t._repo,t._path),t._queryParams.getIndex()))}class Rh{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new S$("value",this,new aa(e.snapshotNode,new jr(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new R$(this,e,n):null}matches(e){return e instanceof Rh&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}(function $de(t){P(!v_,"__referenceConstructor has already been defined"),v_=t})(jr),function qde(t){P(!I_,"__referenceConstructor has already been defined"),I_=t}(jr);const NA={};function O$(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||fi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c,l,o=MA(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=MA(s,i),a=o.repoInfo):c=!o.repoInfo.secure;const u=i&&c?new lh(lh.OWNER):new rue(t.name,t.options,e);(function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!A_(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),f$(t)}(n))throw new Error(Hd(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",o),de(o.path)||fi("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Jhe(t,e,n,r){let i=NA[e.name];i||(i={},NA[e.name]=i);let s=i[t.toURLString()];return s&&fi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new bhe(t,false,n,r),i[t.toURLString()]=s,s}(a,t,u,new nue(t.name,n));return new tfe(d,t)}class tfe{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ihe(t,e,n){if(t.stats_=OD(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new u_(t.repoInfo_,(r,i,s,o)=>{b$(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>I$(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ht(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new na(t.repoInfo_,e,(r,i,s,o)=>{b$(t,r,i,s,o)},r=>{I$(t,r)},r=>{!function Ehe(t,e){Yt(e,(n,r)=>{DA(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function oue(t,e){const n=t.toString();return ND[n]||(ND[n]=e()),ND[n]}(t.repoInfo_,()=>new ode(t.stats_,t.server_)),t.infoData_=new tde,t.infoSyncTree_=new i$({startListening:(r,i,s,o)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Ih(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),DA(t,"connected",!1),t.serverSyncTree_=new i$({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{const l=o(a,c);lr(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jr(this._repo,Ie())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Zhe(t,e){const n=NA[e];(!n||n[t.key]!==t)&&fi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function T$(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&fi("Cannot call "+e+" on a deleted database.")}}function nfe(t=Ng(),e){const n=Go(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=lB("database");r&&function rfe(t,e,n,r={}){(t=cr(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&fi("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&fi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new lh(lh.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:dB(r.mockUserToken,t.app.options.projectId);s=new lh(o)}!function Xhe(t,e,n,r){t.repoInfo_=new MD(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r)}return n}na.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},na.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function ife(t){(function BU(t){AD=t})(zd),Vr(new Er("database",(e,{instanceIdentifier:n})=>O$(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),mt(LU,"1.0.1",t),mt(LU,"1.0.1","esm2017")}();class O_{constructor(e){return e}}const L$="database",OA=new D("angularfire2.database-instances");function lfe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new O_(r)}}const ufe={provide:class afe{constructor(){return qd(L$)}},deps:[[new It,OA]]},dfe={provide:O_,useFactory:function cfe(t,e){const n=Og(L$,t,e);return n&&new O_(n)},deps:[[new It,OA],qo]};let hfe=(()=>{class t{constructor(){mt("angularfire",zo.full,"rtdb")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=vt({type:t});static \u0275inj=ht({providers:[dfe,ufe]})}return t})();function ffe(t,...e){return{ngModule:hfe,providers:[{provide:OA,useFactory:lfe(t),multi:!0,deps:[pe,Pt,Fg,Lg,[new It,CD],[new It,PB],...e]}]}}const pfe=ui(ca,!0),mfe=ui(Bhe,!0),gfe=ui(nfe,!0),_fe=ui(x$,!0);let V$=(()=>{class t{database;constructor(n){this.database=n}getHeader(){const n=_fe(this.database);return mfe(pfe(n,"header"))}static \u0275fac=function(r){return new(r||t)(M(O_))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const F_=Dv(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function B$(t){return new Qe(e=>{Bn(t()).subscribe(e)})}function FA(){return dt((t,e)=>{let n=null;t._refCount++;const r=st(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class U$ extends Qe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,kP(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Dn;const n=this.getSubject();e.add(this.source.subscribe(st(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Dn.EMPTY)}return e}refCount(){return FA()(this)}}function L_(t){return dt((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function j$(t=vfe){return dt((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function vfe(){return new F_}function la(t,e){const n=arguments.length>=2;return r=>r.pipe(t?or((i,s)=>t(i,s,r)):ls,Ds(1),n?L_(e):j$(()=>new F_))}function LA(t){return t<=0?()=>Wr:dt((e,n)=>{let r=[];e.subscribe(st(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}const ce="primary",Ph=Symbol("RouteTitle");class wfe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ul(t){return new wfe(t)}function Cfe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yi(t,e){const n=t?VA(t):void 0,r=e?VA(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!$$(t[i],e[i]))return!1;return!0}function VA(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function $$(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function H$(t){return t.length>0?t[t.length-1]:null}function Hs(t){return function yfe(t){return!!t&&(t instanceof Qe||Ke(t.lift)&&Ke(t.subscribe))}(t)?t:Om(t)?qt(Promise.resolve(t)):z(t)}const Afe={exact:function W$(t,e,n){if(!ua(t.segments,e.segments)||!V_(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!W$(t.children[r],e.children[r],n))return!1;return!0},subset:q$},G$={exact:function Sfe(t,e){return yi(t,e)},subset:function Rfe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>$$(t[n],e[n]))},ignored:()=>!0};function z$(t,e,n){return Afe[n.paths](t.root,e.root,n.matrixParams)&&G$[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function q$(t,e,n){return K$(t,e,e.segments,n)}function K$(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ua(i,n)||e.hasChildren()||!V_(i,n,r))}if(t.segments.length===n.length){if(!ua(t.segments,n)||!V_(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!q$(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ua(t.segments,i)&&V_(t.segments,i,r)&&t.children[ce])&&K$(t.children[ce],e,s,r)}}function V_(t,e,n){return e.every((r,i)=>G$[n](t[i].parameters,r.parameters))}class dl{constructor(e=new Ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ul(this.queryParams)),this._queryParamMap}toString(){return Mfe.serialize(this)}}class Ne{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return B_(this)}}class Mh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ul(this.parameters)),this._parameterMap}toString(){return X$(this)}}function ua(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let hl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:()=>new BA,providedIn:"root"})}return t})();class BA{parse(e){const n=new Hfe(e);return new dl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${kh(e.root,!0)}`,r=function Ofe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${U_(n)}=${U_(i)}`).join("&"):`${U_(n)}=${U_(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function kfe(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const Mfe=new BA;function B_(t){return t.segments.map(e=>X$(e)).join("/")}function kh(t,e){if(!t.hasChildren())return B_(t);if(e){const n=t.children[ce]?kh(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ce&&r.push(`${i}:${kh(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Pfe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ce?[kh(t.children[ce],!1)]:[`${i}:${kh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ce]?`${B_(t)}/${n[0]}`:`${B_(t)}/(${n.join("//")})`}}function Q$(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function U_(t){return Q$(t).replace(/%3B/gi,";")}function UA(t){return Q$(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function j_(t){return decodeURIComponent(t)}function Y$(t){return j_(t.replace(/\+/g,"%20"))}function X$(t){return`${UA(t.path)}${function Nfe(t){return Object.keys(t).map(e=>`;${UA(e)}=${UA(t[e])}`).join("")}(t.parameters)}`}const Ffe=/^[^\/()?;#]+/;function jA(t){const e=t.match(Ffe);return e?e[0]:""}const Lfe=/^[^\/()?;=#]+/,Bfe=/^[^=?&#]+/,jfe=/^[^&#]+/;class Hfe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Ne(e,n)),r}parseSegment(){const e=jA(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Mh(j_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Vfe(t){const e=t.match(Lfe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=jA(this.remaining);i&&(r=i,this.capture(r))}e[j_(n)]=j_(r)}parseQueryParam(e){const n=function Ufe(t){const e=t.match(Bfe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function $fe(t){const e=t.match(jfe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Y$(n),s=Y$(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=jA(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ce]:new Ne([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}}function Z$(t){return t.segments.length>0?new Ne([],{[ce]:t}):t}function J$(t){const e={};for(const r of Object.keys(t.children)){const s=J$(t.children[r]);if(r===ce&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Gfe(t){if(1===t.numberOfChildren&&t.children[ce]){const e=t.children[ce];return new Ne(t.segments.concat(e.segments),e.children)}return t}(new Ne(t.segments,e))}function da(t){return t instanceof dl}function eH(t){let e;const i=Z$(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new Ne(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function tH(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return $A(i,i,i,n,r);const s=function Wfe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new rH(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new rH(n,e,r)}(e);if(s.toRoot())return $A(i,i,new Ne([],{}),n,r);const o=function qfe(t,e,n){if(t.isAbsolute)return new H_(e,!0,0);if(!n)return new H_(e,!1,NaN);if(null===n.parent)return new H_(n,!0,0);const r=$_(t.commands[0])?0:1;return function Kfe(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new H_(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Oh(o.segmentGroup,o.index,s.commands):iH(o.segmentGroup,o.index,s.commands);return $A(i,o.segmentGroup,a,n,r)}function $_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Nh(t){return"object"==typeof t&&null!=t&&t.outlets}function $A(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:nH(t,e,n);const a=Z$(J$(o));return new dl(a,s,i)}function nH(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:nH(s,e,n)}),new Ne(t.segments,r)}class rH{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&$_(r[0]))throw new S(4003,!1);const i=r.find(Nh);if(i&&i!==H$(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class H_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function iH(t,e,n){if(t||(t=new Ne([],{})),0===t.segments.length&&t.hasChildren())return Oh(t,e,n);const r=function Yfe(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Nh(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!oH(c,l,o))return s;r+=2}else{if(!oH(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ne(t.segments.slice(0,r.pathIndex),{});return s.children[ce]=new Ne(t.segments.slice(r.pathIndex),t.children),Oh(s,0,i)}return r.match&&0===i.length?new Ne(t.segments,{}):r.match&&!t.hasChildren()?HA(t,e,n):r.match?Oh(t,0,i):HA(t,e,n)}function Oh(t,e,n){if(0===n.length)return new Ne(t.segments,{});{const r=function Qfe(t){return Nh(t[0])?t[0].outlets:{[ce]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ce)&&t.children[ce]&&1===t.numberOfChildren&&0===t.children[ce].segments.length){const s=Oh(t.children[ce],e,n);return new Ne(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=iH(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ne(t.segments,i)}}function HA(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Nh(s)){const c=Xfe(s.outlets);return new Ne(r,c)}if(0===i&&$_(n[0])){r.push(new Mh(t.segments[e].path,sH(n[0]))),i++;continue}const o=Nh(s)?s.outlets[ce]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&$_(a)?(r.push(new Mh(o,sH(a))),i+=2):(r.push(new Mh(o,{})),i++)}return new Ne(r,{})}function Xfe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=HA(new Ne([],{}),0,r))}),e}function sH(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function oH(t,e,n){return t==n.path&&yi(e,n.parameters)}const Fh="imperative";class vi{constructor(e,n){this.id=e,this.url=n}}class G_ extends vi{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ji extends vi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fl extends vi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pl extends vi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class z_ extends vi{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aH extends vi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zfe extends vi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cH extends vi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jfe extends vi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class epe extends vi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tpe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class npe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rpe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ipe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class spe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lH{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uH{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class GA{}class zA{constructor(e){this.url=e}}class ope{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Lh,this.attachRef=null}}let Lh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ope,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class dH{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=WA(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=WA(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=qA(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qA(e,this._root).map(n=>n.value)}}function WA(t,e){if(t===e.value)return e;for(const n of e.children){const r=WA(t,n);if(r)return r}return null}function qA(t,e){if(t===e.value)return[e];for(const n of e.children){const r=qA(t,n);if(r.length)return r.unshift(e),r}return[]}class $r{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ml(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class hH extends dH{constructor(e,n){super(e),this.snapshot=n,YA(this,e)}toString(){return this.snapshot.toString()}}function fH(t,e){const n=function ape(t,e){const o=new QA([],{},{},"",{},ce,e,null,{});return new pH("",new $r(o,[]))}(0,e),r=new Xn([new Mh("",{})]),i=new Xn({}),s=new Xn({}),o=new Xn({}),a=new Xn(""),c=new Gs(r,i,o,a,s,ce,e,n.root);return c.snapshot=n.root,new hH(new $r(c,[]),n)}class Gs{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ae(l=>l[Ph]))??z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ae(e=>ul(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ae(e=>ul(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function KA(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:t.params,data:t.data,resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&gH(i)&&(r.resolve[Ph]=i.title),r}class QA{get title(){return this.data?.[Ph]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ul(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ul(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pH extends dH{constructor(e,n){super(n),this.url=e,YA(this,n)}toString(){return mH(this._root)}}function YA(t,e){e.value._routerState=t,e.children.forEach(n=>YA(t,n))}function mH(t){const e=t.children.length>0?` { ${t.children.map(mH).join(", ")} } `:"";return`${t.value}${e}`}function XA(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),yi(e.params,n.params)||t.paramsSubject.next(n.params),function Dfe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),yi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ZA(t,e){const n=yi(t.params,e.params)&&function xfe(t,e){return ua(t,e)&&t.every((n,r)=>yi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||ZA(t.parent,e.parent))}function gH(t){return"string"==typeof t.title||null===t.title}let JA=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new xn,this.deactivateEvents=new xn,this.attachEvents=new xn,this.detachEvents=new xn,this.parentContexts=k(Lh),this.location=k(Nr),this.changeDetector=k(pm),this.environmentInjector=k(mr),this.inputBinder=k(W_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new cpe(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Fe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[go]})}return t})();class cpe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Gs?this.route:e===Lh?this.childContexts:this.parent.get(e,n)}}const W_=new D("");let _H=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=pg([r.queryParams,r.params,r.data]).pipe(Zn(([s,o,a],c)=>(a={...s,...o,...a},0===c?z(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function Aee(t){const e=le(t);if(!e)return null;const n=new td(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function Vh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function upe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Vh(t,r,i);return Vh(t,r)})}(t,e,n);return new $r(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Vh(t,a)),o}}const r=function dpe(t){return new Gs(new Xn(t.url),new Xn(t.params),new Xn(t.queryParams),new Xn(t.fragment),new Xn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Vh(t,s));return new $r(r,i)}}const e0="ngNavigationCancelingError";function yH(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=da(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vH(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function vH(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[e0]=!0,r.cancellationCode=e,n&&(r.url=n),r}function bH(t){return t&&t[e0]}let t0=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=hn({type:t,selectors:[["ng-component"]],standalone:!0,features:[zF],decls:1,vars:0,template:function(r,i){1&r&&yn(0,"router-outlet")},dependencies:[JA],encapsulation:2})}return t})();function n0(t){const e=t.children&&t.children.map(n0),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=t0),n}function bi(t){return t.outlet||ce}function Bh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class vpe{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),XA(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ml(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ml(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ml(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=ml(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new lH(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ipe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(XA(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),XA(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Bh(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class IH{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class q_{constructor(e,n){this.component=e,this.route=n}}function bpe(t,e,n){const r=t._root;return Uh(r,e?e._root:null,n,[r.value])}function gl(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function A5(t){return null!==hp(t)}(t)?e.get(t):t:r}function Uh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ml(e);return t.children.forEach(o=>{(function Epe(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function Tpe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ua(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ua(t.url,e.url)||!yi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ZA(t,e)||!yi(t.queryParams,e.queryParams);default:return!ZA(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new IH(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Uh(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new q_(a.outlet.component,o))}else o&&jh(e,a,i),i.canActivateChecks.push(new IH(r)),Uh(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>jh(a,n.getContext(o),i)),i}function jh(t,e,n){const r=ml(t),i=t.value;Object.entries(r).forEach(([s,o])=>{jh(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new q_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function $h(t){return"function"==typeof t}function EH(t){return t instanceof F_||"EmptyError"===t?.name}const K_=Symbol("INITIAL_VALUE");function _l(){return Zn(t=>pg(t.map(e=>e.pipe(Ds(1),NT(K_)))).pipe(ae(e=>{for(const n of e)if(!0!==n){if(n===K_)return K_;if(!1===n||n instanceof dl)return n}return!0}),or(e=>e!==K_),Ds(1)))}function TH(t){return function x3(...t){return xP(t)}(Ot(e=>{if(da(e))throw yH(0,e)}),ae(e=>!0===e))}class r0{constructor(e){this.segmentGroup=e||null}}class s0 extends Error{constructor(e){super(),this.urlTree=e}}function yl(t){return Ld(new r0(t))}class Hpe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return z(r);if(i.numberOfChildren>1||!i.children[ce])return Ld(new S(4e3,!1));i=i.children[ce]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new s0(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new dl(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Ne(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const o0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gpe(t,e,n,r,i){const s=a0(t,e,n);return s.matched?(r=function fpe(t,e){return t.providers&&!t._injector&&(t._injector=bE(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Upe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?z(i.map(o=>{const a=gl(o,t);return Hs(function Rpe(t){return t&&$h(t.canMatch)}(a)?a.canMatch(e,n):bo(t,()=>a(e,n)))})).pipe(_l(),TH()):z(!0)}(r,e,n).pipe(ae(o=>!0===o?s:{...o0}))):z(s)}function a0(t,e,n){if("**"===e.path)return function zpe(t){return{matched:!0,parameters:t.length>0?H$(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...o0}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Cfe)(n,t,e);if(!i)return{...o0};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function wH(t,e,n,r){return n.length>0&&function Kpe(t,e,n){return n.some(r=>Q_(t,e,r)&&bi(r)!==ce)}(t,n,r)?{segmentGroup:new Ne(e,qpe(r,new Ne(n,t.children))),slicedSegments:[]}:0===n.length&&function Qpe(t,e,n){return n.some(r=>Q_(t,e,r))}(t,n,r)?{segmentGroup:new Ne(t.segments,Wpe(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ne(t.segments,t.children),slicedSegments:n}}function Wpe(t,e,n,r,i){const s={};for(const o of r)if(Q_(t,n,o)&&!i[bi(o)]){const a=new Ne([],{});s[bi(o)]=a}return{...i,...s}}function qpe(t,e){const n={};n[ce]=e;for(const r of t)if(""===r.path&&bi(r)!==ce){const i=new Ne([],{});n[bi(r)]=i}return n}function Q_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Zpe{}class tme{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Hpe(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new S(4002,`'${e.segmentGroup}'`)}recognize(){const e=wH(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ae(n=>{const r=new QA([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ce,this.rootComponentType,null,{}),i=new $r(r,n),s=new pH("",i),o=function zfe(t,e,n=null,r=null){return tH(eH(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ce).pipe(Lo(r=>{if(r instanceof s0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof r0?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=KA(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ae(s=>s instanceof $r?[s]:[]))}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return qt(i).pipe(zc(s=>{const o=r.children[s],a=function _pe(t,e){const n=t.filter(r=>bi(r)===e);return n.push(...t.filter(r=>bi(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Ife(t,e){return dt(function bfe(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(st(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),L_(null),function Efe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?or((i,s)=>t(i,s,r)):ls,LA(1),n?L_(e):j$(()=>new F_))}(),rn(s=>{if(null===s)return yl(r);const o=CH(s);return function nme(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}(o),z(o)}))}processSegment(e,n,r,i,s,o){return qt(n).pipe(zc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Lo(c=>{if(c instanceof r0)return z(null);throw c}))),la(a=>!!a),Lo(a=>{if(EH(a))return function Xpe(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?z(new Zpe):yl(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Ype(t,e,n,r){return!!(bi(t)===r||r!==ce&&Q_(e,n,t))&&a0(e,t,n).matched}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):yl(i):yl(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=a0(n,i,s);if(!a)return yl(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(rn(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){const o=Gpe(n,r,i,e);return"**"===r.path&&(n.children={}),o.pipe(Zn(a=>a.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(Zn(({routes:c})=>{const l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new QA(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function ime(t){return t.data||{}}(r),bi(r),r.component??r._loadedComponent??null,r,function sme(t){return t.resolve||{}}(r)),{segmentGroup:p,slicedSegments:m}=wH(n,u,d,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(ae(y=>null===y?null:new $r(f,y)));if(0===c.length&&0===m.length)return z(new $r(f,[]));const g=bi(r)===s;return this.processSegment(l,c,p,m,g?ce:s,!0).pipe(ae(y=>new $r(f,y instanceof $r?[y]:[])))})):yl(n)))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?z({routes:n._loadedRoutes,injector:n._loadedInjector}):function Bpe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?z(!0):z(i.map(o=>{const a=gl(o,t);return Hs(function Cpe(t){return t&&$h(t.canLoad)}(a)?a.canLoad(e,n):bo(t,()=>a(e,n)))})).pipe(_l(),TH())}(e,n,r).pipe(rn(i=>i?this.configLoader.loadChildren(e,n).pipe(Ot(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function $pe(t){return Ld(vH(!1,3))}())):z({routes:[],injector:e})}}function rme(t){const e=t.value.routeConfig;return e&&""===e.path}function CH(t){const e=[],n=new Set;for(const r of t){if(!rme(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=CH(r.children);e.push(new $r(r.value,i))}return e.filter(r=>!n.has(r))}function DH(t){const e=t.children.map(n=>DH(n)).flat();return[t,...e]}function c0(t){return Zn(e=>{const n=t(e);return n?qt(n).pipe(ae(()=>e)):z(e)})}let AH=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ce);return r}getResolvedTitleForRoute(n){return n.data[Ph]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:()=>k(dme),providedIn:"root"})}return t})(),dme=(()=>{class t extends AH{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(M(RT))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const vl=new D("",{providedIn:"root",factory:()=>({})}),bl=new D("ROUTES");let l0=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(xL)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Hs(n.loadComponent()).pipe(ae(SH),Ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),_g(()=>{this.componentLoaders.delete(n)})),i=new U$(r,()=>new Yn).pipe(FA());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function hme(t,e,n,r){return Hs(t.loadChildren()).pipe(ae(SH),rn(i=>i instanceof HF||Array.isArray(i)?z(i):qt(e.compileModuleAsync(i))),ae(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(bl,[],{optional:!0,self:!0}).flat()),{routes:o.map(n0),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(_g(()=>{this.childrenLoaders.delete(r)})),o=new U$(s,()=>new Yn).pipe(FA());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function SH(t){return function fme(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let u0=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:()=>k(pme),providedIn:"root"})}return t})(),pme=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const RH=new D(""),xH=new D("");function mme(t,e,n){const r=t.get(xH),i=t.get(Tt);return t.get(pe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s;const o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),function gme(t){return new Promise(e=>{pO(e,{injector:t})})}(t))),{onViewTransitionCreated:c}=r;return c&&bo(t,()=>c({transition:a,from:e,to:n})),o})}let Y_=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Yn,this.transitionAbortSubject=new Yn,this.configLoader=k(l0),this.environmentInjector=k(mr),this.urlSerializer=k(hl),this.rootContexts=k(Lh),this.location=k(Sd),this.inputBindingEnabled=null!==k(W_,{optional:!0}),this.titleStrategy=k(AH),this.options=k(vl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(u0),this.createViewTransition=k(RH,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new npe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new tpe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Xn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(or(s=>0!==s.id),ae(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Zn(s=>{this.currentTransition=s;let o=!1,a=!1;return z(s).pipe(Ot(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zn(c=>{const l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const d="";return this.events.next(new pl(c.id,this.urlSerializer.serialize(c.rawUrl),d,0)),c.resolve(null),Wr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return z(c).pipe(Zn(d=>{const h=this.transitions?.getValue();return this.events.next(new G_(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Wr:Promise.resolve(d)}),function ome(t,e,n,r,i,s){return rn(o=>function Jpe(t,e,n,r,i,s,o="emptyOnly"){return new tme(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(ae(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ot(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new aH(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=c,g=new G_(d,this.urlSerializer.serialize(h),f,p);this.events.next(g);const y=fH(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:y,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,z(s)}{const d="";return this.events.next(new pl(c.id,this.urlSerializer.serialize(c.extractedUrl),d,1)),c.resolve(null),Wr}}),Ot(c=>{const l=new Zfe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ae(c=>(this.currentTransition=s={...c,guards:bpe(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function Ppe(t,e){return rn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?z({...n,guardsResult:!0}):function Mpe(t,e,n,r){return qt(t).pipe(rn(i=>function Vpe(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?z(s.map(a=>{const c=Bh(e)??i,l=gl(a,c);return Hs(function Spe(t){return t&&$h(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):bo(c,()=>l(t,e,n,r))).pipe(la())})).pipe(_l()):z(!0)}(i.component,i.route,n,e,r)),la(i=>!0!==i,!0))}(o,r,i,t).pipe(rn(a=>a&&function wpe(t){return"boolean"==typeof t}(a)?function kpe(t,e,n,r){return qt(e).pipe(zc(i=>mg(function Ope(t,e){return null!==t&&e&&e(new rpe(t)),z(!0)}(i.route.parent,r),function Npe(t,e){return null!==t&&e&&e(new spe(t)),z(!0)}(i.route,r),function Lpe(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Ipe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>B$(()=>z(o.guards.map(c=>{const l=Bh(o.node)??n,u=gl(c,l);return Hs(function Ape(t){return t&&$h(t.canActivateChild)}(u)?u.canActivateChild(r,t):bo(l,()=>u(r,t))).pipe(la())})).pipe(_l())));return z(s).pipe(_l())}(t,i.path,n),function Fpe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return z(!0);const i=r.map(s=>B$(()=>{const o=Bh(e)??n,a=gl(s,o);return Hs(function Dpe(t){return t&&$h(t.canActivate)}(a)?a.canActivate(e,t):bo(o,()=>a(e,t))).pipe(la())}));return z(i).pipe(_l())}(t,i.route,n))),la(i=>!0!==i,!0))}(r,s,t,e):z(a)),ae(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ot(c=>{if(s.guardsResult=c.guardsResult,da(c.guardsResult))throw yH(0,c.guardsResult);const l=new cH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),or(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),c0(c=>{if(c.guards.canActivateChecks.length)return z(c).pipe(Ot(l=>{const u=new Jfe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Zn(l=>{let u=!1;return z(l).pipe(function ame(t,e){return rn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);const s=new Set(i.map(c=>c.route)),o=new Set;for(const c of s)if(!o.has(c))for(const l of DH(c))o.add(l);let a=0;return qt(o).pipe(zc(c=>s.has(c)?function cme(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!gH(i)&&(s[Ph]=i.title),function lme(t,e,n,r){const i=VA(t);if(0===i.length)return z({});const s={};return qt(i).pipe(rn(o=>function ume(t,e,n,r){const i=Bh(e)??r,s=gl(t,i);return Hs(s.resolve?s.resolve(e,n):bo(i,()=>s(e,n)))}(t[o],e,n,r).pipe(la(),Ot(a=>{s[o]=a}))),LA(1),function Tfe(t){return ae(()=>t)}(s),Lo(o=>EH(o)?Wr:Ld(o)))}(s,t,e,r).pipe(ae(o=>(t._resolvedData=o,t.data=KA(t,t.parent,n).resolve,null)))}(c,r,t,e):(c.data=KA(c,c.parent,t).resolve,z(void 0))),Ot(()=>a++),LA(1),rn(c=>a===o.size?z(n):Wr))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ot({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",2)}}))}),Ot(l=>{const u=new epe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),c0(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ot(h=>{u.component=h}),ae(()=>{})));for(const h of u.children)d.push(...l(h));return d};return pg(l(c.targetSnapshot.root)).pipe(L_(),Ds(1))}),c0(()=>this.afterPreactivation()),Zn(()=>{const{currentSnapshot:c,targetSnapshot:l}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?qt(u).pipe(ae(()=>s)):z(s)}),ae(c=>{const l=function lpe(t,e,n){const r=Vh(t,e._root,n?n._root:void 0);return new hH(r,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,s}),Ot(()=>{this.events.next(new GA)}),((t,e,n,r)=>ae(i=>(new vpe(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ds(1),Ot({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ji(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),_2(this.transitionAbortSubject.pipe(Ot(c=>{throw c}))),_g(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Lo(c=>{if(a=!0,bH(c))this.events.next(new fl(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function hpe(t){return bH(t)&&da(t.url)}(c)?this.events.next(new zA(c.url)):s.resolve(!1);else{this.events.next(new z_(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(l){s.reject(l)}}return Wr}))}))}cancelNavigationTransition(n,r,i){const s=new fl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _me(t){return t!==Fh}let yme=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:()=>k(bme),providedIn:"root"})}return t})();class vme{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let bme=(()=>{class t extends vme{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=wb(t)))(i||t)}})();static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),PH=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:()=>k(Ime),providedIn:"root"})}return t})(),Ime=(()=>{class t extends PH{constructor(){super(...arguments),this.location=k(Sd),this.urlSerializer=k(hl),this.options=k(vl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(u0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new dl,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=fH(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof G_)this.stateMemento=this.createStateMemento();else if(n instanceof pl)this.rawUrlTree=r.initialUrl;else if(n instanceof aH){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof GA?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof fl&&(3===n.code||2===n.code)?this.restoreHistory(r):n instanceof z_?this.restoreHistory(r,!0):n instanceof Ji&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=wb(t)))(i||t)}})();static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Hh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Hh||{});function MH(t,e){t.events.pipe(or(n=>n instanceof Ji||n instanceof fl||n instanceof z_||n instanceof pl),ae(n=>n instanceof Ji||n instanceof pl?Hh.COMPLETE:n instanceof fl&&(0===n.code||1===n.code)?Hh.REDIRECTING:Hh.FAILED),or(n=>n!==Hh.REDIRECTING),Ds(1)).subscribe(()=>{e()})}function Eme(t){throw t}const Tme={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wme={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(SL),this.stateManager=k(PH),this.options=k(vl,{optional:!0})||{},this.pendingTasks=k(RL),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Y_),this.urlSerializer=k(hl),this.location=k(Sd),this.urlHandlingStrategy=k(u0),this._events=new Yn,this.errorHandler=this.options.errorHandler||Eme,this.navigated=!1,this.routeReuseStrategy=k(yme),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(bl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(W_,{optional:!0}),this.eventsSubscription=new Dn,this.isNgZoneEnabled=k(pe)instanceof pe&&pe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof fl&&0!==r.code&&1!==r.code)this.navigated=!0;else if(r instanceof Ji)this.navigated=!0;else if(r instanceof zA){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_me(i.source)};this.scheduleNavigation(o,Fh,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function Dme(t){return!(t instanceof GA||t instanceof zA)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(n0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=eH(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return tH(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=da(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Fh,null,r)}navigate(n,r={skipLocationChange:!1}){return function Cme(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new S(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...Tme}:!1===r?{...wme}:r,da(n))return z$(this.currentUrlTree,n,i);const s=this.parseUrl(n);return z$(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return MH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Il=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Yn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Ji&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function yN(t,e,n){return function z8(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?_N:zu}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)($(dr),$(Gs),Pu("tabindex"),$(am),$(ni),$(No))};static#t=this.\u0275dir=Fe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&dE("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&rd("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",JE],skipLocationChange:["skipLocationChange","skipLocationChange",JE],replaceUrl:["replaceUrl","replaceUrl",JE],routerLink:"routerLink"},standalone:!0,features:[TO,go]})}return t})();class kH{}let Rme=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(or(n=>n instanceof Ji),zc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=bE(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return qt(i).pipe(Ua())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):z(null);const s=i.pipe(rn(o=>null===o?z(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?qt([s,this.loader.loadComponent(r)]).pipe(Ua()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(M(dr),M(xL),M(mr),M(kH),M(l0))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const d0=new D("");let NH=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof G_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ji?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof pl&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof uH&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new uH(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function HN(){throw new Error("invalid")}()};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function Ii(t,e){return{\u0275kind:t,\u0275providers:e}}function FH(){const t=k(Pt);return e=>{const n=t.get(Uc);if(e!==n.components[0])return;const r=t.get(dr),i=t.get(LH);1===t.get(h0)&&r.initialNavigation(),t.get(VH,null,fe.Optional)?.setUpPreloading(),t.get(d0,null,fe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const LH=new D("",{factory:()=>new Yn}),h0=new D("",{providedIn:"root",factory:()=>1}),VH=new D("");function kme(t){return Ii(0,[{provide:VH,useExisting:Rme},{provide:kH,useExisting:t}])}function Ome(t){return Ii(9,[{provide:RH,useValue:mme},{provide:xH,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const BH=new D("ROUTER_FORROOT_GUARD"),Fme=[Sd,{provide:hl,useClass:BA},dr,Lh,{provide:Gs,useFactory:function OH(t){return t.routerState.root},deps:[dr]},l0,[]];let f0=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Fme,[],{provide:bl,multi:!0,useValue:n},{provide:BH,useFactory:Ume,deps:[[dr,new It,new Nu]]},{provide:vl,useValue:r||{}},r?.useHash?{provide:No,useClass:Mee}:{provide:No,useClass:gV},{provide:d0,useFactory:()=>{const t=k(Jte),e=k(pe),n=k(vl),r=k(Y_),i=k(hl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new NH(i,r,t,e,n)}},r?.preloadingStrategy?kme(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?jme(r):[],r?.bindToComponentInputs?Ii(8,[_H,{provide:W_,useExisting:_H}]).\u0275providers:[],r?.enableViewTransitions?Ome().\u0275providers:[],[{provide:UH,useFactory:FH},{provide:$E,multi:!0,useExisting:UH}]]}}static forChild(n){return{ngModule:t,providers:[{provide:bl,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(M(BH,8))};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ht({})}return t})();function Ume(t){return"guarded"}function jme(t){return["disabled"===t.initialNavigation?Ii(3,[{provide:Gm,multi:!0,useFactory:()=>{const e=k(dr);return()=>{e.setUpLocationChangeListener()}}},{provide:h0,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ii(2,[{provide:h0,useValue:0},{provide:Gm,multi:!0,deps:[Pt],useFactory:e=>{const n=e.get(xee,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(dr),s=e.get(LH);MH(i,()=>{r(!0)}),e.get(Y_).afterPreactivation=()=>(r(!0),s.closed?z(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const UH=new D(""),Hme=()=>["./experience"];let Gme=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=hn({type:t,selectors:[["app-projects"]],decls:17,vars:2,consts:[[1,"projects-section"],[1,"menu-container"],["href","#",1,"menu",3,"routerLink"],[1,"material-symbols-rounded"],["href","#",1,"menu"],["href","https://mathutechblog.wordpress.com/blog/","target","_blank",1,"menu"]],template:function(r,i){1&r&&(q(0,"div",0)(1,"div",1)(2,"a",2)(3,"span"),_e(4,"Experience"),W(),q(5,"mat-icon",3),_e(6," work_history "),W()(),q(7,"a",4)(8,"span"),_e(9,"Projects"),W(),q(10,"mat-icon",3),_e(11," emoji_objects "),W()(),q(12,"a",5)(13,"span"),_e(14,"Blog"),W(),q(15,"mat-icon",3),_e(16," rss_feed "),W()()()()),2&r&&(Re(2),at("routerLink",EE(1,Hme)))},dependencies:[Il,GT],styles:[".projects-section[_ngcontent-%COMP%]{width:100%;margin-top:30px;display:flex;flex-direction:column;justify-self:center;align-items:center}.projects-section[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{width:100%;height:15vh;margin-bottom:30px;display:grid;grid-template-rows:auto;grid-template-columns:1fr 1fr 1fr;grid-auto-columns:1fr;gap:40px;position:relative}.projects-section[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{width:100%;height:100%;text-decoration:none;transform-origin:50% 100%;border-radius:.5rem;display:flex;justify-content:flex-start;align-items:flex-end;padding-bottom:1.5rem;padding-left:1.5rem;position:relative;overflow:hidden;background-color:#1b242979;transition:.3s ease}.projects-section[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:.3s ease-in-out}.projects-section[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffffff65;right:0;bottom:0;position:absolute;z-index:-1;margin:10px;transition:.3s ease-in-out}.projects-section[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]:hover{z-index:1;background-color:#13191d79;cursor:pointer;box-shadow:0 4px 8px #0006}.projects-section[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{transform-origin:center left;transform:scale(2)}.projects-section[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#ffffff65;right:10px;bottom:10px;position:absolute;transform-origin:right;transform:scale(4)}"]})}return t})();function zme(t,e){if(1&t&&(q(0,"span",13),_e(1),W()),2&t){const n=e.$implicit;Re(1),fE(" ",n.name," ",n.rating," ")}}let Wme=(()=>{class t{service;myDetails=new ose;avatarImage="https://lh3.googleusercontent.com/a/ACg8ocL5ZsD77c6dOJYmEf4p7qNyBDcGY4Ql3p8lBQlKSG7sLB0=s288-c-no";constructor(n){this.service=n}ngOnInit(){this.service.getHeader().then(n=>{this.myDetails=n.val(),this.myDetails.skillArr=n.val().skills.split(",");const r=n.val().skills.split(","),i=[];for(let s of r){let o=s.split(":");i.push({name:o[0],rating:o[1]})}this.myDetails.skillArr=i})}static \u0275fac=function(r){return new(r||t)($(V$))};static \u0275cmp=hn({type:t,selectors:[["app-home"]],decls:18,vars:5,consts:[[1,"container-fluid"],[1,"jumbotron","p-3","p-md-5","text-white","rounded","bg-dark"],[1,"d-flex","flex-wrap","flex-row"],[1,"my-avatar","mr-3"],[3,"src"],[1,"my-description","d-flex","flex-column","mx-4"],[1,"name"],[1,"headline"],[1,"description","p-2","mt-2","font-weight-light"],[1,"skills-section","d-flex","flex-wrap","my-2"],[1,"skills-title"],[1,"row","d-flex","flex-wrap"],["class","skill col-6",4,"ngFor","ngForOf"],[1,"skill","col-6"]],template:function(r,i){1&r&&(q(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),yn(4,"img",4),W(),q(5,"div",5)(6,"span",6),_e(7),W(),q(8,"span",7),_e(9),W(),q(10,"span",8),_e(11),W(),q(12,"div",9)(13,"div",10),_e(14,"Skills"),W(),q(15,"div",11),_n(16,zme,2,2,"span",12),W()()()()(),yn(17,"app-projects"),W()),2&r&&(Re(4),Fm("src",i.avatarImage,zu),Re(3),ai(i.myDetails.name),Re(2),ai(i.myDetails.headline),Re(2),ai(i.myDetails.description),Re(5),at("ngForOf",i.myDetails.skillArr))},dependencies:[pT,Gme],styles:[".my-avatar[_ngcontent-%COMP%]{max-width:270px;max-height:270px;border:1px solid #3b4f58;border-radius:15px;overflow:hidden}.my-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:inherit;height:inherit;font-size:145px}.my-description[_ngcontent-%COMP%]{max-width:60%}.my-description[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;margin-bottom:5px}.my-description[_ngcontent-%COMP%]   .headline[_ngcontent-%COMP%]{font-size:18px}.my-description[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{border:1px solid #3b4f58;line-height:25px;border-radius:10px;font-size:14px}"]})}return t})();function qme(t,e){1&t&&md(0)}function Kme(t,e){if(1&t&&(Ro(0),_e(1),xo()),2&t){const n=vr(2).$implicit;Re(1),ai(n.label)}}const Qme=t=>({"xng-breadcrumb-link-disabled":t}),jH=(t,e,n,r,i,s)=>({$implicit:t,info:e,last:n,first:r,index:i,count:s});function Yme(t,e){if(1&t&&(q(0,"a",7),_n(1,qme,1,0,"ng-container",8)(2,Kme,2,1,"ng-container",9),W()),2&t){const n=vr(),r=n.$implicit,i=n.last,s=n.first,o=n.index,a=n.count,c=vr();at("ngClass",function JF(t,e,n,r){return eL(I(),Rn(),t,e,n,r)}(10,Qme,r.disable))("routerLink",r.routeInterceptor?r.routeInterceptor(r.routeLink,r):r.routeLink)("queryParams",c.preserveQueryParams?r.queryParams:void 0)("fragment",c.preserveFragment?r.fragment:void 0)("target",c.anchorTarget?c.anchorTarget:"_self"),rd("aria-disabled",r.disable)("tabIndex",r.disable?-1:0),Re(1),at("ngTemplateOutlet",c.itemTemplate)("ngTemplateOutletContext",TE(12,jH,r.label,r.info,i,s,o,a)),Re(1),at("ngIf",!c.itemTemplate)}}function Xme(t,e){1&t&&md(0)}function Zme(t,e){if(1&t&&(Ro(0),_e(1),xo()),2&t){const n=vr(2).$implicit;Re(1),ai(n.label)}}function Jme(t,e){if(1&t&&(q(0,"label",10),_n(1,Xme,1,0,"ng-container",8)(2,Zme,2,1,"ng-container",9),W()),2&t){const n=vr(),r=n.$implicit,i=n.last,s=n.first,o=n.index,a=n.count,c=vr();Re(1),at("ngTemplateOutlet",c.itemTemplate)("ngTemplateOutletContext",TE(3,jH,r.label,r.info,i,s,o,a)),Re(1),at("ngIf",!c.itemTemplate)}}function ege(t,e){1&t&&md(0)}function tge(t,e){if(1&t&&(Ro(0),_e(1),xo()),2&t){const n=vr(3);Re(1),ai(n.separator)}}function nge(t,e){if(1&t&&(q(0,"li",11),_n(1,ege,1,0,"ng-container",12)(2,tge,2,1,"ng-container",9),W()),2&t){const n=vr(2);Re(1),at("ngTemplateOutlet",n.separatorTemplate),Re(1),at("ngIf",!n.separatorTemplate)}}function rge(t,e){if(1&t&&(Ro(0),q(1,"li",3),_n(2,Yme,3,19,"a",4)(3,Jme,3,10,"label",5),W(),_n(4,nge,3,2,"li",6),xo()),2&t){const n=e.last;Re(2),at("ngIf",!n),Re(1),at("ngIf",n),Re(1),at("ngIf",!n)}}let ige=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Fe({type:t,selectors:[["","xngBreadcrumbItem",""]]})}return t})();const $H=t=>t&&Object.keys(t).length>0;let HH=(()=>{class t{constructor(n,r){this.activatedRoute=n,this.router=r,this.baseHref="/",this.dynamicBreadcrumbStore=[],this.currentBreadcrumbs=[],this.previousBreadcrumbs=[],this.breadcrumbs=new Xn([]),this.breadcrumbs$=this.breadcrumbs.asObservable(),this.detectRouteChanges()}detectRouteChanges(){this.setupBreadcrumbs(this.activatedRoute.snapshot),this.router.events.pipe(or(n=>n instanceof cH)).subscribe(n=>{n.shouldActivate&&this.setupBreadcrumbs(n.state.root)})}setupBreadcrumbs(n){this.previousBreadcrumbs=this.currentBreadcrumbs;const r=this.getRootBreadcrumb();this.currentBreadcrumbs=r?[r]:[],this.prepareBreadcrumbList(n,this.baseHref)}getRootBreadcrumb(){const n=this.router.config.find(s=>""===s.path),r=this.extractObject(n?.data?.breadcrumb),i=this.getFromStore(r.alias,"/");if($H(r)||$H(i))return{...i,...r,routeLink:this.baseHref,...this.getQueryParamsFromPreviousList("/")}}prepareBreadcrumbItem(n,r){const{path:i,breadcrumb:s}=this.parseRouteData(n.routeConfig),o=this.resolvePathSegment(i,n),a=`${r}${o}`,c=this.getFromStore(s.alias,a),l=this.extractLabel(c?.label||s?.label,o);let u=!1,d="";return l||(u=!0,d=o),{...c,...s,label:u?d:l,routeLink:a,isAutoGeneratedLabel:u,...this.getQueryParamsFromPreviousList(a)}}prepareBreadcrumbList(n,r){if(null!=n.routeConfig?.path){const o=this.prepareBreadcrumbItem(n,r);if(this.currentBreadcrumbs.push(o),n.firstChild)return this.prepareBreadcrumbList(n.firstChild,o.routeLink+"/")}else if(n.firstChild)return this.prepareBreadcrumbList(n.firstChild,r);this.setQueryParamsForActiveBreadcrumb(this.currentBreadcrumbs[this.currentBreadcrumbs.length-1],n);const s=this.currentBreadcrumbs.filter(o=>!o.skip);this.breadcrumbs.next(s)}getFromStore(n,r){return this.dynamicBreadcrumbStore.find(i=>n&&n===i.alias||r&&r===i.routeLink||this.matchRegex(r,i.routeRegex))}matchRegex(n,r){return n.match(new RegExp(r))?.[0]===n}resolvePathSegment(n,r){return n.includes(":")&&Object.entries(r.params).forEach(([i,s])=>{n=n.replace(`:${i}`,`${s}`)}),n}getQueryParamsFromPreviousList(n){const{queryParams:r,fragment:i}=this.previousBreadcrumbs.find(s=>s.routeLink===n)||{};return{queryParams:r,fragment:i}}setQueryParamsForActiveBreadcrumb(n,r){if(n){const{queryParams:i,fragment:s}=r;n.queryParams=i?{...i}:void 0,n.fragment=s}}parseRouteData(n){const{path:r,data:i}=n;return{path:r,breadcrumb:this.mergeWithBaseChildData(n,i?.breadcrumb)}}mergeWithBaseChildData(n,r){if(!n)return this.extractObject(r);let i;n.loadChildren?i=n._loadedRoutes.find(o=>""===o.path):n.children&&(i=n.children.find(o=>""===o.path));const s=i?.data?.breadcrumb;return s?this.mergeWithBaseChildData(i,{...this.extractObject(r),...this.extractObject(s)}):this.extractObject(r)}set(n,r){const i=this.extractObject(r);let s;s=n.startsWith("@")?["alias",{...i,alias:n.slice(1)}]:n.includes(":")?["routeRegex",{...i,routeRegex:this.buildRegex(n)}]:["routeLink",{...i,routeLink:this.ensureLeadingSlash(n)}],s[1].isAutoGeneratedLabel=!1,this.updateStore(...s),this.updateCurrentBreadcrumbs(...s)}updateStore(n,r){const i=this.dynamicBreadcrumbStore.findIndex(s=>r[n]===s[n]);i>-1?this.dynamicBreadcrumbStore[i]={...this.dynamicBreadcrumbStore[i],...r}:this.dynamicBreadcrumbStore.push({...r})}updateCurrentBreadcrumbs(n,r){const i=this.currentBreadcrumbs.findIndex(s=>"routeRegex"===n?this.matchRegex(s.routeLink,r[n]):r[n]===s[n]);if(i>-1){this.currentBreadcrumbs[i]={...this.currentBreadcrumbs[i],...r};const s=this.currentBreadcrumbs.filter(o=>!o.skip);this.breadcrumbs.next([...s])}}buildRegex(n){return this.ensureLeadingSlash(n).replace(new RegExp("/:[^/]+","g"),"/[^/]+")}ensureLeadingSlash(n){return n.startsWith("/")?n:`/${n}`}extractLabel(n,r){const i="object"==typeof n?n.label:n;return"function"==typeof i?i(r):i}extractObject(n){return!n||"string"!=typeof n&&"function"!=typeof n?n||{}:{label:n}}static#e=this.\u0275fac=function(r){return new(r||t)(M(Gs),M(dr))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oge=(()=>{class t{set separator(n){n instanceof Or?(this.separatorTemplate=n,this._separator=void 0):(this.separatorTemplate=void 0,this._separator=n||"/")}get separator(){return this._separator}constructor(n,r){this.breadcrumbService=n,this._separator="/",this.autoGenerate=!0,this.preserveQueryParams=!0,this.preserveFragment=!0,this.class="",this.setupMessage="not set up yet",this.someParameterValue=null,r.params.subscribe(i=>{this.setupComponent(i.someParam)})}setupComponent(n){this.setupMessage="set up at "+new Date,this.someParameterValue=n}ngOnInit(){this.breadcrumbs$=this.breadcrumbService.breadcrumbs$.pipe(ae(n=>n.filter(r=>!!this.autoGenerate||!r.isAutoGeneratedLabel).map(r=>{const{routeInterceptor:i,routeLink:s}=r;return{...r,routeLink:i?.(s,r)||s}})))}static#e=this.\u0275fac=function(r){return new(r||t)($(HH),$(Gs))};static#t=this.\u0275cmp=hn({type:t,selectors:[["xng-breadcrumb"]],contentQueries:function(r,i,s){if(1&r&&PE(s,ige,5,Or),2&r){let o;xE(o=function ME(){return function HZ(t,e){return t[Kr].queries[e].queryList}(I(),UM())}())&&(i.itemTemplate=o.first)}},inputs:{autoGenerate:"autoGenerate",preserveQueryParams:"preserveQueryParams",preserveFragment:"preserveFragment",class:"class",anchorTarget:"anchorTarget",separator:"separator"},decls:4,vars:4,consts:[["aria-label","breadcrumb",1,"xng-breadcrumb-root",3,"ngClass"],[1,"xng-breadcrumb-list"],[4,"ngFor","ngForOf"],[1,"xng-breadcrumb-item"],["class","xng-breadcrumb-link","rel","noopener noreferrer",3,"ngClass","routerLink","queryParams","fragment","target",4,"ngIf"],["class","xng-breadcrumb-trail",4,"ngIf"],["class","xng-breadcrumb-separator","aria-hidden","true",4,"ngIf"],["rel","noopener noreferrer",1,"xng-breadcrumb-link",3,"ngClass","routerLink","queryParams","fragment","target"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[1,"xng-breadcrumb-trail"],["aria-hidden","true",1,"xng-breadcrumb-separator"],[4,"ngTemplateOutlet"]],template:function(r,i){1&r&&(q(0,"nav",0)(1,"ol",1),_n(2,rge,5,3,"ng-container",2),function sL(t,e){const n=ge();let r;const i=t+ne;n.firstCreatePass?(r=function RZ(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=mo(r.type)),a=jn($);try{const c=Sp(!1),l=s();return Sp(c),function WX(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,I(),i,l),l}finally{jn(a)}}(3,"async"),W()()),2&r&&(at("ngClass",i.class),Re(2),at("ngForOf",oL(3,2,i.breadcrumbs$)))},dependencies:[AV,pT,mT,MV,Il,kV],styles:[".xng-breadcrumb-root{margin:0}.xng-breadcrumb-list{display:flex;align-items:center;flex-wrap:wrap;margin:0;padding:0}.xng-breadcrumb-item{list-style:none}.xng-breadcrumb-trail{display:flex;align-items:center}.xng-breadcrumb-link{display:flex;align-items:center;white-space:nowrap;color:inherit;text-decoration:none;transition:-webkit-text-decoration .3s;transition:text-decoration .3s;transition:text-decoration .3s,-webkit-text-decoration .3s;cursor:pointer}.xng-breadcrumb-link:hover{text-decoration:underline}.xng-breadcrumb-link-disabled{pointer-events:none;cursor:disabled}.xng-breadcrumb-separator{display:flex;-webkit-user-select:none;user-select:none;margin-left:8px;margin-right:8px}\n"],encapsulation:2})}return t})(),age=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ht({imports:[ug,f0]})}return t})();const cge=[{path:"",component:Wme},{path:"about",component:sse,data:{breadcrumb:{alias:"About"}}},{path:"portfolio",component:ise,data:{breadcrumb:{alias:"Portfolio"}}},{path:"experience",component:(()=>{class t{breadcrumbService;constructor(n){this.breadcrumbService=n}ngOnInit(){this.breadcrumbService.set("@Experience","Experience")}static \u0275fac=function(r){return new(r||t)($(HH))};static \u0275cmp=hn({type:t,selectors:[["app-experience"]],decls:12,vars:0,consts:[[1,"experience-container"],[1,"exp-grid-container"],[1,"experience-item"]],template:function(r,i){1&r&&(q(0,"div",0)(1,"div",1)(2,"div",2),_e(3,"experience works!"),W(),q(4,"div",2),_e(5,"experience works!"),W(),q(6,"div",2),_e(7,"experience works!"),W(),q(8,"div",2),_e(9,"experience works!"),W(),q(10,"div",2),_e(11,"experience works!"),W()()())},styles:[".experience-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:0 100px}.experience-container[_ngcontent-%COMP%]   .exp-grid-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;display:grid;grid-template-rows:auto auto auto auto;grid-template-columns:1fr 1fr 1fr 1fr;grid-auto-columns:1fr;gap:30px;position:relative;padding:0 20px}.experience-container[_ngcontent-%COMP%]   .exp-grid-container[_ngcontent-%COMP%]   .experience-item[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;transform-origin:50% 100%;justify-content:flex-start;border-radius:.5rem;background-color:#1b2429;padding:10px;overflow:hidden}"]})}return t})(),data:{breadcrumb:{alias:"Experience"}}},{path:"**",component:rse}];let lge=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=vt({type:t});static \u0275inj=ht({imports:[f0.forRoot(cge),f0]})}return t})();function uge(t,e){1&t&&(q(0,"mat-icon"),_e(1,"arrow_right"),W())}const dge=()=>["/"];let hge=(()=>{class t{headerData;constructor(){}ngOnInit(){}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=hn({type:t,selectors:[["app-navbar"]],inputs:{headerData:"headerData"},decls:26,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","mb-4","px-3","justify-content-between"],[1,"navbar-brand"],[3,"routerLink"],[3,"separator"],["iconTemplate",""],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"material-symbols-rounded"],["id","navbarNavDropdown",1,"socials","collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item","mx-2"],["target","_blank","href","https://linkedin.com/in/benard-mathu"],["src","assets/images/linkedin.svg","alt","LinkedIn",1,"social-icons"],["target","_blank","href","https://twitter.com/beniemathu"],["src","assets/images/icon_x.svg","alt","Twitter",1,"social-icons"],["target","_blank","href","https://instagram.com/benard.mathu?igshid=ZDdkNTZiNTM="],["src","assets/images/instagram.svg","alt","Instagram",1,"social-icons"],["target","_blank","href","https://github.com/ben-mathu"],["src","assets/images/github.svg","width","30","height","30","alt","Github: ben-mathu",1,"social-icons"]],template:function(r,i){if(1&r&&(q(0,"nav",0)(1,"div",1)(2,"a",2),_e(3,"Home"),W(),q(4,"div"),yn(5,"xng-breadcrumb",3),_n(6,uge,2,0,"ng-template",null,4,hL),W()(),q(8,"button",5)(9,"span",6)(10,"mat-icon"),_e(11,"menu"),W()()(),q(12,"div",7)(13,"ul",8)(14,"li",9)(15,"a",10),yn(16,"img",11),W()(),q(17,"li",9)(18,"a",12),yn(19,"img",13),W()(),q(20,"li",9)(21,"a",14),yn(22,"img",15),W()(),q(23,"li",9)(24,"a",16),yn(25,"img",17),W()()()()()),2&r){const s=function wF(t){return Qa(function T6(){return X.lFrame.contextLView}(),ne+t)}(7);Re(2),at("routerLink",EE(2,dge)),Re(3),at("separator",s)}},dependencies:[Il,GT,oge],styles:[".navbar-nav[_ngcontent-%COMP%]{display:flex;flex-direction:row}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}a[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]{width:20px;height:20px}xng-breadcrumb[_ngcontent-%COMP%]{font-size:small}mat-icon[_ngcontent-%COMP%]{color:#fff}.socials[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content}"]})}return t})();function fge(t,e){1&t&&(q(0,"a",22)(1,"mat-icon"),_e(2,"description"),W(),q(3,"span"),_e(4,"CV"),W()()),2&t&&Fm("href",vr().myDetails.cv_url,zu)}function pge(t,e){if(1&t&&(q(0,"a",23)(1,"mat-icon"),_e(2,"phone"),W(),q(3,"span"),_e(4),W()()),2&t){const n=vr();Re(4),ai(n.myDetails.phone)}}function mge(t,e){if(1&t&&(q(0,"a",24)(1,"mat-icon"),_e(2,"email"),W(),q(3,"span"),_e(4),W()()),2&t){const n=vr();Lm("href","mailto:",n.myDetails.email,"",zu),Re(4),ai(n.myDetails.email)}}let gge=(()=>{class t{myDetails;constructor(){}ngOnInit(){}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=hn({type:t,selectors:[["app-footer"]],inputs:{myDetails:"myDetails"},decls:33,vars:3,consts:[[1,"container-fluid","d-flex","flex-wrap","footer"],[1,"follow-me"],[1,"social-title","sub-titles"],[1,"social-links"],["target","_blank","href","https://linkedin.com/in/benard-mathu"],["src","assets/images/linkedin.svg","alt","LinkedIn",1,"social-icons"],["target","_blank","href","https://twitter.com/beniemathu"],["src","assets/images/icon_x.svg","alt","Twitter",1,"social-icons"],["target","_blank","href","https://instagram.com/benard.mathu?igshid=ZDdkNTZiNTM="],["src","assets/images/instagram.svg","alt","Instagram",1,"social-icons"],["target","_blank","href","https://github.com/ben-mathu"],["src","assets/images/github.svg","width","30","height","30","alt","Github: ben-mathu",1,"social-icons"],[1,"social-universe"],[1,"spotify-playlist"],["src","https://open.spotify.com/embed/playlist/6ISGW6cNRUjbn1AWTHfACy?utm_source=generator","width","100%","height","352","frameBorder","0","allow","autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture","allowfullscreen","","loading","lazy",2,"border-radius","12px"],[1,"links"],[1,"information","link-sections"],[1,"info-title","sub-titles"],[1,"info-links"],["target","_blank",3,"href",4,"ngIf"],["href","#",4,"ngIf"],[3,"href",4,"ngIf"],["target","_blank",3,"href"],["href","#"],[3,"href"]],template:function(r,i){1&r&&(q(0,"div",0)(1,"div",1)(2,"div",2),_e(3,"Follow Me"),W(),q(4,"div",3)(5,"ul")(6,"li")(7,"a",4),yn(8,"img",5),W()(),q(9,"li")(10,"a",6),yn(11,"img",7),W()(),q(12,"li")(13,"a",8),yn(14,"img",9),W()(),q(15,"li")(16,"a",10),yn(17,"img",11),W()()()(),q(18,"div",12)(19,"div",13),yn(20,"iframe",14),W()()(),q(21,"div",15)(22,"div",16)(23,"div",17),_e(24,"Information"),W(),q(25,"div",18)(26,"ul")(27,"li"),_n(28,fge,5,1,"a",19),W(),q(29,"li"),_n(30,pge,5,1,"a",20),W(),q(31,"li"),_n(32,mge,5,2,"a",21),W()()()()()()),2&r&&(Re(28),at("ngIf",void 0!==i.myDetails),Re(2),at("ngIf",void 0!==i.myDetails),Re(2),at("ngIf",void 0!==i.myDetails))},dependencies:[mT,GT],styles:[".footer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;background-image:url(footer_background.d1ed5fbbbb3ad3db.svg);background-repeat:no-repeat;background-size:cover}.footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-left:auto}.footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .link-sections[_ngcontent-%COMP%]{margin:30px}.info-links[_ngcontent-%COMP%]{width:270px}.info-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;border:1px solid #3b4f58;border-radius:10px}.info-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;align-items:center;gap:10px;text-decoration:none;color:#fff;font-weight:700}.info-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6ca9bc}.follow-me[_ngcontent-%COMP%]{margin:30px}ul[_ngcontent-%COMP%]{padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:5px}.social-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}.social-icons[_ngcontent-%COMP%]{width:30px;height:30px;padding:8px;background-color:#1e272c;border-radius:5px;text-decoration:none}"]})}return t})(),_ge=(()=>{class t{service;myDetails;constructor(n){this.service=n}ngOnInit(){this.service.getHeader().then(n=>{this.myDetails=n.val(),this.myDetails.skillArr=n.val().skills.split(",")})}static \u0275fac=function(r){return new(r||t)($(V$))};static \u0275cmp=hn({type:t,selectors:[["app-root"]],decls:3,vars:2,consts:[[3,"headerData"],[3,"myDetails"]],template:function(r,i){1&r&&yn(0,"app-navbar",0)(1,"router-outlet")(2,"app-footer",1),2&r&&(at("headerData",i.myDetails),Re(2),at("myDetails",i.myDetails))},dependencies:[JA,hge,gge],styles:["app-footer[_ngcontent-%COMP%]{margin-top:auto}"]})}return t})();const p0_firebase={projectId:"ben-mathu-portfolio",appId:"1:512645300438:web:e1b41a9724275508b28977",databaseURL:"https://ben-mathu-portfolio-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"ben-mathu-portfolio.appspot.com",locationId:"europe-west",apiKey:"AIzaSyASvEpLdxPFboli1hzO8AFrth1cpc9Ate0",authDomain:"ben-mathu-portfolio.firebaseapp.com",messagingSenderId:"512645300438",measurementId:"G-3S6VR7XQRY"};const bge=(t,e)=>e.some(n=>t instanceof n);let GH,zH;const WH=new WeakMap,m0=new WeakMap,qH=new WeakMap,g0=new WeakMap,_0=new WeakMap;let y0={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return m0.get(t);if("objectStoreNames"===e)return t.objectStoreNames||qH.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Age(t){return"function"==typeof t?function Dge(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ege(){return zH||(zH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(v0(this),e),zs(WH.get(this))}:function(...e){return zs(t.apply(v0(this),e))}:function(e,...n){const r=t.call(v0(this),e,...n);return qH.set(r,e.sort?e.sort():[e]),zs(r)}}(t):(t instanceof IDBTransaction&&function wge(t){if(m0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});m0.set(t,e)}(t),bge(t,function Ige(){return GH||(GH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,y0):t)}function zs(t){if(t instanceof IDBRequest)return function Tge(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WH.set(n,t)}).catch(()=>{}),_0.set(e,t),e}(t);if(g0.has(t))return g0.get(t);const e=Age(t);return e!==t&&(g0.set(t,e),_0.set(e,t)),e}const v0=t=>_0.get(t),Rge=["get","getKey","getAll","getAllKeys","count"],xge=["put","add","delete","clear"],b0=new Map;function KH(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(b0.get(e))return b0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xge.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Rge.includes(n))return;const s=function(){var o=C(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return b0.set(e,s),s}!function Cge(t){y0=t(y0)}(t=>({...t,get:(e,n,r)=>KH(e,n)||t.get(e,n,r),has:(e,n)=>!!KH(e,n)||t.has(e,n)}));const QH="@firebase/installations",I0="0.6.4",YH=1e4,XH=`w:${I0}`,ZH="FIS_v2",Pge="https://firebaseinstallations.googleapis.com/v1",Mge=36e5,es=new Uo("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function JH(t){return t instanceof li&&t.code.includes("request-failed")}function E0({projectId:t}){return`${Pge}/projects/${t}/installations`}function eG(t){return{token:t.token,requestStatus:2,expiresIn:Fge(t.expiresIn),creationTime:Date.now()}}function T0(t,e){return w0.apply(this,arguments)}function w0(){return w0=C(function*(t,e){const r=(yield e.json()).error;return es.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),w0.apply(this,arguments)}function tG({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function C0(t){return D0.apply(this,arguments)}function D0(){return D0=C(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),D0.apply(this,arguments)}function Fge(t){return Number(t.replace("s","000"))}function A0(){return A0=C(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=E0(t),i=tG(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:ZH,appId:t.appId,sdkVersion:XH})},c=yield C0(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:eG(l.authToken)}}throw yield T0("Create Installation",c)}),A0.apply(this,arguments)}function rG(t){return new Promise(e=>{setTimeout(e,t)})}const Uge=/^[cdef][\w-]{21}$/,S0="";function jge(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function $ge(t){return function Bge(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Uge.test(n)?n:S0}catch{return S0}}function El(t){return`${t.appName}!${t.appId}`}const Tl=new Map;function iG(t,e){const n=El(t);sG(n,e),function zge(t,e){const n=function oG(){return!ha&&"BroadcastChannel"in self&&(ha=new BroadcastChannel("[Firebase] FID Change"),ha.onmessage=t=>{sG(t.data.key,t.data.fid)}),ha}();n&&n.postMessage({key:t,fid:e}),function aG(){0===Tl.size&&ha&&(ha.close(),ha=null)}()}(n,e)}function sG(t,e){const n=Tl.get(t);if(n)for(const r of n)r(e)}let ha=null;const Wge="firebase-installations-database",qge=1,fa="firebase-installations-store";let R0=null;function x0(){return R0||(R0=function Sge(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(zs(o.result),c.oldVersion,c.newVersion,zs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Wge,qge,{upgrade:(t,e)=>{0===e&&t.createObjectStore(fa)}})),R0}function Z_(t,e){return P0.apply(this,arguments)}function P0(){return P0=C(function*(t,e){const n=El(t),i=(yield x0()).transaction(fa,"readwrite"),s=i.objectStore(fa),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&iG(t,e.fid),e}),P0.apply(this,arguments)}function M0(t){return k0.apply(this,arguments)}function k0(){return k0=C(function*(t){const e=El(t),r=(yield x0()).transaction(fa,"readwrite");yield r.objectStore(fa).delete(e),yield r.done}),k0.apply(this,arguments)}function Gh(t,e){return N0.apply(this,arguments)}function N0(){return N0=C(function*(t,e){const n=El(t),i=(yield x0()).transaction(fa,"readwrite"),s=i.objectStore(fa),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&iG(t,a.fid),a}),N0.apply(this,arguments)}function O0(t){return F0.apply(this,arguments)}function F0(){return F0=C(function*(t){let e;const n=yield Gh(t.appConfig,r=>{const i=function Kge(t){return lG(t||{fid:jge(),registrationStatus:0})}(r),s=function Qge(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(es.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Yge(t,e){return L0.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Xge(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===S0?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),F0.apply(this,arguments)}function L0(){return L0=C(function*(t,e){try{const n=yield function Vge(t,e){return A0.apply(this,arguments)}(t,e);return Z_(t.appConfig,n)}catch(n){throw JH(n)&&409===n.customData.serverCode?yield M0(t.appConfig):yield Z_(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),L0.apply(this,arguments)}function Xge(t){return V0.apply(this,arguments)}function V0(){return V0=C(function*(t){let e=yield cG(t.appConfig);for(;1===e.registrationStatus;)yield rG(100),e=yield cG(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield O0(t);return r||n}return e}),V0.apply(this,arguments)}function cG(t){return Gh(t,e=>{if(!e)throw es.create("installation-not-found");return lG(e)})}function lG(t){return function Zge(t){return 1===t.registrationStatus&&t.registrationTime+YH<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function B0(){return B0=C(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function e_e(t,{fid:e}){return`${E0(t)}/${e}/authTokens:generate`}(t,n),i=function nG(t,{refreshToken:e}){const n=tG(t);return n.append("Authorization",function Lge(t){return`${ZH} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:XH,appId:t.appId}})},c=yield C0(()=>fetch(r,a));if(c.ok)return eG(yield c.json());throw yield T0("Generate Auth Token",c)}),B0.apply(this,arguments)}function U0(t){return j0.apply(this,arguments)}function j0(){return j0=C(function*(t,e=!1){let n;const r=yield Gh(t.appConfig,s=>{if(!dG(s))throw es.create("not-registered");const o=s.authToken;if(!e&&function r_e(t){return 2===t.requestStatus&&!function i_e(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Mge}(t)}(o))return s;if(1===o.requestStatus)return n=function t_e(t,e){return $0.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw es.create("app-offline");const a=function s_e(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function n_e(t,e){return H0.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),j0.apply(this,arguments)}function $0(){return $0=C(function*(t,e){let n=yield uG(t.appConfig);for(;1===n.authToken.requestStatus;)yield rG(100),n=yield uG(t.appConfig);const r=n.authToken;return 0===r.requestStatus?U0(t,e):r}),$0.apply(this,arguments)}function uG(t){return Gh(t,e=>{if(!dG(e))throw es.create("not-registered");return function o_e(t){return 1===t.requestStatus&&t.requestTime+YH<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function H0(){return H0=C(function*(t,e){try{const n=yield function Jge(t,e){return B0.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Z_(t.appConfig,r),n}catch(n){if(!JH(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Z_(t.appConfig,r)}else yield M0(t.appConfig);throw n}}),H0.apply(this,arguments)}function dG(t){return void 0!==t&&2===t.registrationStatus}function G0(){return G0=C(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield O0(e);return r?r.catch(console.error):U0(e).catch(console.error),n.fid}),G0.apply(this,arguments)}function z0(){return z0=C(function*(t,e=!1){const n=t;return yield function l_e(t){return W0.apply(this,arguments)}(n),(yield U0(n,e)).token}),z0.apply(this,arguments)}function W0(){return W0=C(function*(t){const{registrationPromise:e}=yield O0(t);e&&(yield e)}),W0.apply(this,arguments)}function Q0(t){return es.create("missing-app-config-values",{valueName:t})}const hG="installations",p_e=t=>{const e=t.getProvider("app").getImmediate(),n=function h_e(t){if(!t||!t.options)throw Q0("App Configuration");if(!t.name)throw Q0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Q0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Go(e,"heartbeat"),_delete:()=>Promise.resolve()}},m_e=t=>{const n=Go(t.getProvider("app").getImmediate(),hG).getImmediate();return{getId:()=>function a_e(t){return G0.apply(this,arguments)}(n),getToken:i=>function c_e(t){return z0.apply(this,arguments)}(n,i)}};(function g_e(){Vr(new Er(hG,p_e,"PUBLIC")),Vr(new Er("installations-internal",m_e,"PRIVATE"))})(),mt(QH,I0),mt(QH,I0,"esm2017");const J_="analytics",__e="firebase_id",y_e="origin",v_e=6e4,b_e="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Y0="https://www.googletagmanager.com/gtag/js",Xt=new Gd("@firebase/analytics"),Fn=new Uo("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function E_e(t){if(!t.startsWith(Y0)){const e=Fn.create("invalid-gtag-resource",{gtagURL:t});return Xt.warn(e.message),""}return t}function fG(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function X0(){return X0=C(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield fG(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Xt.error(a)}t("config",i,s)}),X0.apply(this,arguments)}function Z0(){return Z0=C(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield fG(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Xt.error(s)}}),Z0.apply(this,arguments)}const P_e=30,pG=new class k_e{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function N_e(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function J0(){return J0=C(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:N_e(r)},s=b_e.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Fn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),J0.apply(this,arguments)}function eS(){return eS=C(function*(t,e=pG,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Fn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Fn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new B_e;return setTimeout(C(function*(){a.abort()}),void 0!==n?n:v_e),mG({appId:r,apiKey:i,measurementId:s},o,a,e)}),eS.apply(this,arguments)}function mG(t,e,n){return tS.apply(this,arguments)}function tS(){return tS=C(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=pG){var s;const{appId:o,measurementId:a}=t;try{yield function L_e(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function O_e(t){return J0.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function V_e(t){if(!(t instanceof li&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return Xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?gB(n,i.intervalMillis,P_e):gB(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),Xt.debug(`Calling attemptFetch again in ${u} millis`),mG(t,d,r,i)}}),tS.apply(this,arguments)}class B_e{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let nS,lS;function rS(){return rS=C(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),rS.apply(this,arguments)}function sS(){return sS=C(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),sS.apply(this,arguments)}function uS(){return uS=C(function*(){if(!JT())return Xt.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ew()}catch(t){return Xt.warn(Fn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),uS.apply(this,arguments)}function dS(){return dS=C(function*(t,e,n,r,i,s,o){var a;const c=function F_e(t){return eS.apply(this,arguments)}(t);c.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Xt.error(f)),e.push(c);const l=function W_e(){return uS.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function x_e(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Y0)&&n.src.includes(t))return n;return null})(s)||function w_e(t,e){const n=function T_e(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:E_e}),r=document.createElement("script"),i=`${Y0}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),lS&&(i("consent","default",lS),function gG(t){lS=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[y_e]="firebase",h.update=!0,null!=d&&(h[__e]=d),i("config",u.measurementId,h),nS&&(i("set",nS),function _G(t){nS=t}(void 0)),u.measurementId}),dS.apply(this,arguments)}class K_e{constructor(e){this.app=e}_delete(){return delete Ei[this.app.options.appId],Promise.resolve()}}let Ei={},yG=[];const vG={};let IG,Ti,ey="dataLayer",hS=!1;function Y_e(t,e,n){!function Q_e(){const t=[];if(ZT()&&t.push("This is a browser extension environment."),fB()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Fn.create("invalid-analytics-context",{errorInfo:e});Xt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Fn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Fn.create("no-api-key");Xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ei[r])throw Fn.create("already-exists",{id:r});if(!hS){!function C_e(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ey);const{wrappedGtag:s,gtagCore:o}=function R_e(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function S_e(t,e,n,r){function s(){return s=C(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function A_e(t,e,n,r,i){return Z0.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function D_e(t,e,n,r,i,s){return X0.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){Xt.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Ei,yG,vG,ey,"gtag");Ti=s,IG=o,hS=!0}return Ei[r]=function q_e(t,e,n,r,i,s,o){return dS.apply(this,arguments)}(t,yG,vG,e,IG,ey,n),new K_e(t)}function X_e(t=Ng()){const e=Go(t=cr(t),J_);return e.isInitialized()?e.getImmediate():function Z_e(t,e={}){const n=Go(t,J_);if(n.isInitialized()){const i=n.getImmediate();if(xg(e,n.getOptions()))return i;throw Fn.create("already-initialized")}return n.initialize({options:e})}(t)}function J_e(){return fS.apply(this,arguments)}function fS(){return(fS=C(function*(){if(ZT()||!fB()||!JT())return!1;try{return yield ew()}catch{return!1}})).apply(this,arguments)}function eye(t,e,n){t=cr(t),function $_e(t,e,n,r){return sS.apply(this,arguments)}(Ti,Ei[t.app.options.appId],e,n).catch(r=>Xt.error(r))}function EG(t,e,n,r){t=cr(t),function U_e(t,e,n,r,i){return rS.apply(this,arguments)}(Ti,Ei[t.app.options.appId],e,n,r).catch(i=>Xt.error(i))}const TG="@firebase/analytics";!function tye(){Vr(new Er(J_,(e,{options:n})=>Y_e(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Vr(new Er("analytics-internal",function t(e){try{const n=e.getProvider(J_).getImmediate();return{logEvent:(r,i,s)=>EG(n,r,i,s)}}catch(n){throw Fn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),mt(TG,"0.10.0"),mt(TG,"0.10.0","esm2017")}();class zh{constructor(e){return e}}const CG="analytics",mS="__angularfire_symbol__analyticsIsSupportedValue",DG="__angularfire_symbol__analyticsIsSupported";globalThis[DG]||=J_e().then(t=>globalThis[mS]=t).catch(()=>globalThis[mS]=!1);const ty={async:()=>globalThis[DG],sync:()=>{const t=globalThis[mS];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},AG=ty.async,rye=ui(X_e,!0),iye=ui(EG,!0),sye=ui(eye,!0);let SG=(()=>{class t{initialized;disposables=[];constructor(n,r,i){let s;mt("angularfire",zo.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),AG().then(()=>{const o=i.get(zh);o?this.disposables=[Hle(n).subscribe(a=>{sye(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}static \u0275fac=function(r){return new(r||t)(M(e_),M(pe),M(Pt))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();const RG="firebase_screen_id",gS="outlet",Wh="screen_class",xG="screen_name";let _ye=Math.floor(Math.random()*(2**32-1))-2**31;const _S={},yye=t=>{const e=[t[Wh],t[gS]].join("#");if(_S.hasOwnProperty(e))return _S[e];{const n=_ye++;return _S[e]=n,n}},vye=(t,e,n)=>t.events.pipe(or(i=>i instanceof lH)).pipe(Zn(i=>{const o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,h=>h.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(h=>h).find(h=>h.outlet===i.snapshot.outlet);if(!a)return z(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(h=>h.routeConfig?.path).filter(h=>h).join("/")||"/",u={[xG]:l,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:l,[gS]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===t0){let h=i.snapshot;for(;h.firstChild;)h=h.firstChild;d=h.component}}else d=i.snapshot.component;if("string"==typeof d)return z({...u,[Wh]:d});if(d){const h=n.resolveComponentFactory(d);return z({...u,[Wh]:h.selector})}return z(null)}),or(i=>!!i),ae(i=>({firebase_screen_class:i[Wh],[RG]:yye(i),...i})),function yge(t,e,n,r){return dt((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(m=>m.error(p));let u=0,d=!1;const h=new NP(s,p=>{try{const m=t(p);let g=a.get(m);if(!g){a.set(m,g=r?r():new Yn);const y=function f(p,m){const g=new Qe(y=>{u++;const _=m.subscribe(y);return()=>{_.unsubscribe(),0==--u&&d&&h.unsubscribe()}});return g.key=p,g}(m,g);if(s.next(y),n){const _=st(g,()=>{g.complete(),_?.unsubscribe()},void 0,void 0,()=>a.delete(m));h.add(Bn(n(y)).subscribe(_))}}g.next(o?o(p):p)}catch(m){l(m)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(h)})}(i=>i[gS]),rn(i=>i.pipe(ZP((s,o)=>JSON.stringify(s)===JSON.stringify(o)),NT(void 0),function vge(){return dt((t,e)=>{let n,r=!1;t.subscribe(st(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),ae(([s,o])=>s?{firebase_previous_class:s[Wh],firebase_previous_screen:s[xG],firebase_previous_id:s[RG],...o}:o))));let bye=(()=>{class t{disposable;constructor(n,r,i,s,o,a){mt("angularfire",zo.full,"screen-tracking"),AG().then(()=>{const c=a.get(zh);!n||!c||s.runOutsideAngular(()=>{this.disposable=vye(n,r,i).pipe(Zn(function(){var l=C(function*(u){return o&&(yield o.initialized),iye(c,"screen_view",u)});return function(u){return l.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(r){return new(r||t)(M(dr,8),M(RT,8),M(Qu),M(pe),M(SG,8),M(Pt))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();const yS=new D("angularfire2.analytics-instances");function Eye(t){return(e,n)=>{if(!ty.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new zh(r)}}const Tye={provide:class nye{constructor(){return qd(CG)}},deps:[[new It,yS]]},wye={provide:zh,useFactory:function Iye(t,e){if(!ty.sync())return null;const n=Og(CG,t,e);return n&&new zh(n)},deps:[[new It,yS],qo]};let Cye=(()=>{class t{constructor(n,r){mt("angularfire",zo.full,"analytics")}static \u0275fac=function(r){return new(r||t)(M(bye,8),M(SG,8))};static \u0275mod=vt({type:t});static \u0275inj=ht({providers:[wye,Tye,{provide:Gm,useValue:ty.async,multi:!0}]})}return t})();function Dye(t,...e){return{ngModule:Cye,providers:[{provide:yS,useFactory:Eye(t),multi:!0,deps:[pe,Pt,Fg,Lg,...e]}]}}var L,Aye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hr={},vS=vS||{},re=Aye||self;function ny(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function qh(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var bS="closure_uid_"+(1e9*Math.random()>>>0),Rye=0;function xye(t,e,n){return t.call.apply(t.bind,arguments)}function Pye(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function bn(t,e,n){return(bn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xye:Pye).apply(null,arguments)}function ry(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Zt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ws(){this.s=this.s,this.o=this.o}Ws.prototype.s=!1,Ws.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Sye(t){Object.prototype.hasOwnProperty.call(t,bS)&&t[bS]||(t[bS]=++Rye)}(this)},Ws.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const PG=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function IS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function MG(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ny(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function In(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}In.prototype.h=function(){this.defaultPrevented=!0};var kye=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};re.addEventListener("test",n,e),re.removeEventListener("test",n,e)}catch{}return t}();function Kh(t){return/^[\s\xa0]*$/.test(t)}function iy(){var t=re.navigator;return t&&(t=t.userAgent)?t:""}function wi(t){return-1!=iy().indexOf(t)}function ES(t){return ES[" "](t),t}ES[" "]=function(){};var wS,Oye=wi("Opera"),wl=wi("Trident")||wi("MSIE"),kG=wi("Edge"),TS=kG||wl,NG=wi("Gecko")&&!(-1!=iy().toLowerCase().indexOf("webkit")&&!wi("Edge"))&&!(wi("Trident")||wi("MSIE"))&&!wi("Edge"),Fye=-1!=iy().toLowerCase().indexOf("webkit")&&!wi("Edge");function OG(){var t=re.document;return t?t.documentMode:void 0}e:{var CS="",DS=function(){var t=iy();return NG?/rv:([^\);]+)(\)|;)/.exec(t):kG?/Edge\/([\d\.]+)/.exec(t):wl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Fye?/WebKit\/(\S+)/.exec(t):Oye?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(DS&&(CS=DS?DS[1]:""),wl){var AS=OG();if(null!=AS&&AS>parseFloat(CS)){wS=String(AS);break e}}wS=CS}var Lye=re.document&&wl&&(OG()||parseInt(wS,10))||void 0;function Qh(t,e){if(In.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(NG){e:{try{ES(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Vye[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Qh.$.h.call(this)}}Zt(Qh,In);var Vye={2:"touch",3:"pen",4:"mouse"};Qh.prototype.h=function(){Qh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yh="closure_listenable_"+(1e6*Math.random()|0),Bye=0;function Uye(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Bye,this.fa=this.ia=!1}function sy(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function RS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function LG(t){const e={};for(const n in t)e[n]=t[n];return e}const VG="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BG(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<VG.length;s++)n=VG[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function oy(t){this.src=t,this.g={},this.h=0}function xS(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=PG(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sy(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function PS(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}oy.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=PS(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Uye(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var MS="closure_lm_"+(1e6*Math.random()|0),kS={};function UG(t,e,n,r,i){if(r&&r.once)return $G(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)UG(t,e[s],n,r,i);return null}return n=LS(n),t&&t[Yh]?t.O(e,n,qh(r)?!!r.capture:!!r,i):jG(t,e,n,!1,r,i)}function jG(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=qh(i)?!!i.capture:!!i,a=OS(t);if(a||(t[MS]=a=new oy(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function $ye(){const e=Hye;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)kye||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(GG(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function $G(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$G(t,e[s],n,r,i);return null}return n=LS(n),t&&t[Yh]?t.P(e,n,qh(r)?!!r.capture:!!r,i):jG(t,e,n,!0,r,i)}function HG(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)HG(t,e[s],n,r,i);else r=qh(r)?!!r.capture:!!r,n=LS(n),t&&t[Yh]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=PS(s=t.g[e],n,r,i))&&(sy(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=OS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=PS(e,n,r,i)),(n=-1<t?e[t]:null)&&NS(n))}function NS(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Yh])xS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(GG(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=OS(e))?(xS(n,t),0==n.h&&(n.src=null,e[MS]=null)):sy(t)}}}function GG(t){return t in kS?kS[t]:kS[t]="on"+t}function Hye(t,e){if(t.fa)t=!0;else{e=new Qh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&NS(t),t=n.call(r,e)}return t}function OS(t){return(t=t[MS])instanceof oy?t:null}var FS="__closure_events_fn_"+(1e9*Math.random()>>>0);function LS(t){return"function"==typeof t?t:(t[FS]||(t[FS]=function(e){return t.handleEvent(e)}),t[FS])}function Jt(){Ws.call(this),this.i=new oy(this),this.S=this,this.J=null}function cn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new In(e,t);else if(e instanceof In)e.target=e.target||t;else{var i=e;BG(e=new In(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ay(o,r,!0,e)&&i}if(i=ay(o=e.g=t,r,!0,e)&&i,i=ay(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=ay(o=e.g=n[s],r,!1,e)&&i}function ay(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&xS(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Zt(Jt,Ws),Jt.prototype[Yh]=!0,Jt.prototype.removeEventListener=function(t,e,n,r){HG(this,t,e,n,r)},Jt.prototype.N=function(){if(Jt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sy(n[r]);delete t.g[e],t.h--}}this.J=null},Jt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Jt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var VS=re.JSON.stringify;function zye(){var t=BS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var zG=new class Gye{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new qye,t=>t.reset());class qye{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Kye(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Qye(t){re.setTimeout(()=>{throw t},0)}let Xh,Zh=!1,BS=new class Wye{constructor(){this.h=this.g=null}add(e,n){const r=zG.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},WG=()=>{const t=re.Promise.resolve(void 0);Xh=()=>{t.then(Yye)}};var Yye=()=>{for(var t;t=zye();){try{t.h.call(t.g)}catch(n){Qye(n)}var e=zG;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Zh=!1};function cy(t,e){Jt.call(this),this.h=t||1,this.g=e||re,this.j=bn(this.qb,this),this.l=Date.now()}function US(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function jS(t,e,n){if("function"==typeof t)n&&(t=bn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=bn(t.handleEvent,t)}return 2147483647<Number(e)?-1:re.setTimeout(t,e||0)}function qG(t){t.g=jS(()=>{t.g=null,t.i&&(t.i=!1,qG(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Zt(cy,Jt),(L=cy.prototype).ga=!1,L.T=null,L.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cn(this,"tick"),this.ga&&(US(this),this.start()))}},L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.N=function(){cy.$.N.call(this),US(this),delete this.g};class Xye extends Ws{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qG(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jh(t){Ws.call(this),this.h=t,this.g={}}Zt(Jh,Ws);var KG=[];function QG(t,e,n,r){Array.isArray(n)||(n&&(KG[0]=n.toString()),n=KG);for(var i=0;i<n.length;i++){var s=UG(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function YG(t){RS(t.g,function(e,n){this.g.hasOwnProperty(n)&&NS(e)},t),t.g={}}function ly(){this.g=!0}function Cl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function tve(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return VS(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Jh.prototype.N=function(){Jh.$.N.call(this),YG(this)},Jh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ly.prototype.Ea=function(){this.g=!1},ly.prototype.info=function(){};var pa={},XG=null;function uy(){return XG=XG||new Jt}function ZG(t){In.call(this,pa.Ta,t)}function ef(t){const e=uy();cn(e,new ZG(e))}function JG(t,e){In.call(this,pa.STAT_EVENT,t),this.stat=e}function Ln(t){const e=uy();cn(e,new JG(e,t))}function ez(t,e){In.call(this,pa.Ua,t),this.size=e}function tf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){t()},e)}pa.Ta="serverreachability",Zt(ZG,In),pa.STAT_EVENT="statevent",Zt(JG,In),pa.Ua="timingevent",Zt(ez,In);var dy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tz={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $S(){}function rz(){}$S.prototype.h=null;var zS,nf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function HS(){In.call(this,"d")}function GS(){In.call(this,"c")}function hy(){}function rf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Jh(this),this.P=nve,this.V=new cy(t=TS?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new iz}function iz(){this.i=null,this.g="",this.h=!1}Zt(HS,In),Zt(GS,In),Zt(hy,$S),hy.prototype.g=function(){return new XMLHttpRequest},hy.prototype.i=function(){return{}},zS=new hy;var nve=45e3,sz={},WS={};function qS(t,e,n){t.L=1,t.A=gy(ts(e)),t.u=n,t.S=!0,oz(t,null)}function oz(t,e){t.G=Date.now(),sf(t),t.B=ts(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),gz(n.i,"t",r),t.o=0,n=t.l.J,t.h=new iz,t.g=Uz(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Xye(bn(t.Pa,t,t.g),t.O)),QG(t.U,t.g,"readystatechange",t.nb),e=t.I?LG(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ef(),function Zye(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.v,t.B,t.m,t.W,t.u)}function az(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function cz(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=rve(t,n),i==WS){4==e&&(t.s=4,Ln(14),r=!1),Cl(t.j,t.m,null,"[Incomplete Response]");break}if(i==sz){t.s=4,Ln(15),Cl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Cl(t.j,t.m,i,null),KS(t,i)}az(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,Ln(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),tR(e),e.M=!0,Ln(11))):(Cl(t.j,t.m,n,"[Invalid Chunked Response]"),ma(t),af(t))}function rve(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?WS:(n=Number(e.substring(n,r)),isNaN(n)?sz:(r+=1)+n>e.length?WS:(e=e.slice(r,r+n),t.o=r+n,e))}function sf(t){t.Y=Date.now()+t.P,lz(t,t.P)}function lz(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=tf(bn(t.lb,t),e)}function fy(t){t.C&&(re.clearTimeout(t.C),t.C=null)}function af(t){0==t.l.H||t.J||Fz(t.l,t)}function ma(t){fy(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,US(t.V),YG(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function KS(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||QS(n.i,t)))if(!t.K&&QS(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Ey(n),by(n)}eR(n),Ln(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=tf(bn(n.ib,n),6e3));if(1>=vz(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else _a(n,11)}else if((t.K||n.g==t)&&Ey(n),!Kh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(YS(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Je(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=Bz(r,r.J?r.pa:null,r.Y),o.K){bz(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(fy(a),sf(a)),r.g=o}else Nz(r);0<n.j.length&&Iy(n)}else"stop"!=l[0]&&"close"!=l[0]||_a(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?_a(n,7):JS(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}ef()}catch{}}function uz(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ny(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function sve(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ny(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function ive(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(ny(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(L=rf.prototype).setTimeout=function(t){this.P=t},L.nb=function(t){t=t.target;const e=this.M;e&&3==Ci(t)?e.l():this.Pa(t)},L.Pa=function(t){try{if(t==this.g)e:{const u=Ci(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||TS||this.g&&(this.h.h||this.g.ja()||Sz(this.g)))){this.J||4!=u||7==e||ef(),fy(this);var n=this.g.da();this.ca=n;t:if(az(this)){var r=Sz(this.g);t="";var i=r.length,s=4==Ci(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ma(this),af(this);var o="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Jye(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kh(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,Ln(12),ma(this),af(this);break e}Cl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,KS(this,n)}this.S?(cz(this,u,o),TS&&this.i&&3==u&&(QG(this.U,this.V,"tick",this.mb),this.V.start())):(Cl(this.j,this.m,o,null),KS(this,o)),4==u&&ma(this),this.i&&!this.J&&(4==u?Fz(this.l,this):(this.i=!1,sf(this)))}else(function Tve(t){const e={};t=(t.g&&2<=Ci(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Kh(t[r]))continue;var n=Kye(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function jye(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ln(12)):(this.s=0,Ln(13)),ma(this),af(this)}}}catch{}},L.mb=function(){if(this.g){var t=Ci(this.g),e=this.g.ja();this.o<e.length&&(fy(this),cz(this,t,e),this.i&&4!=t&&sf(this))}},L.cancel=function(){this.J=!0,ma(this)},L.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function eve(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(ef(),Ln(17)),ma(this),this.s=2,af(this)):lz(this,this.Y-t)};var dz=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ga){this.h=t.h,py(this,t.j),this.s=t.s,this.g=t.g,my(this,t.m),this.l=t.l;var e=t.i,n=new uf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),hz(this,n),this.o=t.o}else t&&(e=String(t).match(dz))?(this.h=!1,py(this,e[1]||"",!0),this.s=cf(e[2]||""),this.g=cf(e[3]||"",!0),my(this,e[4]),this.l=cf(e[5]||"",!0),hz(this,e[6]||"",!0),this.o=cf(e[7]||"")):(this.h=!1,this.i=new uf(null,this.h))}function ts(t){return new ga(t)}function py(t,e,n){t.j=n?cf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function my(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function hz(t,e,n){e instanceof uf?(t.i=e,function hve(t,e){e&&!t.j&&(qs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(pz(this,r),gz(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=lf(e,uve)),t.i=new uf(e,t.h))}function Je(t,e,n){t.i.set(e,n)}function gy(t){return Je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function lf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ave),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ave(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ga.prototype.toString=function(){var t=[],e=this.j;e&&t.push(lf(e,fz,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(lf(e,fz,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(lf(n,"/"==n.charAt(0)?lve:cve,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",lf(n,dve)),t.join("")};var fz=/[#\/\?@]/g,cve=/[#\?:]/g,lve=/[#\?]/g,uve=/[#\?@]/g,dve=/#/g;function uf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qs(t){t.g||(t.g=new Map,t.h=0,t.i&&function ove(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function pz(t,e){qs(t),e=Dl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mz(t,e){return qs(t),e=Dl(t,e),t.g.has(e)}function gz(t,e,n){pz(t,e),0<n.length&&(t.i=null,t.g.set(Dl(t,e),IS(n)),t.h+=n.length)}function Dl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(L=uf.prototype).add=function(t,e){qs(this),this.i=null,t=Dl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},L.forEach=function(t,e){qs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},L.ta=function(){qs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},L.Z=function(t){qs(this);let e=[];if("string"==typeof t)mz(this,t)&&(e=e.concat(this.g.get(Dl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},L.set=function(t,e){return qs(this),this.i=null,mz(this,t=Dl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},L.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var fve=class{constructor(t,e){this.g=t,this.map=e}};function _z(t){this.l=t||pve,t=re.PerformanceNavigationTiming?0<(t=re.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pve=10;function yz(t){return!!t.h||!!t.g&&t.g.size>=t.j}function vz(t){return t.h?1:t.g?t.g.size:0}function QS(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function YS(t,e){t.g?t.g.add(e):t.h=e}function bz(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Iz(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return IS(t.i)}_z.prototype.cancel=function(){if(this.i=Iz(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var mve=class{stringify(t){return re.JSON.stringify(t,void 0)}parse(t){return re.JSON.parse(t,void 0)}};function gve(){this.g=new mve}function _ve(t,e,n){const r=n||"";try{uz(t,function(i,s){let o=i;qh(i)&&(o=VS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _y(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function df(t){this.l=t.ec||null,this.j=t.ob||!1}function yy(t,e){Jt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=XS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zt(df,$S),df.prototype.g=function(){return new yy(this.l,this.j)},df.prototype.i=function(t){return function(){return t}}({}),Zt(yy,Jt);var XS=0;function Ez(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function hf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ff(t)}function ff(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(L=yy.prototype).open=function(t,e){if(this.readyState!=XS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ff(this)},L.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hf(this)),this.readyState=XS},L.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ff(this)),this.g&&(this.readyState=3,ff(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ez(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},L.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hf(this):ff(this),3==this.readyState&&Ez(this)}},L.Za=function(t){this.g&&(this.response=this.responseText=t,hf(this))},L.Ya=function(t){this.g&&(this.response=t,hf(this))},L.ka=function(){this.g&&hf(this)},L.setRequestHeader=function(t,e){this.v.append(t,e)},L.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(yy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var vve=re.JSON.parse;function gt(t){Jt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Tz,this.L=this.M=!1}Zt(gt,Jt);var Tz="",bve=/^https?$/i,Ive=["POST","PUT"];function wz(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Cz(t),vy(t)}function Cz(t){t.F||(t.F=!0,cn(t,"complete"),cn(t,"error"))}function Dz(t){if(t.h&&typeof vS<"u"&&(!t.C[1]||4!=Ci(t)||2!=t.da()))if(t.v&&4==Ci(t))jS(t.La,0,t);else if(cn(t,"readystatechange"),4==Ci(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(dz)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!bve.test(i?i.toLowerCase():"")}n=r}if(n)cn(t,"complete"),cn(t,"success");else{t.m=6;try{var s=2<Ci(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Cz(t)}}finally{vy(t)}}}function vy(t,e){if(t.g){Az(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||cn(t,"ready");try{n.onreadystatechange=r}catch{}}}function Az(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(re.clearTimeout(t.A),t.A=null)}function Ci(t){return t.g?t.g.readyState:0}function Sz(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Tz:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Rz(t){let e="";return RS(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function ZS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rz(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Je(t,e,n))}function pf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xz(t){this.Ga=0,this.j=[],this.l=new ly,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pf("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pf("baseRetryDelayMs",5e3,t),this.hb=pf("retryDelaySeedMs",1e4,t),this.eb=pf("forwardChannelMaxRetries",2,t),this.xa=pf("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new _z(t&&t.concurrentRequestLimit),this.Ja=new gve,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function JS(t){if(Pz(t),3==t.H){var e=t.W++,n=ts(t.I);if(Je(n,"SID",t.K),Je(n,"RID",e),Je(n,"TYPE","terminate"),mf(t,n),(e=new rf(t,t.l,e)).L=2,e.A=gy(ts(n)),n=!1,re.navigator&&re.navigator.sendBeacon)try{n=re.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&re.Image&&((new Image).src=e.A,n=!0),n||(e.g=Uz(e.l,null),e.g.ha(e.A)),e.G=Date.now(),sf(e)}Vz(t)}function by(t){t.g&&(tR(t),t.g.cancel(),t.g=null)}function Pz(t){by(t),t.u&&(re.clearTimeout(t.u),t.u=null),Ey(t),t.i.cancel(),t.m&&("number"==typeof t.m&&re.clearTimeout(t.m),t.m=null)}function Iy(t){if(!yz(t.i)&&!t.m){t.m=!0;var e=t.Na;Xh||WG(),Zh||(Xh(),Zh=!0),BS.add(e,t),t.C=0}}function Mz(t,e){var n;n=e?e.m:t.W++;const r=ts(t.I);Je(r,"SID",t.K),Je(r,"RID",n),Je(r,"AID",t.V),mf(t,r),t.o&&t.s&&ZS(r,t.o,t.s),n=new rf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=kz(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),YS(t.i,n),qS(n,r,e)}function mf(t,e){t.na&&RS(t.na,function(n,r){Je(e,r,n)}),t.h&&uz({},function(n,r){Je(e,r,n)})}function kz(t,e,n){n=Math.min(t.j.length,n);var r=t.h?bn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{_ve(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Nz(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xh||WG(),Zh||(Xh(),Zh=!0),BS.add(e,t),t.A=0}}function eR(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=tf(bn(t.Ma,t),Lz(t,t.A)),t.A++,0))}function tR(t){null!=t.B&&(re.clearTimeout(t.B),t.B=null)}function Oz(t){t.g=new rf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ts(t.wa);Je(e,"RID","rpc"),Je(e,"SID",t.K),Je(e,"AID",t.V),Je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Je(e,"TO",t.qa),Je(e,"TYPE","xmlhttp"),mf(t,e),t.o&&t.s&&ZS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=gy(ts(e)),n.u=null,n.S=!0,oz(n,t)}function Ey(t){null!=t.v&&(re.clearTimeout(t.v),t.v=null)}function Fz(t,e){var n=null;if(t.g==e){Ey(t),tR(t),t.g=null;var r=2}else{if(!QS(t.i,e))return;n=e.F,bz(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;cn(r=uy(),new ez(r,n)),Iy(t)}else Nz(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function wve(t,e){return!(vz(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=tf(bn(t.Na,t,e),Lz(t,t.C)),t.C++,0)))}(t,e)||2==r&&eR(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:_a(t,5);break;case 4:_a(t,10);break;case 3:_a(t,6);break;default:_a(t,2)}}function Lz(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function _a(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=bn(t.pb,t);n||(n=new ga("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||py(n,"https"),gy(n)),function yve(t,e){const n=new ly;if(re.Image){const r=new Image;r.onload=ry(_y,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ry(_y,n,r,"TestLoadImage: error",!1,e),r.onabort=ry(_y,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ry(_y,n,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ln(2);t.H=0,t.h&&t.h.za(e),Vz(t),Pz(t)}function Vz(t){if(t.H=0,t.ma=[],t.h){const e=Iz(t.i);(0!=e.length||0!=t.j.length)&&(MG(t.ma,e),MG(t.ma,t.j),t.i.i.length=0,IS(t.j),t.j.length=0),t.h.ya()}}function Bz(t,e,n){var r=n instanceof ga?ts(n):new ga(n);if(""!=r.g)e&&(r.g=e+"."+r.g),my(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ga(null);r&&py(s,r),e&&(s.g=e),i&&my(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Je(r,n,e),Je(r,"VER",t.ra),mf(t,r),r}function Uz(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gt(t.Ha&&!t.va?new df({ob:n}):t.va)).Oa(t.J),e}function jz(){}function Ty(){if(wl&&!(10<=Number(Lye)))throw Error("Environmental error: no available transport.")}function hr(t,e){Jt.call(this),this.g=new xz(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Kh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kh(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Al(this)}function $z(t){HS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Hz(){GS.call(this),this.status=1}function Al(t){this.g=t}function Gr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function nR(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function xe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(L=gt.prototype).Oa=function(t){this.M=t},L.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zS.g(),this.C=function nz(t){return t.h||(t.h=t.i())}(this.u?this.u:zS),this.g.onreadystatechange=bn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void wz(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=re.FormData&&t instanceof re.FormData,!(0<=PG(Ive,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Az(this),0<this.B&&((this.L=function Eve(t){return wl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bn(this.ua,this)):this.A=jS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){wz(this,s)}},L.ua=function(){typeof vS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cn(this,"timeout"),this.abort(8))},L.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,cn(this,"complete"),cn(this,"abort"),vy(this))},L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vy(this,!0)),gt.$.N.call(this)},L.La=function(){this.s||(this.G||this.v||this.l?Dz(this):this.kb())},L.kb=function(){Dz(this)},L.isActive=function(){return!!this.g},L.da=function(){try{return 2<Ci(this)?this.g.status:-1}catch{return-1}},L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},L.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),vve(e)}},L.Ia=function(){return this.m},L.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=xz.prototype).ra=8,L.H=1,L.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new rf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=LG(s),BG(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=kz(this,i,e),Je(n=ts(this.I),"RID",t),Je(n,"CVER",22),this.F&&Je(n,"X-HTTP-Session-Id",this.F),mf(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Rz(s)))+"&"+e:this.o&&ZS(n,this.o,s)),YS(this.i,i),this.bb&&Je(n,"TYPE","init"),this.P?(Je(n,"$req",e),Je(n,"SID","null"),i.aa=!0,qS(i,n,null)):qS(i,n,e),this.H=2}}else 3==this.H&&(t?Mz(this,t):0==this.j.length||yz(this.i)||Mz(this))},L.Ma=function(){if(this.u=null,Oz(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=tf(bn(this.jb,this),t)}},L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ln(10),by(this),Oz(this))},L.ib=function(){null!=this.v&&(this.v=null,by(this),eR(this),Ln(19))},L.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ln(2)):(this.l.info("Failed to ping google.com"),Ln(1))},L.isActive=function(){return!!this.h&&this.h.isActive(this)},(L=jz.prototype).Ba=function(){},L.Aa=function(){},L.za=function(){},L.ya=function(){},L.isActive=function(){return!0},L.Va=function(){},Ty.prototype.g=function(t,e){return new hr(t,e)},Zt(hr,Jt),hr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ln(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Bz(t,null,t.Y),Iy(t)},hr.prototype.close=function(){JS(this.g)},hr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=VS(t),t=n);e.j.push(new fve(e.fb++,t)),3==e.H&&Iy(e)},hr.prototype.N=function(){this.g.h=null,delete this.j,JS(this.g),delete this.g,hr.$.N.call(this)},Zt($z,HS),Zt(Hz,GS),Zt(Al,jz),Al.prototype.Ba=function(){cn(this.g,"a")},Al.prototype.Aa=function(t){cn(this.g,new $z(t))},Al.prototype.za=function(t){cn(this.g,new Hz)},Al.prototype.ya=function(){cn(this.g,"b")},Zt(Gr,function Cve(){this.blockSize=-1}),Gr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Gr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)nR(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){nR(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){nR(this,r),i=0;break}}this.h=i,this.i+=e},Gr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Dve={};function rR(t){return-128<=t&&128>t?function Nye(t,e){var n=Dve;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new xe([0|e],0>e?-1:0)}):new xe([0|t],0>t?-1:0)}function Di(t){if(isNaN(t)||!isFinite(t))return Sl;if(0>t)return ln(Di(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=iR;return new xe(e,0)}var iR=4294967296,Sl=rR(0),sR=rR(1),zz=rR(16777216);function ns(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Cr(t){return-1==t.h}function ln(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new xe(n,~t.h).add(sR)}function wy(t,e){return t.add(ln(e))}function Cy(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function gf(t,e){this.g=t,this.h=e}function Dy(t,e){if(ns(e))throw Error("division by zero");if(ns(t))return new gf(Sl,Sl);if(Cr(t))return e=Dy(ln(t),e),new gf(ln(e.g),ln(e.h));if(Cr(e))return e=Dy(t,ln(e)),new gf(ln(e.g),e.h);if(30<t.g.length){if(Cr(t)||Cr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=sR,r=e;0>=r.X(t);)n=Wz(n),r=Wz(r);var i=Rl(n,1),s=Rl(r,1);for(r=Rl(r,2),n=Rl(n,2);!ns(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Rl(r,1),n=Rl(n,1)}return e=wy(t,i.R(e)),new gf(i,e)}for(i=Sl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Di(n)).R(e);Cr(o)||0<o.X(t);)o=(s=Di(n-=r)).R(e);ns(s)&&(s=sR),i=i.add(s),t=wy(t,o)}return new gf(i,t)}function Wz(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new xe(n,t.h)}function Rl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new xe(i,t.h)}(L=xe.prototype).ea=function(){if(Cr(this))return-ln(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:iR+r)*e,e*=iR}return t},L.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ns(this))return"0";if(Cr(this))return"-"+ln(this).toString(t);for(var e=Di(Math.pow(t,6)),n=this,r="";;){var i=Dy(n,e).g,s=((0<(n=wy(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ns(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},L.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},L.X=function(t){return Cr(t=wy(this,t))?-1:ns(t)?0:1},L.abs=function(){return Cr(this)?ln(this):this},L.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new xe(n,-2147483648&n[n.length-1]?-1:0)},L.R=function(t){if(ns(this)||ns(t))return Sl;if(Cr(this))return Cr(t)?ln(this).R(ln(t)):ln(ln(this).R(t));if(Cr(t))return ln(this.R(ln(t)));if(0>this.X(zz)&&0>t.X(zz))return Di(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,Cy(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Cy(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Cy(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Cy(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new xe(n,0)},L.gb=function(t){return Dy(this,t).h},L.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new xe(n,this.h&t.h)},L.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new xe(n,this.h|t.h)},L.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new xe(n,this.h^t.h)},Ty.prototype.createWebChannel=Ty.prototype.g,hr.prototype.send=hr.prototype.u,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,dy.NO_ERROR=0,dy.TIMEOUT=8,dy.HTTP_ERROR=6,tz.COMPLETE="complete",rz.EventType=nf,nf.OPEN="a",nf.CLOSE="b",nf.ERROR="c",nf.MESSAGE="d",Jt.prototype.listen=Jt.prototype.O,gt.prototype.listenOnce=gt.prototype.P,gt.prototype.getLastError=gt.prototype.Sa,gt.prototype.getLastErrorCode=gt.prototype.Ia,gt.prototype.getStatus=gt.prototype.da,gt.prototype.getResponseJson=gt.prototype.Wa,gt.prototype.getResponseText=gt.prototype.ja,gt.prototype.send=gt.prototype.ha,gt.prototype.setWithCredentials=gt.prototype.Oa,Gr.prototype.digest=Gr.prototype.l,Gr.prototype.reset=Gr.prototype.reset,Gr.prototype.update=Gr.prototype.j,xe.prototype.add=xe.prototype.add,xe.prototype.multiply=xe.prototype.R,xe.prototype.modulo=xe.prototype.gb,xe.prototype.compare=xe.prototype.X,xe.prototype.toNumber=xe.prototype.ea,xe.prototype.toString=xe.prototype.toString,xe.prototype.getBits=xe.prototype.D,xe.fromNumber=Di,xe.fromString=function Gz(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return ln(Gz(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Di(Math.pow(e,8)),r=Sl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Di(Math.pow(e,s)),r=r.R(s).add(Di(o))):r=(r=r.R(n)).add(Di(o))}return r},Hr.createWebChannelTransport=function(){return new Ty},Hr.getStatEventTarget=function(){return uy()},Hr.ErrorCode=dy,Hr.EventType=tz,Hr.Event=pa,Hr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Hr.FetchXmlHttpFactory=df,Hr.WebChannel=rz,Hr.XhrIo=gt,Hr.Md5=Gr;var Ave=Hr.Integer=xe;const qz="@firebase/firestore";class en{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let _f="10.7.0";const Ks=new Gd("@firebase/firestore");function w(t,...e){if(Ks.logLevel<=Ce.DEBUG){const n=e.map(oR);Ks.debug(`Firestore (${_f}): ${t}`,...n)}}function Dt(t,...e){if(Ks.logLevel<=Ce.ERROR){const n=e.map(oR);Ks.error(`Firestore (${_f}): ${t}`,...n)}}function oR(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function U(t="Unexpected state"){const e=`FIRESTORE (${_f}) INTERNAL ASSERTION FAILED: `+t;throw Dt(e),new Error(e)}function j(t,e){t||U()}const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Kz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class Rve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xve{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Gt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(C(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{w("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(w("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(w("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new Kz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new en(e)}}class Pve{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Mve{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Pve(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kve{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&w("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,w("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{w("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):w("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.R=n.token,new Qz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Nve(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Yz{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Nve(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}class Ay{constructor(e,n,r){void 0===n?n=0:n>e.length&&U(),void 0===r?r=e.length-n:r>e.length-n&&U(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ay.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ay?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends Ay{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}class F{constructor(e){this.path=e}static fromPath(e){return new F(ye.fromString(e))}static fromName(e){return new F(ye.fromString(e).popFirst(5))}static empty(){return new F(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ye.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new ye(e.slice()))}}function Ys(t){return"IndexedDbTransactionError"===t.name}class We{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xy(this.root,e,this.comparator,!1)}getReverseIterator(){return new xy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xy(this.root,e,this.comparator,!0)}}class xy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??un.RED,this.left=i??un.EMPTY,this.right=s??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new un(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1,un.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(e,n,r,i,s){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dW(this.data.getIterator())}getIteratorFrom(e){return new dW(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oe(this.comparator);return n.data=e,n}}class dW{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hW("Invalid base64 string: "+s):s}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function _t(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}zt.EMPTY_BYTE_STRING=new zt("");class abe{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Ia{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ia("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}var Lt,ve;new We(F.comparator),new We(F.comparator),new We(F.comparator),new Oe(F.comparator),new Oe(J),(ve=Lt||(Lt={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS",new Ave([4294967295,4294967295],0);class Ra{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(_t(e.integerValue));else if("doubleValue"in e){const r=_t(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),function bf(t){return 0===t&&1/t==-1/0}(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(function rs(t){return"string"==typeof t?zt.fromBase64String(t):zt.fromUint8Array(t)}(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?function gW(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):U()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),F.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Ra.St=new Ra,new Uint8Array(0);class Tn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nv(){return typeof document<"u"?document:null}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(41943040,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class ZR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&w("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class _x{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new _x(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class yEe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=Yz.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=C(function*(a){w("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(w("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return C(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Gt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(C(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=function tu(t,e){if(Dt("AsyncQueue",`${e}: ${t}`),Ys(t))return new T(b.UNAVAILABLE,`${e}: ${t}`);throw t}(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function O4(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const F4=new Map;function me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function lv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":U()}(t);throw new T(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class U4{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function REe(t,e,n,r){if(!0===e&&!0===r)throw new T(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=O4(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new T(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new T(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new T(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U4(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Sve;switch(r.type){case"firstParty":return new Mve(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new T(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=F4.get(n);r&&(w("ComponentProvider","Removing Datastore"),F4.delete(n),r.terminate())}(this),Promise.resolve()}}class MEe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new ZR(this,"async_queue_retry"),this.iu=()=>{const n=nv();n&&w("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=nv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=nv();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Gt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return C(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Ys(n))throw n;w("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,Dt("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=_x.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&U()}verifyOperationInProgress(){}uu(){var e=this;return C(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class qe extends Qf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new MEe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function $4(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new abe(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,O4(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new yEe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function NEe(t,e){const r="string"==typeof t?t:e||"(default)",i=Go("object"==typeof t?t:Ng(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=lB("firestore");s&&function xEe(t,e,n,r={}){var i;const s=(t=me(t,Qf))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&function Dr(t,...e){if(Ks.logLevel<=Ce.WARN){const n=e.map(oR);Ks.warn(`Firestore (${_f}): ${t}`,...n)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=en.MOCK_USER;else{a=dB(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new T(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new en(l)}t._authCredentials=new Rve(new Kz(a,c))}}(i,...s)}return i}!function(e,n=!0){_f=zd,Vr(new Er("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new qe(new xve(r.getProvider("auth-internal")),new kve(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new T(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mt(qz,"4.4.0",e),mt(qz,"4.4.0","esm2017")}();class fP{constructor(e){return e}}const d3="firestore",pP=new D("angularfire2.firestore-instances");function cTe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new fP(r)}}const lTe={provide:class oTe{constructor(){return qd(d3)}},deps:[[new It,pP]]},uTe={provide:fP,useFactory:function aTe(t,e){const n=Og(d3,t,e);return n&&new fP(n)},deps:[[new It,pP],qo]};let h3=(()=>{class t{constructor(){mt("angularfire",zo.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=vt({type:t});static \u0275inj=ht({providers:[uTe,lTe]})}return t})();function dTe(t,...e){return{ngModule:h3,providers:[{provide:pP,useFactory:cTe(t),multi:!0,deps:[pe,Pt,Fg,Lg,[new It,CD],[new It,PB],...e]}]}}const hTe=ui(NEe,!0);let fTe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=vt({type:t,bootstrap:[_ge]});static \u0275inj=ht({providers:[{provide:rT,useValue:"/ben-mathu/"}],imports:[qne,lge,rB,Qie,nse,eae(()=>tae(p0_firebase)),Dye(()=>rye()),ffe(()=>gfe()),dTe(()=>hTe()),h3,age,rB]})}return t})();zne().bootstrapModule(fTe).catch(t=>console.error(t))}},bv=>{bv(bv.s=973)}]);