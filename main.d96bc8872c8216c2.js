"use strict";var z_e=Object.defineProperty,q_e=Object.defineProperties,K_e=Object.getOwnPropertyDescriptors,rW=Object.getOwnPropertySymbols,Q_e=Object.prototype.hasOwnProperty,Y_e=Object.prototype.propertyIsEnumerable,iW=(fe,Ot,_n)=>Ot in fe?z_e(fe,Ot,{enumerable:!0,configurable:!0,writable:!0,value:_n}):fe[Ot]=_n,R_=(fe,Ot)=>{for(var _n in Ot||(Ot={}))Q_e.call(Ot,_n)&&iW(fe,_n,Ot[_n]);if(rW)for(var _n of rW(Ot))Y_e.call(Ot,_n)&&iW(fe,_n,Ot[_n]);return fe},N_=(fe,Ot)=>q_e(fe,K_e(Ot));(self.webpackChunkben_mathu=self.webpackChunkben_mathu||[]).push([[179],{508:()=>{function fe(n){return"function"==typeof n}function Ot(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const _n=Ot(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ia(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class xn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(fe(r))try{r()}catch(s){e=s instanceof _n?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{Bx(s)}catch(o){e=null!=e?e:[],o instanceof _n?e=[...e,...o.errors]:e.push(o)}}if(e)throw new _n(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Bx(e);else{if(e instanceof xn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ia(t,e)}remove(e){const{_teardowns:t}=this;t&&Ia(t,e),e instanceof xn&&e._removeParent(this)}}xn.EMPTY=(()=>{const n=new xn;return n.closed=!0,n})();const Fx=xn.EMPTY;function Lx(n){return n instanceof xn||n&&"closed"in n&&fe(n.remove)&&fe(n.add)&&fe(n.unsubscribe)}function Bx(n){fe(n)?n():n.unsubscribe()}const to={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Hh={setTimeout(...n){const{delegate:e}=Hh;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=Hh;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Ux(n){Hh.setTimeout(()=>{const{onUnhandledError:e}=to;if(!e)throw n;e(n)})}function $h(){}const sW=P_("C",void 0,void 0);function P_(n,e,t){return{kind:n,value:e,error:t}}let no=null;function Gh(n){if(to.useDeprecatedSynchronousErrorHandling){const e=!no;if(e&&(no={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=no;if(no=null,t)throw r}}else n()}class O_ extends xn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Lx(e)&&e.add(this)):this.destination=lW}static create(e,t,r){return new F_(e,t,r)}next(e){this.isStopped?B_(function aW(n){return P_("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?B_(function oW(n){return P_("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?B_(sW,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class F_ extends O_{constructor(e,t,r){let i;if(super(),fe(e))i=e;else if(e){let s;({next:i,error:t,complete:r}=e),this&&to.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),t=null==t?void 0:t.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?L_(i):$h,error:L_(null!=t?t:Vx),complete:r?L_(r):$h}}}function L_(n,e){return(...t)=>{try{n(...t)}catch(r){to.useDeprecatedSynchronousErrorHandling?function cW(n){to.useDeprecatedSynchronousErrorHandling&&no&&(no.errorThrown=!0,no.error=n)}(r):Ux(r)}}}function Vx(n){throw n}function B_(n,e){const{onStoppedNotification:t}=to;t&&Hh.setTimeout(()=>t(n,e))}const lW={closed:!0,next:$h,error:Vx,complete:$h},U_="function"==typeof Symbol&&Symbol.observable||"@@observable";function os(n){return n}let ke=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function dW(n){return n&&n instanceof O_||function uW(n){return n&&fe(n.next)&&fe(n.error)&&fe(n.complete)}(n)&&Lx(n)}(t)?t:new F_(t,r,i);return Gh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Hx(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(c){s(c),null==o||o.unsubscribe()}},s,i)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[U_](){return this}pipe(...t){return function jx(n){return 0===n.length?os:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Hx(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Hx(n){var e;return null!==(e=null!=n?n:to.Promise)&&void 0!==e?e:Promise}const hW=Ot(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ur=(()=>{class n extends ke{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new $x(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new hW}next(t){Gh(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){Gh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Gh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Fx:(s.push(t),new xn(()=>Ia(s,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ke;return t.source=this,t}}return n.create=(e,t)=>new $x(e,t),n})();class $x extends Ur{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Fx}}function Gx(n){return fe(null==n?void 0:n.lift)}function vt(n){return e=>{if(Gx(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class nt extends O_{constructor(e,t,r,i,s){super(e),this.onFinalize=s,this._next=t?function(o){try{t(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function pe(n,e){return vt((t,r)=>{let i=0;t.subscribe(new nt(r,s=>{r.next(n.call(e,s,i++))}))})}function ro(n){return this instanceof ro?(this.v=n,this):new ro(n)}function gW(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof ro?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function mW(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function qx(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=n[s](o)).done,o.value)})}}}const Kx=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Qx(n){return fe(null==n?void 0:n.then)}function Yx(n){return fe(n[U_])}function Xx(n){return Symbol.asyncIterator&&fe(null==n?void 0:n[Symbol.asyncIterator])}function Jx(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Zx=function yW(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function eM(n){return fe(null==n?void 0:n[Zx])}function tM(n){return gW(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ro(t.read());if(i)return yield ro(void 0);yield yield ro(r)}}finally{t.releaseLock()}})}function nM(n){return fe(null==n?void 0:n.getReader)}function mr(n){if(n instanceof ke)return n;if(null!=n){if(Yx(n))return function vW(n){return new ke(e=>{const t=n[U_]();if(fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Kx(n))return function bW(n){return new ke(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Qx(n))return function wW(n){return new ke(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ux)})}(n);if(Xx(n))return rM(n);if(eM(n))return function EW(n){return new ke(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(nM(n))return function IW(n){return rM(tM(n))}(n)}throw Jx(n)}function rM(n){return new ke(e=>{(function TW(n,e){var t,r,i,s;return function fW(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=mW(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function vi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function St(n,e,t=1/0){return fe(e)?St((r,i)=>pe((s,o)=>e(r,s,i,o))(mr(n(r,i))),t):("number"==typeof e&&(t=e),vt((r,i)=>function CW(n,e,t,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let m=!1;mr(t(g,u++)).subscribe(new nt(e,y=>{null==i||i(y),s?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;c.length&&l<r;){const y=c.shift();o?vi(e,o,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return n.subscribe(new nt(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,n,t)))}function Al(n=1/0){return St(os,n)}const bi=new ke(n=>n.complete());function j_(n){return n[n.length-1]}function iM(n){return fe(j_(n))?n.pop():void 0}function xl(n){return function SW(n){return n&&fe(n.schedule)}(j_(n))?n.pop():void 0}function Wh(n,e=0){return vt((t,r)=>{t.subscribe(new nt(r,i=>vi(r,n,()=>r.next(i),e),()=>vi(r,n,()=>r.complete(),e),i=>vi(r,n,()=>r.error(i),e)))})}function zh(n,e=0){return vt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function sM(n,e){if(!n)throw new Error("Iterable cannot be null");return new ke(t=>{vi(t,e,()=>{const r=n[Symbol.asyncIterator]();vi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function zt(n,e){return e?function PW(n,e){if(null!=n){if(Yx(n))return function xW(n,e){return mr(n).pipe(zh(e),Wh(e))}(n,e);if(Kx(n))return function kW(n,e){return new ke(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Qx(n))return function MW(n,e){return mr(n).pipe(zh(e),Wh(e))}(n,e);if(Xx(n))return sM(n,e);if(eM(n))return function RW(n,e){return new ke(t=>{let r;return vi(t,e,()=>{r=n[Zx](),vi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>fe(null==r?void 0:r.return)&&r.return()})}(n,e);if(nM(n))return function NW(n,e){return sM(tM(n),e)}(n,e)}throw Jx(n)}(n,e):mr(n)}function Ml(n){return n<=0?()=>bi:vt((e,t)=>{let r=0;e.subscribe(new nt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function oM(n={}){const{connector:e=(()=>new Ur),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,c=null,l=0,u=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=c=null,u=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return vt((g,m)=>{l++,!d&&!u&&h();const y=c=null!=c?c:e();m.add(()=>{l--,0===l&&!d&&!u&&(a=H_(p,i))}),y.subscribe(m),o||(o=new F_({next:_=>y.next(_),error:_=>{d=!0,h(),a=H_(f,t,_),y.error(_)},complete:()=>{u=!0,h(),a=H_(f,r),y.complete()}}),zt(g).subscribe(o))})(s)}}function H_(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Ml(1)).subscribe(()=>n())}function Ne(n){for(let e in n)if(n[e]===Ne)return e;throw Error("Could not find renamed property on target object.")}function $_(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function G_(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const FW=Ne({__forward_ref__:Ne});function W_(n){return n.__forward_ref__=W_,n.toString=function(){return Ce(this())},n}function ie(n){return function aM(n){return"function"==typeof n&&n.hasOwnProperty(FW)&&n.__forward_ref__===W_}(n)?n():n}class Ee extends Error{constructor(e,t){super(function z_(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function X(n){return"string"==typeof n?n:null==n?"":String(n)}function yn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():X(n)}function qh(n,e){const t=e?` in ${e}`:"";throw new Ee(-201,`No provider for ${yn(n)} found${t}`)}function jn(n,e){null==n&&function $e(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ht(n){return{providers:n.providers||[],imports:n.imports||[]}}function q_(n){return cM(n,Kh)||cM(n,uM)}function cM(n,e){return n.hasOwnProperty(e)?n[e]:null}function lM(n){return n&&(n.hasOwnProperty(K_)||n.hasOwnProperty($W))?n[K_]:null}const Kh=Ne({\u0275prov:Ne}),K_=Ne({\u0275inj:Ne}),uM=Ne({ngInjectableDef:Ne}),$W=Ne({ngInjectorDef:Ne});var ee=(()=>((ee=ee||{})[ee.Default=0]="Default",ee[ee.Host=1]="Host",ee[ee.Self=2]="Self",ee[ee.SkipSelf=4]="SkipSelf",ee[ee.Optional=8]="Optional",ee))();let Q_;function as(n){const e=Q_;return Q_=n,e}function dM(n,e,t){const r=q_(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ee.Optional?null:void 0!==e?e:void qh(Ce(n),"Injector")}function cs(n){return{toString:n}.toString()}var _r=(()=>((_r=_r||{})[_r.OnPush=0]="OnPush",_r[_r.Default=1]="Default",_r))(),Vr=(()=>{return(n=Vr||(Vr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Vr;var n})();const WW="undefined"!=typeof globalThis&&globalThis,zW="undefined"!=typeof window&&window,qW="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Re=WW||"undefined"!=typeof global&&global||zW||qW,Ta={},Pe=[],Qh=Ne({\u0275cmp:Ne}),Y_=Ne({\u0275dir:Ne}),X_=Ne({\u0275pipe:Ne}),hM=Ne({\u0275mod:Ne}),Ei=Ne({\u0275fac:Ne}),kl=Ne({__NG_ELEMENT_ID__:Ne});let KW=0;function nr(n){return cs(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===_r.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Pe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Vr.Emulated,id:"c",styles:n.styles||Pe,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=KW++,r.inputs=mM(n.inputs,t),r.outputs=mM(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(fM):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(pM):null,r})}function fM(n){return sn(n)||function ls(n){return n[Y_]||null}(n)}function pM(n){return function io(n){return n[X_]||null}(n)}const gM={};function bt(n){return cs(()=>{const e={type:n.type,bootstrap:n.bootstrap||Pe,declarations:n.declarations||Pe,imports:n.imports||Pe,exports:n.exports||Pe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(gM[n.id]=n.type),e})}function mM(n,e){if(null==n)return Ta;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const rn=nr;function sn(n){return n[Qh]||null}function rr(n,e){const t=n[hM]||null;if(!t&&!0===e)throw new Error(`Type ${Ce(n)} does not have '\u0275mod' property.`);return t}function jr(n){return Array.isArray(n)&&"object"==typeof n[1]}function vr(n){return Array.isArray(n)&&!0===n[1]}function ey(n){return 0!=(8&n.flags)}function Zh(n){return 2==(2&n.flags)}function ef(n){return 1==(1&n.flags)}function br(n){return null!==n.template}function e3(n){return 0!=(512&n[2])}function co(n,e){return n.hasOwnProperty(Ei)?n[Ei]:null}class r3{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function lo(){return yM}function yM(n){return n.type.prototype.ngOnChanges&&(n.setInput=o3),s3}function s3(){const n=bM(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Ta)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function o3(n,e,t,r){const i=bM(n)||function a3(n,e){return n[vM]=e}(n,{previous:Ta,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],c=o[a];s[a]=new r3(c&&c.currentValue,e,o===Ta),n[r]=e}lo.ngInherit=!0;const vM="__ngSimpleChanges__";function bM(n){return n[vM]||null}let ry;function rt(n){return!!n.listen}const IM={createRenderer:(n,e)=>function iy(){return void 0!==ry?ry:"undefined"!=typeof document?document:void 0}()};function wt(n){for(;Array.isArray(n);)n=n[0];return n}function tf(n,e){return wt(e[n])}function or(n,e){return wt(e[n.index])}function sy(n,e){return n.data[e]}function $n(n,e){const t=e[n];return jr(t)?t:t[0]}function TM(n){return 4==(4&n[2])}function oy(n){return 128==(128&n[2])}function us(n,e){return null==e?null:n[e]}function CM(n){n[18]=0}function ay(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const q={lFrame:NM(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function DM(){return q.bindingsEnabled}function T(){return q.lFrame.lView}function _e(){return q.lFrame.tView}function At(){let n=SM();for(;null!==n&&64===n.type;)n=n.parent;return n}function SM(){return q.lFrame.currentTNode}function Hr(n,e){const t=q.lFrame;t.currentTNode=n,t.isParent=e}function cy(){return q.lFrame.isParent}function ly(){q.lFrame.isParent=!1}function nf(){return q.isInCheckNoChangesMode}function rf(n){q.isInCheckNoChangesMode=n}function Ma(){return q.lFrame.bindingIndex++}function E3(n,e){const t=q.lFrame;t.bindingIndex=t.bindingRootIndex=n,uy(e)}function uy(n){q.lFrame.currentDirectiveIndex=n}function MM(){return q.lFrame.currentQueryIndex}function hy(n){q.lFrame.currentQueryIndex=n}function T3(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function kM(n,e,t){if(t&ee.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&ee.Host||(i=T3(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=q.lFrame=RM();return r.currentTNode=e,r.lView=n,!0}function sf(n){const e=RM(),t=n[1];q.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function RM(){const n=q.lFrame,e=null===n?null:n.child;return null===e?NM(n):e}function NM(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function PM(){const n=q.lFrame;return q.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const OM=PM;function af(){const n=PM();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function bn(){return q.lFrame.selectedIndex}function ds(n){q.lFrame.selectedIndex=n}function it(){const n=q.lFrame;return sy(n.tView,n.selectedIndex)}function cf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),c&&(n.viewHooks||(n.viewHooks=[])).push(-t,c),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function lf(n,e,t){FM(n,e,3,t)}function uf(n,e,t,r){(3&n[2])===t&&FM(n,e,t,r)}function fy(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function FM(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&n[18]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[18]+=65536),(a<s||-1==s)&&(N3(n,t,e,c),n[18]=(4294901760&n[18])+c+2),c++}function N3(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Fl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function df(n,e,t){const r=rt(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],c=t[i++];r?n.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=t[++i];gy(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function LM(n){return 3===n||4===n||6===n}function gy(n){return 64===n.charCodeAt(0)}function hf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||BM(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function BM(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function UM(n){return-1!==n}function ka(n){return 32767&n}function Ra(n,e){let t=function B3(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let my=!0;function ff(n){const e=my;return my=n,e}let U3=0;function Bl(n,e){const t=yy(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,_y(r.data,n),_y(e,null),_y(r.blueprint,null));const i=pf(n,e),s=n.injectorIndex;if(UM(i)){const o=ka(i),a=Ra(i,e),c=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function _y(n,e){n.push(0,0,0,0,0,0,0,0,e)}function yy(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function pf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function gf(n,e,t){!function V3(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(kl)&&(r=t[kl]),null==r&&(r=t[kl]=U3++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function HM(n,e,t){if(t&ee.Optional)return n;qh(e,"NodeInjector")}function $M(n,e,t,r){if(t&ee.Optional&&void 0===r&&(r=null),0==(t&(ee.Self|ee.Host))){const i=n[9],s=as(void 0);try{return i?i.get(e,r,t&ee.Optional):dM(e,r,t&ee.Optional)}finally{as(s)}}return HM(r,e,t)}function GM(n,e,t,r=ee.Default,i){if(null!==n){const s=function G3(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(kl)?n[kl]:void 0;return"number"==typeof e?e>=0?255&e:H3:e}(t);if("function"==typeof s){if(!kM(e,n,r))return r&ee.Host?HM(i,t,r):$M(e,t,r,i);try{const o=s(r);if(null!=o||r&ee.Optional)return o;qh(t)}finally{OM()}}else if("number"==typeof s){let o=null,a=yy(n,e),c=-1,l=r&ee.Host?e[16][6]:null;for((-1===a||r&ee.SkipSelf)&&(c=-1===a?pf(n,e):e[a+8],-1!==c&&qM(r,!1)?(o=e[1],a=ka(c),e=Ra(c,e)):a=-1);-1!==a;){const u=e[1];if(zM(s,a,u.data)){const d=$3(a,e,t,o,r,l);if(d!==WM)return d}c=e[a+8],-1!==c&&qM(r,e[1].data[a+8]===l)&&zM(s,a,e)?(o=u,a=ka(c),e=Ra(c,e)):a=-1}}}return $M(e,t,r,i)}const WM={};function H3(){return new Na(At(),T())}function $3(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=mf(a,o,t,null==r?Zh(a)&&my:r!=o&&0!=(3&a.type),i&ee.Host&&s===a);return null!==u?Ul(e,o,u,a):WM}function mf(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<c&&t===p||f>=c&&p.type===t)return f}if(i){const f=o[c];if(f&&br(f)&&f.type===t)return c}return null}function Ul(n,e,t,r){let i=n[t];const s=e.data;if(function P3(n){return n instanceof Fl}(i)){const o=i;o.resolving&&function LW(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${n}${t}`)}(yn(s[t]));const a=ff(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?as(o.injectImpl):null;kM(n,r,ee.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function R3(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=yM(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==c&&as(c),ff(a),o.resolving=!1,OM()}}return i}function zM(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function qM(n,e){return!(n&ee.Self||n&ee.Host&&e)}class Na{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return GM(this._tNode,this._lView,e,r,t)}}function Pa(n){return function j3(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(LM(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(At(),n)}const Fa="__parameters__";function Ba(n,e,t){return cs(()=>{const r=function by(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(Fa)?c[Fa]:Object.defineProperty(c,Fa,{value:[]})[Fa];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class L{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const q3=new L("AnalyzeForEntryComponents");function ar(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),ar(r,e)):e!==n&&e.push(r)}return e}function $r(n,e){n.forEach(t=>Array.isArray(t)?$r(t,e):e(t))}function QM(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function _f(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Hl(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Gn(n,e,t){let r=Ua(n,e);return r>=0?n[1|r]=t:(r=~r,function Y3(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Ey(n,e){const t=Ua(n,e);if(t>=0)return n[1|t]}function Ua(n,e){return function JM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const $l={},Ty="__NG_DI_FLAG__",vf="ngTempTokenPath",rz=/\n/gm,ek="__source",sz=Ne({provide:String,useValue:Ne});let Gl;function tk(n){const e=Gl;return Gl=n,e}function oz(n,e=ee.Default){if(void 0===Gl)throw new Ee(203,"");return null===Gl?dM(n,void 0,e):Gl.get(n,e&ee.Optional?null:void 0,e)}function x(n,e=ee.Default){return(function GW(){return Q_}()||oz)(ie(n),e)}const Cy=x;function Dy(n){const e=[];for(let t=0;t<n.length;t++){const r=ie(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Ee(900,"");let i,s=ee.Default;for(let o=0;o<r.length;o++){const a=r[o],c=az(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(x(i,s))}else e.push(x(r))}return e}function Wl(n,e){return n[Ty]=e,n.prototype[Ty]=e,n}function az(n){return n[Ty]}const zl=Wl(Ba("Inject",n=>({token:n})),-1),De=Wl(Ba("Optional"),8),uo=Wl(Ba("SkipSelf"),4);let wf;function ja(n){var e;return(null===(e=function Ay(){if(void 0===wf&&(wf=null,Re.trustedTypes))try{wf=Re.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return wf}())||void 0===e?void 0:e.createHTML(n))||n}class ho{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class bz extends ho{getTypeName(){return"HTML"}}class wz extends ho{getTypeName(){return"Style"}}class Ez extends ho{getTypeName(){return"Script"}}class Iz extends ho{getTypeName(){return"URL"}}class Tz extends ho{getTypeName(){return"ResourceURL"}}function Wn(n){return n instanceof ho?n.changingThisBreaksApplicationSecurity:n}function Gr(n,e){const t=uk(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function uk(n){return n instanceof ho&&n.getTypeName()||null}class Mz{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ja(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class kz{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ja(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=ja(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Nz=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Pz=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Kl(n){return(n=String(n)).match(Nz)||n.match(Pz)?n:"unsafe:"+n}function hk(n){return(n=String(n)).split(",").map(e=>Kl(e.trim())).join(", ")}function Wr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Ql(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const fk=Wr("area,br,col,hr,img,wbr"),pk=Wr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gk=Wr("rp,rt"),My=Ql(fk,Ql(pk,Wr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ql(gk,Wr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ql(gk,pk)),ky=Wr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ry=Wr("srcset"),mk=Ql(ky,Ry,Wr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Oz=Wr("script,style,template");class Fz{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!My.hasOwnProperty(t))return this.sanitizedSomething=!0,!Oz.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!mk.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;ky[a]&&(c=Kl(c)),Ry[a]&&(c=hk(c)),this.buf.push(" ",o,'="',_k(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();My.hasOwnProperty(t)&&!fk.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(_k(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Lz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bz=/([^\#-~ |!])/g;function _k(n){return n.replace(/&/g,"&amp;").replace(Lz,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Bz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let If;function yk(n,e){let t=null;try{If=If||function dk(n){const e=new kz(n);return function Rz(){try{return!!(new window.DOMParser).parseFromString(ja(""),"text/html")}catch(n){return!1}}()?new Mz(e):e}(n);let r=e?String(e):"";t=If.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=If.getInertBodyElement(r)}while(r!==s);return ja((new Fz).sanitizeChildren(Ny(t)||t))}finally{if(t){const r=Ny(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Ny(n){return"content"in n&&function Uz(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ie=(()=>((Ie=Ie||{})[Ie.NONE=0]="NONE",Ie[Ie.HTML=1]="HTML",Ie[Ie.STYLE=2]="STYLE",Ie[Ie.SCRIPT=3]="SCRIPT",Ie[Ie.URL=4]="URL",Ie[Ie.RESOURCE_URL=5]="RESOURCE_URL",Ie))();function Tf(n){const e=function Yl(){const n=T();return n&&n[12]}();return e?e.sanitize(Ie.URL,n)||"":Gr(n,"URL")?Wn(n):Kl(X(n))}const wk="__ngContext__";function an(n,e){n[wk]=e}function Oy(n){const e=function Xl(n){return n[wk]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Ly(n){return n.ngOriginalError}function nq(n,...e){n.error(...e)}class Ci{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function tq(n){return n&&n.ngErrorLogger||nq}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ly(e);for(;t&&Ly(t);)t=Ly(t);return t||null}}const Dk=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Re))();function zr(n){return n instanceof Function?n():n}var zn=(()=>((zn=zn||{})[zn.Important=1]="Important",zn[zn.DashCase=2]="DashCase",zn))();function Uy(n,e){return undefined(n,e)}function Jl(n){const e=n[3];return vr(e)?e[3]:e}function Vy(n){return kk(n[13])}function jy(n){return kk(n[4])}function kk(n){for(;null!==n&&!vr(n);)n=n[4];return n}function $a(n,e,t,r,i){if(null!=r){let s,o=!1;vr(r)?s=r:jr(r)&&(o=!0,r=r[0]);const a=wt(r);0===n&&null!==t?null==i?Lk(e,t,a):fo(e,t,a,i||null,!0):1===n&&null!==t?fo(e,t,a,i||null,!0):2===n?function Gk(n,e,t){const r=Cf(n,e);r&&function Cq(n,e,t,r){rt(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Aq(n,e,t,r,i){const s=t[7];s!==wt(t)&&$a(e,n,r,s,i);for(let a=10;a<t.length;a++){const c=t[a];Zl(c[1],c,n,e,r,s)}}(e,n,s,t,i)}}function $y(n,e,t){return rt(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function Nk(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ay(i,-1)),t.splice(r,1)}function Gy(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&Nk(i,r),e>0&&(n[t-1][4]=r[4]);const s=_f(n,10+e);!function _q(n,e){Zl(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Pk(n,e){if(!(256&e[2])){const t=e[11];rt(t)&&t.destroyNode&&Zl(n,e,t,3,null,null),function bq(n){let e=n[13];if(!e)return Wy(n[1],n);for(;e;){let t=null;if(jr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)jr(e)&&Wy(e[1],e),e=e[3];null===e&&(e=n),jr(e)&&Wy(e[1],e),t=e&&e[4]}e=t}}(e)}}function Wy(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function Tq(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Fl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];try{c.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function Iq(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):wt(e[o]),c=r[i=t[s+2]],l=t[s+3];"boolean"==typeof l?a.removeEventListener(t[s],c,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&rt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&vr(e[3])){t!==e[3]&&Nk(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function Ok(n,e,t){return function Fk(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Vr.None||i===Vr.Emulated)return null}return or(r,t)}(n,e.parent,t)}function fo(n,e,t,r,i){rt(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function Lk(n,e,t){rt(n)?n.appendChild(e,t):e.appendChild(t)}function Bk(n,e,t,r,i){null!==r?fo(n,e,t,r,i):Lk(n,e,t)}function Cf(n,e){return rt(n)?n.parentNode(e):e.parentNode}function Uk(n,e,t){return jk(n,e,t)}let jk=function Vk(n,e,t){return 40&n.type?or(n,t):null};function Df(n,e,t,r){const i=Ok(n,r,e),s=e[11],a=Uk(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)Bk(s,i,t[c],a,!1);else Bk(s,i,t,a,!1)}function Sf(n,e){if(null!==e){const t=e.type;if(3&t)return or(e,n);if(4&t)return qy(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Sf(n,r);{const i=n[e.index];return vr(i)?qy(-1,i):wt(i)}}if(32&t)return Uy(e,n)()||wt(n[e.index]);{const r=$k(n,e);return null!==r?Array.isArray(r)?r[0]:Sf(Jl(n[16]),r):Sf(n,e.next)}}return null}function $k(n,e){return null!==e?n[16][6].projection[e.projection]:null}function qy(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Sf(r,i)}return e[7]}function Ky(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],c=t.type;if(o&&0===e&&(a&&an(wt(a),r),t.flags|=4),64!=(64&t.flags))if(8&c)Ky(n,e,t.child,r,i,s,!1),$a(e,n,i,a,s);else if(32&c){const l=Uy(t,r);let u;for(;u=l();)$a(e,n,i,u,s);$a(e,n,i,a,s)}else 16&c?Wk(n,e,r,t,i,s):$a(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Zl(n,e,t,r,i,s){Ky(t,r,n.firstChild,e,i,s,!1)}function Wk(n,e,t,r,i,s){const o=t[16],c=o[6].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)$a(e,n,i,c[l],s);else Ky(n,e,c,o[3],i,s,!0)}function zk(n,e,t){rt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Qy(n,e,t){rt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function qk(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const Kk="ng-template";function Mq(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==qk(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Qk(n){return 4===n.type&&n.value!==Kk}function kq(n,e,t){return e===(4!==n.type||t?n.value:Kk)}function Rq(n,e,t){let r=4;const i=n.attrs||[],s=function Oq(n){for(let e=0;e<n.length;e++)if(LM(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!kq(n,c,t)||""===c&&1===e.length){if(wr(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!Mq(n.attrs,l,t)){if(wr(r))return!1;o=!0}continue}const d=Nq(8&r?"class":c,i,Qk(n),t);if(-1===d){if(wr(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==qk(f,l,0)||2&r&&l!==h){if(wr(r))return!1;o=!0}}}}else{if(!o&&!wr(r)&&!wr(c))return!1;if(o&&wr(c))continue;o=!1,r=c|1&r}}return wr(r)||o}function wr(n){return 0==(1&n)}function Nq(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Fq(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Yk(n,e,t=!1){for(let r=0;r<e.length;r++)if(Rq(n,e[r],t))return!0;return!1}function Lq(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Xk(n,e){return n?":not("+e.trim()+")":e}function Bq(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!wr(o)&&(e+=Xk(s,i),i=""),r=o,s=s||!wr(r);t++}return""!==i&&(e+=Xk(s,i)),e}const J={};function qn(n){Jk(_e(),T(),bn()+n,nf())}function Jk(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&lf(e,s,t)}else{const s=n.preOrderHooks;null!==s&&uf(e,s,0,t)}ds(t)}function Af(n,e){return n<<17|e<<2}function Er(n){return n>>17&32767}function Yy(n){return 2|n}function Di(n){return(131068&n)>>2}function Xy(n,e){return-131069&n|e<<2}function Jy(n){return 1|n}function lR(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];hy(i),o.contentQueries(2,e[s],s)}}}function eu(n,e,t,r,i,s,o,a,c,l){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,CM(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=c||n&&n[12]||null,u[9]=l||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function Ga(n,e,t,r,i){let s=n.data[e];if(null===s)s=function av(n,e,t,r,i){const s=SM(),o=cy(),c=n.data[e]=function n6(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c)),c}(n,e,t,r,i),function w3(){return q.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Ol(){const n=q.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Hr(s,!0),s}function Wa(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function tu(n,e,t){sf(e);try{const r=n.viewQuery;null!==r&&mv(1,r,t);const i=n.template;null!==i&&uR(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&lR(n,e),n.staticViewQueries&&mv(2,n.viewQuery,t);const s=n.components;null!==s&&function Zq(n,e){for(let t=0;t<e.length;t++)b6(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,af()}}function za(n,e,t,r){const i=e[2];if(256==(256&i))return;sf(e);const s=nf();try{CM(e),function AM(n){return q.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&uR(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const l=n.preOrderCheckHooks;null!==l&&lf(e,l,null)}else{const l=n.preOrderHooks;null!==l&&uf(e,l,0,null),fy(e,0)}if(function y6(n){for(let e=Vy(n);null!==e;e=jy(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&ay(s,1),i[2]|=1024}}}(e),function _6(n){for(let e=Vy(n);null!==e;e=jy(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];oy(r)&&za(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&lR(n,e),!s)if(o){const l=n.contentCheckHooks;null!==l&&lf(e,l)}else{const l=n.contentHooks;null!==l&&uf(e,l,1),fy(e,1)}!function Xq(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)ds(~i);else{const s=i,o=t[++r],a=t[++r];E3(o,s),a(2,e[s])}}}finally{ds(-1)}}(n,e);const a=n.components;null!==a&&function Jq(n,e){for(let t=0;t<e.length;t++)v6(n,e[t])}(e,a);const c=n.viewQuery;if(null!==c&&mv(2,c,r),!s)if(o){const l=n.viewCheckHooks;null!==l&&lf(e,l)}else{const l=n.viewHooks;null!==l&&uf(e,l,2),fy(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ay(e[3],-1))}finally{af()}}function e6(n,e,t,r){const i=e[10],s=!nf(),o=TM(e);try{s&&!o&&i.begin&&i.begin(),o&&tu(n,e,r),za(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function uR(n,e,t,r,i){const s=bn(),o=2&r;try{ds(-1),o&&e.length>20&&Jk(n,e,20,nf()),t(r,i)}finally{ds(s)}}function cv(n,e,t){!DM()||(function l6(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Bl(t,e),an(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const c=n.data[a],l=br(c);l&&p6(e,t,c);const u=Ul(e,n,a,t);an(u,e),null!==o&&g6(0,a-i,u,c,0,o),l&&($n(t.index,e)[8]=u)}}(n,e,t,or(t,e)),128==(128&t.flags)&&function u6(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function I3(){return q.lFrame.currentDirectiveIndex}();try{ds(o);for(let c=r;c<i;c++){const l=n.data[c],u=e[c];uy(c),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&vR(l,u)}}finally{ds(-1),uy(a)}}(n,e,t))}function lv(n,e,t=or){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function hR(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=kf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function kf(n,e,t,r,i,s,o,a,c,l){const u=20+r,d=u+i,h=function t6(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:J);return t}(u,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function gR(n,e,t,r){const i=CR(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&DR(n).push(r,i.length-1))}function mR(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Kn(n,e,t,r,i,s,o,a){const c=or(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(xR(n,t,u,r,i),Zh(e)&&function s6(n,e){const t=$n(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function i6(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,rt(s)?s.setProperty(c,r,i):gy(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function uv(n,e,t,r){let i=!1;if(DM()){const s=function d6(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Yk(t,o.selectors,!1)&&(i||(i=[]),gf(Bl(t,e),n,o.type),br(o)?(bR(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,wR(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,c=!1,l=Wa(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=hf(t.mergedAttrs,d.hostAttrs),ER(n,t,e,l,d),f6(l,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!c&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),c=!0),l++}!function r6(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,c=null;for(let l=e.directiveStart;l<r;l++){const u=i[l],d=u.inputs,h=null===s||Qk(e)?null:m6(d,s);o.push(h),a=mR(d,l,a),c=mR(u.outputs,l,c)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=c}(n,t)}o&&function h6(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Ee(-301,`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=hf(t.mergedAttrs,t.attrs),i}function yR(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const c=~e.index;(function c6(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=c&&a.push(c),a.push(r,i,o)}}function vR(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function bR(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function f6(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;br(e)&&(t[""]=n)}}function wR(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function ER(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=co(i.type)),o=new Fl(s,br(i),null);n.blueprint[r]=o,t[r]=o,yR(n,e,0,r,Wa(n,t,i.hostVars,J),i)}function p6(n,e,t){const r=or(e,n),i=hR(t),s=n[10],o=Rf(n,eu(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function qr(n,e,t,r,i,s){const o=or(n,e);!function dv(n,e,t,r,i,s,o){if(null==s)rt(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?X(s):o(s,r||"",i);rt(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function g6(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let c=0;c<o.length;){const l=o[c++],u=o[c++],d=o[c++];null!==a?r.setInput(t,d,l,u):t[u]=d}}}function m6(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function IR(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function v6(n,e){const t=$n(e,n);if(oy(t)){const r=t[1];80&t[2]?za(r,t,r.template,t[8]):t[5]>0&&hv(t)}}function hv(n){for(let r=Vy(n);null!==r;r=jy(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];za(o,s,o.template,s[8])}else s[5]>0&&hv(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=$n(t[r],n);oy(i)&&i[5]>0&&hv(i)}}function b6(n,e){const t=$n(e,n),r=t[1];(function w6(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),tu(r,t,t[8])}function Rf(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function fv(n){for(;n;){n[2]|=64;const e=Jl(n);if(e3(n)&&!e)return n;n=e}return null}function gv(n,e,t){const r=e[10];r.begin&&r.begin();try{za(n,e,n.template,t)}catch(i){throw AR(e,i),i}finally{r.end&&r.end()}}function TR(n){!function pv(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Oy(t),i=r[1];e6(i,r,i.template,t)}}(n[8])}function mv(n,e,t){hy(0),e(n,t)}const C6=(()=>Promise.resolve(null))();function CR(n){return n[7]||(n[7]=[])}function DR(n){return n.cleanup||(n.cleanup=[])}function AR(n,e){const t=n[9],r=t?t.get(Ci,null):null;r&&r.handleError(e)}function xR(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],c=e[o],l=n.data[o];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function Si(n,e,t){const r=tf(e,n);!function Rk(n,e,t){rt(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function Nf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=G_(i,a):2==s&&(r=G_(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const _v=new L("INJECTOR",-1);class MR{get(e,t=$l){if(t===$l){const r=new Error(`NullInjectorError: No provider for ${Ce(e)}!`);throw r.name="NullInjectorError",r}return t}}const yv=new L("Set Injector scope."),nu={},A6={};let vv;function kR(){return void 0===vv&&(vv=new MR),vv}function RR(n,e=null,t=null,r){const i=NR(n,e,t,r);return i._resolveInjectorDefTypes(),i}function NR(n,e=null,t=null,r){return new x6(n,t,e||kR(),r)}class x6{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&$r(t,a=>this.processProvider(a,e,t)),$r([e],a=>this.processInjectorType(a,[],s)),this.records.set(_v,qa(void 0,this));const o=this.records.get(yv);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:Ce(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=$l,r=ee.Default){this.assertNotDestroyed();const i=tk(this),s=as(void 0);try{if(!(r&ee.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function L6(n){return"function"==typeof n||"object"==typeof n&&n instanceof L}(e)&&q_(e);a=c&&this.injectableDefInScope(c)?qa(bv(e),nu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ee.Self?kR():this.parent).get(e,t=r&ee.Optional&&t===$l?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[vf]=o[vf]||[]).unshift(Ce(e)),i)throw o;return function cz(n,e,t,r){const i=n[vf];throw e[ek]&&i.unshift(e[ek]),n.message=function lz(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Ce(e);if(Array.isArray(e))i=e.map(Ce).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ce(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(rz,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[vf]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{as(s),tk(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Ce(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,"")}processInjectorType(e,t,r){if(!(e=ie(e)))return!1;let i=lM(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=lM(s)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(o);try{$r(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];$r(f,p=>this.processProvider(p,h,f||Pe))}}this.injectorDefTypes.add(o);const c=co(o)||(()=>new o);this.records.set(o,qa(c,nu));const l=i.providers;if(null!=l&&!a){const u=e;$r(l,d=>this.processProvider(d,u,l))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Ka(e=ie(e))?e:ie(e&&e.provide);const s=function k6(n,e,t){return OR(n)?qa(void 0,n.useValue):qa(function PR(n,e,t){let r;if(Ka(n)){const i=ie(n);return co(i)||bv(i)}if(OR(n))r=()=>ie(n.useValue);else if(function N6(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Dy(n.deps||[]));else if(function R6(n){return!(!n||!n.useExisting)}(n))r=()=>x(ie(n.useExisting));else{const i=ie(n&&(n.useClass||n.provide));if(!function O6(n){return!!n.deps}(n))return co(i)||bv(i);r=()=>new i(...Dy(n.deps))}return r}(n),nu)}(e);if(Ka(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=qa(void 0,nu,!0),o.factory=()=>Dy(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===nu&&(t.value=A6,t.value=t.factory()),"object"==typeof t.value&&t.value&&function F6(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ie(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function bv(n){const e=q_(n),t=null!==e?e.factory:co(n);if(null!==t)return t;if(n instanceof L)throw new Ee(204,"");if(n instanceof Function)return function M6(n){const e=n.length;if(e>0)throw Hl(e,"?"),new Ee(204,"");const t=function jW(n){const e=n&&(n[Kh]||n[uM]);if(e){const t=function HW(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Ee(204,"")}function qa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function OR(n){return null!==n&&"object"==typeof n&&sz in n}function Ka(n){return"function"==typeof n}let st=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return RR({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return RR({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=$l,n.NULL=new MR,n.\u0275prov=Q({token:n,providedIn:"any",factory:()=>x(_v)}),n.__NG_ELEMENT_ID__=-1,n})();function W6(n,e){cf(Oy(n)[1],At())}function Iv(n){let e=function qR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(br(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ee(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Tv(n.inputs),o.declaredInputs=Tv(n.declaredInputs),o.outputs=Tv(n.outputs);const a=i.hostBindings;a&&Q6(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&q6(n,c),l&&K6(n,l),$_(n.inputs,i.inputs),$_(n.declaredInputs,i.declaredInputs),$_(n.outputs,i.outputs),br(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Iv&&(t=!1)}}e=Object.getPrototypeOf(e)}!function z6(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=hf(i.hostAttrs,t=hf(t,i.hostAttrs))}}(r)}function Tv(n){return n===Ta?{}:n===Pe?[]:n}function q6(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function K6(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Q6(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Pf=null;function Qa(){if(!Pf){const n=Re.Symbol;if(n&&n.iterator)Pf=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Pf=r)}}}return Pf}function ru(n){return!!Cv(n)&&(Array.isArray(n)||!(n instanceof Map)&&Qa()in n)}function Cv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function cn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ff(n,e,t,r){const i=T();return cn(i,Ma(),e)&&(_e(),qr(it(),i,n,e,t,r)),Ff}function Xa(n,e,t,r){return cn(n,Ma(),t)?e+X(t)+r:J}function Dv(n,e,t,r,i,s,o,a){const c=T(),l=_e(),u=n+20,d=l.firstCreatePass?function n5(n,e,t,r,i,s,o,a,c){const l=e.consts,u=Ga(e,n,4,o||null,us(l,a));uv(e,t,u,us(l,c)),cf(e,u);const d=u.tViews=kf(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,r,i,s,o):l.data[u];Hr(d,!1);const h=c[11].createComment("");Df(l,c,h,d),an(h,c),Rf(c,c[u]=IR(h,c,h,d)),ef(d)&&cv(l,c,d),null!=o&&lv(c,d,a)}function V(n,e=ee.Default){const t=T();return null===t?x(n,e):GM(At(),t,ie(n),e)}function kv(){throw new Error("invalid")}function go(n,e,t){const r=T();return cn(r,Ma(),e)&&Kn(_e(),it(),r,n,e,r[11],t,!1),go}function Rv(n,e,t,r,i){const o=i?"class":"style";xR(n,t,e.inputs[o],o,r)}function B(n,e,t,r){const i=T(),s=_e(),o=20+n,a=i[11],c=i[o]=$y(a,e,function k3(){return q.lFrame.currentNamespace}()),l=s.firstCreatePass?function C5(n,e,t,r,i,s,o){const a=e.consts,l=Ga(e,n,2,i,us(a,s));return uv(e,t,l,us(a,o)),null!==l.attrs&&Nf(l,l.attrs,!1),null!==l.mergedAttrs&&Nf(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,t,r):s.data[o];Hr(l,!0);const u=l.mergedAttrs;null!==u&&df(a,c,u);const d=l.classes;null!==d&&Qy(a,c,d);const h=l.styles;null!==h&&zk(a,c,h),64!=(64&l.flags)&&Df(s,i,c,l),0===function p3(){return q.lFrame.elementDepthCount}()&&an(c,i),function g3(){q.lFrame.elementDepthCount++}(),ef(l)&&(cv(s,i,l),function dR(n,e,t){if(ey(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,l,i)),null!==r&&lv(i,l)}function U(){let n=At();cy()?ly():(n=n.parent,Hr(n,!1));const e=n;!function m3(){q.lFrame.elementDepthCount--}();const t=_e();t.firstCreatePass&&(cf(t,n),ey(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function F3(n){return 0!=(16&n.flags)}(e)&&Rv(t,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function L3(n){return 0!=(32&n.flags)}(e)&&Rv(t,e,T(),e.stylesWithoutHost,!1)}function Tr(n,e,t,r){B(n,e,t,r),U()}function Bf(n){return!!n&&"function"==typeof n.then}const mN=function gN(n){return!!n&&"function"==typeof n.subscribe};function Uf(n,e,t,r){const i=T(),s=_e(),o=At();return function yN(n,e,t,r,i,s,o,a){const c=ef(r),u=n.firstCreatePass&&DR(n),d=e[8],h=CR(e);let f=!0;if(3&r.type||a){const m=or(r,e),y=a?a(m):m,_=h.length,E=a?N=>a(wt(N[r.index])):r.index;if(rt(t)){let N=null;if(!a&&c&&(N=function x5(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=s,N.__ngLastListenerFn__=s,f=!1;else{s=Nv(r,e,d,s,!1);const $=t.listen(y,i,s);h.push(s,$),u&&u.push(i,E,_,_+1)}}else s=Nv(r,e,d,s,!0),y.addEventListener(i,s,o),h.push(s),u&&u.push(i,E,_,o)}else s=Nv(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const ne=e[g[y]][g[y+1]].subscribe(s),Ke=h.length;h.push(s,ne),u&&u.push(i,r.index,Ke,-(Ke+1))}}}(s,i,i[11],o,n,e,!!t,r),Uf}function vN(n,e,t,r){try{return!1!==t(r)}catch(i){return AR(n,i),!1}}function Nv(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?$n(n.index,e):e;0==(32&e[2])&&fv(a);let c=vN(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)c=vN(e,0,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function k5(n,e){let t=null;const r=function Pq(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Yk(n,s,!0):Lq(r,s))return i}else t=i}return t}function Pv(n,e,t){return Ov(n,"",e,"",t),Pv}function Ov(n,e,t,r,i){const s=T(),o=Xa(s,e,t,r);return o!==J&&Kn(_e(),it(),s,n,o,s[11],i,!1),Ov}function MN(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Er(s):Di(s),c=!1;for(;0!==a&&(!1===c||o);){const u=n[a+1];P5(n[a],e)&&(c=!0,n[a+1]=r?Jy(u):Yy(u)),a=r?Er(u):Di(u)}c&&(n[t+1]=r?Yy(s):Jy(s))}function P5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ua(n,e)>=0}function Fv(n,e){return function Cr(n,e,t,r){const i=T(),s=_e(),o=function Ti(n){const e=q.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function UN(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[bn()],o=function BN(n,e){return e>=n.expandoStartIndex}(n,t);(function $N(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function $5(n,e,t,r){const i=function dy(n){const e=q.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=su(t=Lv(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Lv(i,n,e,t,r),null===s){let c=function G5(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Di(r))return n[Er(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=Lv(null,n,e,c[1],r),c=su(c,e.attrs,r),function W5(n,e,t,r){n[Er(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function z5(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=su(r,n[s].hostAttrs,t);return su(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function R5(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Er(o),c=Di(o);n[r]=t;let u,l=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||Ua(d,u)>0)&&(l=!0)}else u=t;if(i)if(0!==c){const h=Er(n[a+1]);n[r+1]=Af(h,a),0!==h&&(n[h+1]=Xy(n[h+1],r)),n[a+1]=function jq(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Af(a,0),0!==a&&(n[a+1]=Xy(n[a+1],r)),a=r;else n[r+1]=Af(c,0),0===a?a=r:n[c+1]=Xy(n[c+1],r),c=r;l&&(n[r+1]=Yy(n[r+1])),MN(n,u,r,!0),MN(n,u,r,!1),function N5(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Ua(s,e)>=0&&(t[r+1]=Jy(t[r+1]))}(e,u,n,r,s),o=Af(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==J&&cn(i,o,e)&&function jN(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const c=n.data,l=c[a+1];Vf(function tR(n){return 1==(1&n)}(l)?HN(c,e,t,i,Di(l),o):void 0)||(Vf(s)||function eR(n){return 2==(2&n)}(l)&&(s=HN(c,null,t,i,a,o)),function xq(n,e,t,r,i){const s=rt(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:zn.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=zn.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,tf(bn(),t),i,s))}(s,s.data[bn()],i,i[11],n,i[o+1]=function Q5(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ce(Wn(n)))),n}(e,t),r,o)}(n,e,null,!0),Fv}function Lv(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=su(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function su(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Gn(n,o,!!t||e[++s]))}return void 0===n?null:n}function HN(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=t[i+1];h===J&&(h=d?Pe:void 0);let f=d?Ey(h,r):u===r?h:void 0;if(l&&!Vf(f)&&(f=Ey(c,r)),Vf(f)&&(a=f,o))return a;const p=n[i+1];i=o?Er(p):Di(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=Ey(c,r))}return a}function Vf(n){return void 0!==n}function Se(n,e=""){const t=T(),r=_e(),i=n+20,s=r.firstCreatePass?Ga(r,i,1,e,null):r.data[i],o=t[i]=function Hy(n,e){return rt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Df(r,t,o,s),Hr(s,!1)}function Ai(n){return Bv("",n,""),Ai}function Bv(n,e,t){const r=T(),i=Xa(r,n,e,t);return i!==J&&Si(r,bn(),i),Bv}const mo=void 0;var m7=["en",[["a","p"],["AM","PM"],mo],[["AM","PM"],mo,mo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mo,"{1} 'at' {0}",mo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function g7(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let ac={};function uP(n){return n in ac||(ac[n]=Re.ng&&Re.ng.common&&Re.ng.common.locales&&Re.ng.common.locales[n]),ac[n]}var O=(()=>((O=O||{})[O.LocaleId=0]="LocaleId",O[O.DayPeriodsFormat=1]="DayPeriodsFormat",O[O.DayPeriodsStandalone=2]="DayPeriodsStandalone",O[O.DaysFormat=3]="DaysFormat",O[O.DaysStandalone=4]="DaysStandalone",O[O.MonthsFormat=5]="MonthsFormat",O[O.MonthsStandalone=6]="MonthsStandalone",O[O.Eras=7]="Eras",O[O.FirstDayOfWeek=8]="FirstDayOfWeek",O[O.WeekendRange=9]="WeekendRange",O[O.DateFormat=10]="DateFormat",O[O.TimeFormat=11]="TimeFormat",O[O.DateTimeFormat=12]="DateTimeFormat",O[O.NumberSymbols=13]="NumberSymbols",O[O.NumberFormats=14]="NumberFormats",O[O.CurrencyCode=15]="CurrencyCode",O[O.CurrencySymbol=16]="CurrencySymbol",O[O.CurrencyName=17]="CurrencyName",O[O.Currencies=18]="Currencies",O[O.Directionality=19]="Directionality",O[O.PluralCase=20]="PluralCase",O[O.ExtraData=21]="ExtraData",O))();const jf="en-US";let dP=jf;class FP{}class v9{resolveComponentFactory(e){throw function y9(n){const e=Error(`No component factory found for ${Ce(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let _o=(()=>{class n{}return n.NULL=new v9,n})();function b9(){return lc(At(),T())}function lc(n,e){return new xi(or(n,e))}let xi=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=b9,n})();function w9(n){return n instanceof xi?n.nativeElement:n}class BP{}let zf=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function I9(){const n=T(),t=$n(At().index,n);return function E9(n){return n[11]}(jr(t)?t:n)}(),n})(),T9=(()=>{class n{}return n.\u0275prov=Q({token:n,providedIn:"root",factory:()=>null}),n})();class yo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const UP=new yo("13.1.3"),Wv={};function qf(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(wt(s)),vr(s))for(let a=10;a<s.length;a++){const c=s[a],l=c[1].firstChild;null!==l&&qf(c[1],c,l,r)}const o=t.type;if(8&o)qf(n,e,t.child,r);else if(32&o){const a=Uy(t,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=$k(e,t);if(Array.isArray(a))r.push(...a);else{const c=Jl(e[16]);qf(c[1],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class uu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return qf(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(vr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Gy(e,r),_f(t,r))}this._attachedToViewContainer=!1}Pk(this._lView[1],this._lView)}onDestroy(e){gR(this._lView[1],this._lView,null,e)}markForCheck(){fv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){gv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function I6(n,e,t){rf(!0);try{gv(n,e,t)}finally{rf(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vq(n,e){Zl(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ee(902,"");this._appRef=e}}class C9 extends uu{constructor(e){super(e),this._view=e}detectChanges(){TR(this._view)}checkNoChanges(){!function T6(n){rf(!0);try{TR(n)}finally{rf(!1)}}(this._view)}get context(){return null}}class VP extends _o{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=sn(e);return new zv(t,this.ngModule)}}function jP(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const S9=new L("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Dk});class zv extends FP{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Uq(n){return n.map(Bq).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return jP(this.componentDef.inputs)}get outputs(){return jP(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function A9(n,e){return{get:(t,r,i)=>{const s=n.get(t,Wv,i);return s!==Wv||r===Wv?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(BP,IM),a=s.get(T9,null),c=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",u=r?function pR(n,e,t){if(rt(n))return n.selectRootElement(e,t===Vr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(c,r,this.componentDef.encapsulation):$y(o.createRenderer(null,this.componentDef),l,function D9(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),d=this.componentDef.onPush?576:528,h=function zR(n,e){return{components:[],scheduler:n||Dk,clean:C6,playerHandler:e||null,flags:0}}(),f=kf(0,null,null,1,0,null,null,null,null,null),p=eu(null,f,h,d,null,null,o,c,a,s);let g,m;sf(p);try{const y=function GR(n,e,t,r,i,s){const o=t[1];t[20]=n;const c=Ga(o,20,2,"#host",null),l=c.mergedAttrs=e.hostAttrs;null!==l&&(Nf(c,l,!0),null!==n&&(df(i,n,l),null!==c.classes&&Qy(i,n,c.classes),null!==c.styles&&zk(i,n,c.styles)));const u=r.createRenderer(n,e),d=eu(t,hR(e),null,e.onPush?64:16,t[20],c,r,u,s||null,null);return o.firstCreatePass&&(gf(Bl(c,t),o,e.type),bR(o,c),wR(c,t.length,1)),Rf(t,d),t[20]=d}(u,this.componentDef,p,o,c);if(u)if(r)df(c,u,["ng-version",UP.full]);else{const{attrs:_,classes:E}=function Vq(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!wr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);_&&df(c,u,_),E&&E.length>0&&Qy(c,u,E.join(" "))}if(m=sy(f,20),void 0!==t){const _=m.projection=[];for(let E=0;E<this.ngContentSelectors.length;E++){const N=t[E];_.push(null!=N?Array.from(N):null)}}g=function WR(n,e,t,r,i){const s=t[1],o=function a6(n,e,t){const r=At();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),ER(n,r,e,Wa(n,e,1,null),t));const i=Ul(e,n,r.directiveStart,r);an(i,e);const s=or(r,e);return s&&an(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(c=>c(o,e)),e.contentQueries){const c=At();e.contentQueries(1,o,c.directiveStart)}const a=At();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ds(a.index),yR(t[1],a,0,a.directiveStart,a.directiveEnd,e),vR(e,o)),o}(y,this.componentDef,p,h,[W6]),tu(f,p,null)}finally{af()}return new M9(this.componentType,g,lc(m,p),p,m)}}class M9 extends class _9{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new C9(i),this.componentType=e}get injector(){return new Na(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Mi{}class HP{}const uc=new Map;class WP extends Mi{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new VP(this);const r=rr(e);this._bootstrapComponents=zr(r.bootstrap),this._r3Injector=NR(e,t,[{provide:Mi,useValue:this},{provide:_o,useValue:this.componentFactoryResolver}],Ce(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=st.THROW_IF_NOT_FOUND,r=ee.Default){return e===st||e===Mi||e===_v?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qv extends HP{constructor(e){super(),this.moduleType=e,null!==rr(e)&&function R9(n){const e=new Set;!function t(r){const i=rr(r,!0),s=i.id;null!==s&&(function $P(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Ce(e)} vs ${Ce(e.name)}`)}(s,uc.get(s),r),uc.set(s,r));const o=zr(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new WP(this.moduleType,e)}}function zP(n,e,t){const r=function vn(){const n=q.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}()+n,i=T();return i[r]===J?function Kr(n,e,t){return n[e]=t}(i,r,t?e.call(t):e()):function iu(n,e){return n[e]}(i,r)}function Kv(n){return e=>{setTimeout(n,void 0,e)}}const In=class Q9 extends Ur{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,c=t||(()=>null),l=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),c=null===(s=d.error)||void 0===s?void 0:s.bind(d),l=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(c=Kv(c),a&&(a=Kv(a)),l&&(l=Kv(l)));const u=super.subscribe({next:a,error:c,complete:l});return e instanceof xn&&e.add(u),u}};function Y9(){return this._results[Qa()]()}class Qv{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Qa(),r=Qv.prototype;r[t]||(r[t]=Y9)}get changes(){return this._changes||(this._changes=new In)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=ar(e);(this._changesDetected=!function K3(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ki=(()=>{class n{}return n.__NG_ELEMENT_ID__=Z9,n})();const X9=ki,J9=class extends X9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=eu(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),tu(t,r,e),new uu(r)}};function Z9(){return Kf(At(),T())}function Kf(n,e){return 4&n.type?new J9(e,n,lc(n,e)):null}let Sr=(()=>{class n{}return n.__NG_ELEMENT_ID__=e8,n})();function e8(){return e1(At(),T())}const t8=Sr,JP=class extends t8{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return lc(this._hostTNode,this._hostLView)}get injector(){return new Na(this._hostTNode,this._hostLView)}get parentInjector(){const e=pf(this._hostTNode,this._hostLView);if(UM(e)){const t=Ra(e,this._hostLView),r=ka(e);return new Na(t[1].data[r+8],t)}return new Na(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=ZP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function jl(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const c=o?e:new zv(sn(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule&&l){const d=l.get(Mi,null);d&&(s=d)}const u=c.create(l,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function f3(n){return vr(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new JP(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function wq(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],QM(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function Eq(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=qy(s,o),c=r[11],l=Cf(c,o[7]);return null!==l&&function yq(n,e,t,r,i,s){r[0]=i,r[6]=e,Zl(n,r,t,1,i,s)}(i,o[6],c,r,l,a),e.attachToViewContainerRef(),QM(Yv(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=ZP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Gy(this._lContainer,t);r&&(_f(Yv(this._lContainer),t),Pk(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Gy(this._lContainer,t);return r&&null!=_f(Yv(this._lContainer),t)?new uu(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function ZP(n){return n[8]}function Yv(n){return n[8]||(n[8]=[])}function e1(n,e){let t;const r=e[n.index];if(vr(r))t=r;else{let i;if(8&n.type)i=wt(r);else{const s=e[11];i=s.createComment("");const o=or(n,e);fo(s,Cf(s,o),i,function Dq(n,e){return rt(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=IR(r,e,i,n),Rf(e,t)}return new JP(t,n,e)}class Xv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Xv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Jv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==o1(e,t).matches&&this.queries[t].setDirty()}}class t1{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Zv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Zv(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class eb{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new eb(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,i8(t,s)),this.matchTNodeWithReadOption(e,t,mf(t,e,s,!1,!1))}else r===ki?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,mf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===xi||i===Sr||i===ki&&4&t.type)this.addMatch(t.index,-2);else{const s=mf(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function i8(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function o8(n,e,t,r){return-1===t?function s8(n,e){return 11&n.type?lc(n,e):4&n.type?Kf(n,e):null}(e,n):-2===t?function a8(n,e,t){return t===xi?lc(e,n):t===ki?Kf(e,n):t===Sr?e1(e,n):void 0}(n,e,r):Ul(n,n[1],t,e)}function n1(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:o8(e,s[l],o[c+1],t.metadata.read))}i.matches=a}return i.matches}function tb(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=n1(n,e,i,t);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&tb(h[1],h,l,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];tb(f[1],f,l,r)}}}}}return r}function nb(n){const e=T(),t=_e(),r=MM();hy(r+1);const i=o1(t,r);if(n.dirty&&TM(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?tb(t,e,r,[]):n1(t,e,i,r);n.reset(s,w9),n.notifyOnChanges()}return!0}return!1}function rb(n,e,t,r){const i=_e();if(i.firstCreatePass){const s=At();(function s1(n,e,t){null===n.queries&&(n.queries=new Zv),n.queries.track(new eb(e,t))})(i,new t1(e,t,r),s.index),function u8(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}!function r1(n,e,t){const r=new Qv(4==(4&t));gR(n,e,r,r.destroy),null===e[19]&&(e[19]=new Jv),e[19].queries.push(new Xv(r))}(i,T(),t)}function ib(){return function l8(n,e){return n[19].queries[e].queryList}(T(),MM())}function o1(n,e){return n.queries.getByIndex(e)}function Xf(...n){}const pu=new L("Application Initializer");let hc=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Xf,this.reject=Xf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Bf(s))t.push(s);else if(mN(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(x(pu,8))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const gu=new L("AppId"),x8={provide:gu,useFactory:function A8(){return`${ub()}${ub()}${ub()}`},deps:[]};function ub(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const I1=new L("Platform Initializer"),fc=new L("Platform ID"),T1=new L("appBootstrapListener");let C1=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const Ri=new L("LocaleId"),D1=new L("DefaultCurrencyCode");class M8{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Jf=(()=>{class n{compileModuleSync(t){return new qv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=zr(rr(t).declarations).reduce((o,a)=>{const c=sn(a);return c&&o.push(new zv(c)),o},[]);return new M8(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const R8=(()=>Promise.resolve(0))();function db(n){"undefined"==typeof Zone?R8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Be{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new In(!1),this.onMicrotaskEmpty=new In(!1),this.onStable=new In(!1),this.onError=new In(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function N8(){let n=Re.requestAnimationFrame,e=Re.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function F8(n){const e=()=>{!function O8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Re,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,fb(n),n.isCheckStableRunning=!0,hb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),fb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return S1(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),A1(n)}},onInvoke:(t,r,i,s,o,a,c)=>{try{return S1(n),t.invoke(i,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),A1(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,fb(n),hb(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Be.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Be.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,P8,Xf,Xf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const P8={};function hb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function fb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function S1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function A1(n){n._nesting--,hb(n)}class L8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new In,this.onMicrotaskEmpty=new In,this.onStable=new In,this.onError=new In}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let pb=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Be.assertNotInAngularZone(),db(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())db(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(x(Be))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),x1=(()=>{class n{constructor(){this._applications=new Map,gb.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return gb.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();class B8{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Ar,gb=new B8;const M1=new L("AllowMultipleToken");class k1{constructor(e,t){this.name=e,this.token=t}}function R1(n,e,t=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=N1();if(!o||o.injector.get(M1,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:yv,useValue:"platform"});!function H8(n){if(Ar&&!Ar.destroyed&&!Ar.injector.get(M1,!1))throw new Ee(400,"");Ar=n.get(P1);const e=n.get(I1,null);e&&e.forEach(t=>t())}(st.create({providers:a,name:r}))}return function $8(n){const e=N1();if(!e)throw new Ee(401,"");return e}()}}function N1(){return Ar&&!Ar.destroyed?Ar:null}let P1=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function G8(n,e){let t;return t="noop"===n?new L8:("zone.js"===n?void 0:n)||new Be({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),c=[{provide:Be,useValue:a}];return a.run(()=>{const l=st.create({providers:c,parent:this.injector,name:t.moduleType.name}),u=t.create(l),d=u.injector.get(Ci,null);if(!d)throw new Ee(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{mb(this._modules,u),h.unsubscribe()})}),function W8(n,e,t){try{const r=t();return Bf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=u.injector.get(hc);return h.runInitializers(),h.donePromise.then(()=>(function w7(n){jn(n,"Expected localeId to be defined"),"string"==typeof n&&(dP=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Ri,jf)||jf),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,r=[]){const i=O1({},r);return function V8(n,e,t){const r=new qv(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(mu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Ee(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(x(st))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();function O1(n,e){return Array.isArray(e)?e.reduce(O1,n):Object.assign(Object.assign({},n),e)}let mu=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new ke(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),c=new ke(l=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Be.assertNotInAngularZone(),db(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Be.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=function OW(...n){const e=xl(n),t=function AW(n,e){return"number"==typeof j_(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?mr(r[0]):Al(t)(zt(r,e)):bi}(a,c.pipe(oM()))}bootstrap(t,r){if(!this._initStatus.done)throw new Ee(405,"");let i;i=t instanceof FP?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function j8(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Mi),a=i.create(st.NULL,[],r||i.selector,s),c=a.location.nativeElement,l=a.injector.get(pb,null),u=l&&a.injector.get(x1);return l&&u&&u.registerApplication(c,l),a.onDestroy(()=>{this.detachView(a.hostView),mb(this.components,a),u&&u.unregisterApplication(c)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Ee(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;mb(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(T1,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(x(Be),x(st),x(Ci),x(_o),x(hc))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();function mb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let L1=!0,_b=(()=>{class n{}return n.__NG_ELEMENT_ID__=K8,n})();function K8(n){return function Q8(n,e,t){if(Zh(n)&&!t){const r=$n(n.index,e);return new uu(r,r)}return 47&n.type?new uu(e[16],e):null}(At(),T(),16==(16&n))}class G1{constructor(){}supports(e){return ru(e)}create(e){return new tK(e)}}const eK=(n,e)=>e;class tK{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||eK}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<z1(r,i,s)?t:r,a=z1(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ru(e))throw new Ee(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function t5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Qa()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new nK(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new W1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new W1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class nK{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class W1{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new rK,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function z1(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class q1{constructor(){}supports(e){return e instanceof Map||Cv(e)}create(){return new iK}}class iK{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Cv(e)))throw new Ee(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new sK(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class sK{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function K1(){return new _u([new G1])}let _u=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||K1()),deps:[[n,new uo,new De]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Ee(901,"")}}return n.\u0275prov=Q({token:n,providedIn:"root",factory:K1}),n})();function Q1(){return new pc([new q1])}let pc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Q1()),deps:[[n,new uo,new De]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(r)return r;throw new Ee(901,"")}}return n.\u0275prov=Q({token:n,providedIn:"root",factory:Q1}),n})();const oK=[new q1],cK=new _u([new G1]),lK=new pc(oK),uK=R1(null,"core",[{provide:fc,useValue:"unknown"},{provide:P1,deps:[st]},{provide:x1,deps:[]},{provide:C1,deps:[]}]),gK=[{provide:mu,useClass:mu,deps:[Be,st,Ci,_o,hc]},{provide:S9,deps:[Be],useFactory:function mK(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:hc,useClass:hc,deps:[[new De,pu]]},{provide:Jf,useClass:Jf,deps:[]},x8,{provide:_u,useFactory:function dK(){return cK},deps:[]},{provide:pc,useFactory:function hK(){return lK},deps:[]},{provide:Ri,useFactory:function fK(n){return n||function pK(){return"undefined"!=typeof $localize&&$localize.locale||jf}()},deps:[[new zl(Ri),new De,new uo]]},{provide:D1,useValue:"USD"}];let _K=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(x(mu))},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({providers:gK}),n})(),ep=null;function gs(){return ep}const at=new L("DocumentToken");let bo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:function(){return function wK(){return x(Y1)}()},providedIn:"platform"}),n})();const EK=new L("Location Initialized");let Y1=(()=>{class n extends bo{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gs().getBaseHref(this._doc)}onPopState(t){const r=gs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=gs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){X1()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){X1()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(x(at))},n.\u0275prov=Q({token:n,factory:function(){return function IK(){return new Y1(x(at))}()},providedIn:"platform"}),n})();function X1(){return!!window.history.pushState}function Eb(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function J1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ni(n){return n&&"?"!==n[0]?"?"+n:n}let gc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:function(){return function TK(n){const e=x(at).location;return new Z1(x(bo),e&&e.origin||"")}()},providedIn:"root"}),n})();const tp=new L("appBaseHref");let Z1=(()=>{class n extends gc{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Eb(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ni(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ni(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ni(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(x(bo),x(tp,8))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),CK=(()=>{class n extends gc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Eb(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ni(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ni(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(x(bo),x(tp,8))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),Ib=(()=>{class n{constructor(t,r){this._subject=new In,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=J1(eO(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ni(r))}normalize(t){return n.stripTrailingSlash(function SK(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,eO(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ni(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ni(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ni,n.joinWithSlash=Eb,n.stripTrailingSlash=J1,n.\u0275fac=function(t){return new(t||n)(x(gc),x(bo))},n.\u0275prov=Q({token:n,factory:function(){return function DK(){return new Ib(x(gc),x(bo))}()},providedIn:"root"}),n})();function eO(n){return n.replace(/\/index.html$/,"")}var Et=(()=>((Et=Et||{})[Et.Zero=0]="Zero",Et[Et.One=1]="One",Et[Et.Two=2]="Two",Et[Et.Few=3]="Few",Et[Et.Many=4]="Many",Et[Et.Other=5]="Other",Et))();const PK=function lP(n){return function En(n){const e=function _7(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=uP(e);if(t)return t;const r=e.split("-")[0];if(t=uP(r),t)return t;if("en"===r)return m7;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[O.PluralCase]};class dp{}let lQ=(()=>{class n extends dp{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(PK(r||this.locale)(t)){case Et.Zero:return"zero";case Et.One:return"one";case Et.Two:return"two";case Et.Few:return"few";case Et.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(x(Ri))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();class fQ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lO=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new fQ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),uO(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{uO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(V(Sr),V(ki),V(_u))},n.\u0275dir=rn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function uO(n,e){n.context.$implicit=e.item}let pO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({providers:[{provide:dp,useClass:lQ}]}),n})();const gO="browser";let zQ=(()=>{class n{}return n.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new qQ(x(at),window)}),n})();class qQ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function KQ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=mO(this.window.history)||mO(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function mO(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Fb extends class YQ extends class bK{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function vK(n){ep||(ep=n)}(new Fb)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function XQ(){return bu=bu||document.querySelector("base"),bu?bu.getAttribute("href"):null}();return null==t?null:function JQ(n){hp=hp||document.createElement("a"),hp.setAttribute("href",n);const e=hp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){bu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function uQ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let hp,bu=null;const _O=new L("TRANSITION_ID"),eY=[{provide:pu,useFactory:function ZQ(n,e,t){return()=>{t.get(hc).donePromise.then(()=>{const r=gs(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[_O,at,st],multi:!0}];class Lb{static init(){!function U8(n){gb=n}(new Lb)}addToWindow(e){Re.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Re.getAllAngularTestabilities=()=>e.getAllTestabilities(),Re.getAllAngularRootElements=()=>e.getAllRootElements(),Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(r=>{const i=Re.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?gs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let tY=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const fp=new L("EventManagerPlugins");let pp=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(x(fp),x(Be))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();class yO{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=gs().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let vO=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),wu=(()=>{class n extends vO{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(bO),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(bO))}}return n.\u0275fac=function(t){return new(t||n)(x(at))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();function bO(n){gs().remove(n)}const Bb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ub=/%COMP%/g;function gp(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?gp(n,i,t):(i=i.replace(Ub,n),t.push(i))}return t}function IO(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Vb=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new jb(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Vr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new aY(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Vr.ShadowDom:return new cY(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=gp(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(x(pp),x(wu),x(gu))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();class jb{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Bb[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Bb[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Bb[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(zn.DashCase|zn.Important)?e.style.setProperty(t,r,i&zn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&zn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,IO(r)):this.eventManager.addEventListener(e,t,IO(r))}}class aY extends jb{constructor(e,t,r,i){super(e),this.component=r;const s=gp(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function iY(n){return"_ngcontent-%COMP%".replace(Ub,n)}(i+"-"+r.id),this.hostAttr=function sY(n){return"_nghost-%COMP%".replace(Ub,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class cY extends jb{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=gp(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let lY=(()=>{class n extends yO{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(x(at))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const CO=["alt","control","meta","shift"],dY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DO={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hY={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fY=(()=>{class n extends yO{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gs().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(CO.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function pY(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&DO.hasOwnProperty(e)&&(e=DO[e]))}return dY[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),CO.forEach(s=>{s!=i&&hY[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(x(at))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const yY=R1(uK,"browser",[{provide:fc,useValue:gO},{provide:I1,useValue:function gY(){Fb.makeCurrent(),Lb.init()},multi:!0},{provide:at,useFactory:function _Y(){return function l3(n){ry=n}(document),document},deps:[]}]),vY=[{provide:yv,useValue:"root"},{provide:Ci,useFactory:function mY(){return new Ci},deps:[]},{provide:fp,useClass:lY,multi:!0,deps:[at,Be,fc]},{provide:fp,useClass:fY,multi:!0,deps:[at]},{provide:Vb,useClass:Vb,deps:[pp,wu,gu]},{provide:BP,useExisting:Vb},{provide:vO,useExisting:wu},{provide:wu,useClass:wu,deps:[at]},{provide:pb,useClass:pb,deps:[Be]},{provide:pp,useClass:pp,deps:[fp,Be]},{provide:class QQ{},useClass:tY,deps:[]}];let bY=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:gu,useValue:t.appId},{provide:_O,useExisting:gu},eY]}}}return n.\u0275fac=function(t){return new(t||n)(x(n,12))},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({providers:vY,imports:[pO,_K]}),n})(),SO=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(x(at))},n.\u0275prov=Q({token:n,factory:function(t){let r=null;return r=t?new t:function EY(){return new SO(x(at))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let Gb,$b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:function(t){let r=null;return r=t?new(t||n):x(MO),r},providedIn:"root"}),n})(),MO=(()=>{class n extends $b{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Ie.NONE:return r;case Ie.HTML:return Gr(r,"HTML")?Wn(r):yk(this._doc,String(r)).toString();case Ie.STYLE:return Gr(r,"Style")?Wn(r):r;case Ie.SCRIPT:if(Gr(r,"Script"))return Wn(r);throw new Error("unsafe value used in a script context");case Ie.URL:return uk(r),Gr(r,"URL")?Wn(r):Kl(String(r));case Ie.RESOURCE_URL:if(Gr(r,"ResourceURL"))return Wn(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function Cz(n){return new bz(n)}(t)}bypassSecurityTrustStyle(t){return function Dz(n){return new wz(n)}(t)}bypassSecurityTrustScript(t){return function Sz(n){return new Ez(n)}(t)}bypassSecurityTrustUrl(t){return function Az(n){return new Iz(n)}(t)}bypassSecurityTrustResourceUrl(t){return function xz(n){return new Tz(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(x(at))},n.\u0275prov=Q({token:n,factory:function(t){let r=null;return r=t?new t:function MY(n){return new MO(n.get(at))}(x(st)),r},providedIn:"root"}),n})(),kO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({}),n})();try{Gb="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Gb=!1}let NY=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function WQ(n){return n===gO}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Gb)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(x(fc))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HY=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({providers:[HY]}),n})();const BO="cdk-high-contrast-black-on-white",UO="cdk-high-contrast-white-on-black",zb="cdk-high-contrast-active";let VO=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(zb),t.remove(BO),t.remove(UO),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(zb),t.add(BO)):2===r&&(t.add(zb),t.add(UO))}}}return n.\u0275fac=function(t){return new(t||n)(x(NY),x(at))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XY=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(x(VO))},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({imports:[[PO]]}),n})();const ZY=new L("mat-sanity-checks",{providedIn:"root",factory:function JY(){return!0}});let _s=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function FY(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(x(VO),x(ZY,8),x(at))},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({imports:[[kO],kO]}),n})();function eX(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}let oX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({imports:[[_s],_s]}),n})();function W(...n){return zt(n,xl(n))}const{isArray:uX}=Array,{getPrototypeOf:dX,prototype:hX,keys:fX}=Object;function WO(n){if(1===n.length){const e=n[0];if(uX(e))return{args:e,keys:null};if(function pX(n){return n&&"object"==typeof n&&dX(n)===hX}(e)){const t=fX(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:gX}=Array;function zO(n){return pe(e=>function mX(n,e){return gX(e)?n(...e):n(e)}(n,e))}function qO(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function qt(n,e,t){const r=fe(n)||e||t?{next:n,error:e,complete:t}:n;return r?vt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new nt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):os}function Oi(n){return vt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(new nt(t,void 0,void 0,o=>{s=mr(n(o,Oi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function KO(n){return vt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function _c(n,e){return fe(e)?St(n,e,1):St(n,1)}function Fi(n,e){return vt((t,r)=>{let i=0;t.subscribe(new nt(r,s=>n.call(e,s,i++)&&r.next(s)))})}class yX{}class ys{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ys?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ys;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ys?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class vX{encodeKey(e){return QO(e)}encodeValue(e){return QO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const wX=/%(\d[a-f0-9])/gi,EX={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function QO(n){return encodeURIComponent(n).replace(wX,(e,t)=>{var r;return null!==(r=EX[t])&&void 0!==r?r:e})}function YO(n){return`${n}`}class vs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vX,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bX(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new vs({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(YO(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(YO(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class IX{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function XO(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function JO(n){return"undefined"!=typeof Blob&&n instanceof Blob}function ZO(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Tu{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function TX(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ys),this.context||(this.context=new IX),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new vs,this.urlWithParams=t}serializeBody(){return null===this.body?null:XO(this.body)||JO(this.body)||ZO(this.body)||function CX(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ZO(this.body)?null:JO(this.body)?this.body.type||null:XO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,u=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new Tu(r,i,o,{params:u,headers:l,context:d,reportProgress:c,responseType:s,withCredentials:a})}}var Kt=(()=>((Kt=Kt||{})[Kt.Sent=0]="Sent",Kt[Kt.UploadProgress=1]="UploadProgress",Kt[Kt.ResponseHeader=2]="ResponseHeader",Kt[Kt.DownloadProgress=3]="DownloadProgress",Kt[Kt.Response=4]="Response",Kt[Kt.User=5]="User",Kt))();class Kb extends class DX{constructor(e,t=200,r="OK"){this.headers=e.headers||new ys,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Kt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Kb({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Qb(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let tF=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Tu)s=t;else{let c,l;c=i.headers instanceof ys?i.headers:new ys(i.headers),i.params&&(l=i.params instanceof vs?i.params:new vs({fromObject:i.params})),s=new Tu(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=W(s).pipe(_c(c=>this.handler.handle(c)));if(t instanceof Tu||"events"===i.observe)return o;const a=o.pipe(Fi(c=>c instanceof Kb));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(pe(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(pe(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(pe(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(pe(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new vs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Qb(i,r))}post(t,r,i={}){return this.request("POST",t,Qb(i,r))}put(t,r,i={}){return this.request("PUT",t,Qb(i,r))}}return n.\u0275fac=function(t){return new(t||n)(x(yX))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const AX=["*"];let yp;function Cu(n){var e;return(null===(e=function xX(){if(void 0===yp&&(yp=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(yp=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return yp}())||void 0===e?void 0:e.createHTML(n))||n}function nF(n){return Error(`Unable to find icon with the name "${n}"`)}function rF(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function iF(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Eo{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let vp=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Eo(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const o=this._sanitizer.sanitize(Ie.HTML,i);if(!o)throw iF(i);const a=Cu(o);return this._addSvgIconConfig(t,r,new Eo("",a,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Eo(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(Ie.HTML,r);if(!s)throw iF(r);const o=Cu(s);return this._addSvgIconSetConfig(t,new Eo("",o,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Ie.RESOURCE_URL,t);if(!r)throw rF(t);const i=this._cachedIconsByUrl.get(r);return i?W(bp(i)):this._loadSvgIconFromConfig(new Eo(t,null)).pipe(qt(s=>this._cachedIconsByUrl.set(r,s)),pe(s=>bp(s)))}getNamedSvgIcon(t,r=""){const i=sF(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):function lX(n,e){const t=fe(n)?n:()=>n,r=i=>i.error(t());return new ke(e?i=>e.schedule(r,0,i):r)}(nF(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?W(bp(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(pe(r=>bp(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?W(i):function _X(...n){const e=iM(n),{args:t,keys:r}=WO(n),i=new ke(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;mr(t[u]).subscribe(new nt(s,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?qO(r,a):a),s.complete())}))}});return e?i.pipe(zO(e)):i}(r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Oi(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(Ie.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),W(null)})))).pipe(pe(()=>{const o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw nF(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(qt(r=>t.svgText=r),pe(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?W(null):this._fetchIcon(t).pipe(qt(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,i);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),i);const a=this._svgElementFromString(Cu("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Cu("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:o,value:a}=i[s];"id"!==o&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:s}=t,o=null!==(r=null==s?void 0:s.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function MX(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(Ie.RESOURCE_URL,i);if(!a)throw rF(i);const c=this._inProgressUrlFetches.get(a);if(c)return c;const l=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(pe(u=>Cu(u)),KO(()=>this._inProgressUrlFetches.delete(a)),oM());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(sF(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return RX(s)?new Eo(s.url,null,s.options):new Eo(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(x(tF,8),x($b),x(at,8),x(Ci))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bp(n){return n.cloneNode(!0)}function sF(n,e){return n+":"+e}function RX(n){return!(!n.url||!n.options)}const NX=eX(class{constructor(n){this._elementRef=n}}),PX=new L("mat-icon-location",{providedIn:"root",factory:function OX(){const n=Cy(at),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),oF=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],FX=oF.map(n=>`[${n}]`).join(", "),LX=/^url\(['"]?#(.*?)['"]?\)$/;let aF=(()=>{class n extends NX{constructor(t,r,i,s,o){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=xn.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=function aX(n){return null!=n&&"false"!=`${n}`}(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(FX),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)oF.forEach(o=>{const a=r[s],c=a.getAttribute(o),l=c?c.match(LX):null;if(l){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:o,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Ml(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(V(xi),V(vp),Pa("aria-hidden"),V(PX),V(Ci))},n.\u0275cmp=nr({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(Ff("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),Fv("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Iv],ngContentSelectors:AX,decls:1,vars:0,template:function(t,r){1&t&&(function bN(n){const e=T()[16][6];if(!e.projection){const r=e.projection=Hl(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?k5(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function wN(n,e=0,t){const r=T(),i=_e(),s=Ga(i,20+n,16,null,t||null);null===s.projection&&(s.projection=e),ly(),64!=(64&s.flags)&&function Sq(n,e,t){Wk(e[11],0,e,t,Ok(n,t,e),Uk(t.parent||e[6],t,e))}(i,r,s)}(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),BX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({imports:[[_s],_s]}),n})(),HX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({}),n})(),KX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({imports:[[pO,_s,HX,oX,PO,XY],_s]}),n})(),QX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({imports:[[_s],_s]}),n})(),YX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nr({type:n,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(t,r){1&t&&(B(0,"p"),Se(1,"page-not-found works!"),U())},styles:[""]}),n})(),XX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nr({type:n,selectors:[["app-portfolio"]],decls:2,vars:0,template:function(t,r){1&t&&(B(0,"p"),Se(1,"portfolio works!"),U())},styles:[""]}),n})(),JX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nr({type:n,selectors:[["app-about"]],decls:2,vars:0,template:function(t,r){1&t&&(B(0,"p"),Se(1,"about works!"),U())},styles:[""]}),n})(),ZX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nr({type:n,selectors:[["app-contacts"]],decls:2,vars:0,template:function(t,r){1&t&&(B(0,"p"),Se(1,"contacts works!"),U())},styles:[""]}),n})();class eJ{constructor(){this.name="",this.headline="",this.description="",this.skills="",this.technologies="",this.skillArr=[],this.techArr=[],this.cv_url="",this.phone="",this.email=""}}function lF(n,e,t,r,i,s,o){try{var a=n[s](o),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function w(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(c){lF(s,r,i,o,a,"next",c)}function a(c){lF(s,r,i,o,a,"throw",c)}o(void 0)})}}const D=function(n,e){if(!n)throw yc(e)},yc=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},uF=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},wp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uF(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new nJ;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dF=function(n){const e=uF(n);return wp.encodeByteArray(e,!0)},Ep=function(n){return dF(n).replace(/\./g,"")},Ip=function(n){try{return wp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rJ(n){return hF(void 0,n)}function hF(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!iJ(t)||(n[t]=hF(n[t],e[t]));return n}function iJ(n){return"__proto__"!==n}const Tp=()=>{try{return function sJ(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=n&&Ip(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},fF=n=>{const e=(n=>{var e,t;return null===(t=null===(e=Tp())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},pF=()=>{var n;return null===(n=Tp())||void 0===n?void 0:n.config};class vc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function gF(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ep(JSON.stringify({alg:"none",type:"JWT"})),Ep(JSON.stringify(o)),""].join(".")}function Qn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ew(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function tw(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function mF(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Io(){try{return"object"==typeof indexedDB}catch(n){return!1}}function Su(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function nw(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class kr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xr.prototype.create)}}class Xr{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function fJ(n,e){return n.replace(pJ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new kr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const pJ=/\{\$([^}]+)}/g;function Au(n){return JSON.parse(n)}function Rt(n){return JSON.stringify(n)}const Cp=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=Au(Ip(s[0])||""),t=Au(Ip(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch(s){}return{header:e,claims:t,data:r,signature:i}};function Bi(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function bc(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function _F(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Dp(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Sp(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(yF(s)&&yF(o)){if(!Sp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function yF(n){return null!==n&&"object"==typeof n}function rw(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class _J{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let l,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):d<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class vJ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function bJ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=iw),void 0===i.error&&(i.error=iw),void 0===i.complete&&(i.complete=iw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iw(){}function xu(n,e){return`${n} failed: ${e} argument `}const Ap=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function sw(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Nn(n){return n&&n._delegate?n._delegate:n}class Qt{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const To="[DEFAULT]";class SJ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new vc;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function xJ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:To})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=To){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return w(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=To){return this.instances.has(e)}getOptions(e=To){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===To?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=To){return this.component?this.component.multipleInstances?e:To:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class MJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SJ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ow=[];var ye=(()=>{return(n=ye||(ye={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",ye;var n})();const vF={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},kJ=ye.INFO,RJ={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},NJ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=RJ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Co{constructor(e){this.name=e,this._logLevel=kJ,this._logHandler=NJ,this._userLogHandler=null,ow.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?vF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}let bF,wF;const EF=new WeakMap,aw=new WeakMap,IF=new WeakMap,cw=new WeakMap,lw=new WeakMap;let uw={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return aw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||IF.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function jJ(n){return"function"==typeof n?function VJ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function FJ(){return wF||(wF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(dw(this),e),bs(EF.get(this))}:function(...e){return bs(n.apply(dw(this),e))}:function(e,...t){const r=n.call(dw(this),e,...t);return IF.set(r,e.sort?e.sort():[e]),bs(r)}}(n):(n instanceof IDBTransaction&&function BJ(n){if(aw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});aw.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function OJ(){return bF||(bF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,uw):n)}function bs(n){if(n instanceof IDBRequest)return function LJ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(bs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&EF.set(t,n)}).catch(()=>{}),lw.set(e,n),e}(n);if(cw.has(n))return cw.get(n);const e=jJ(n);return e!==n&&(cw.set(n,e),lw.set(e,n)),e}const dw=n=>lw.get(n),$J=["get","getKey","getAll","getAllKeys","count"],GJ=["put","add","delete","clear"],hw=new Map;function TF(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(hw.get(e))return hw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=GJ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!$J.includes(t))return;const s=function(){var o=w(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return hw.set(e,s),s}!function UJ(n){uw=n(uw)}(n=>N_(R_({},n),{get:(e,t,r)=>TF(e,t)||n.get(e,t,r),has:(e,t)=>!!TF(e,t)||n.has(e,t)}));class WJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function zJ(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const fw="@firebase/app",Do=new Co("@firebase/app"),xp="[DEFAULT]",yZ={[fw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},So=new Map,Mp=new Map;function vZ(n,e){try{n.container.addComponent(e)}catch(t){Do.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ln(n){const e=n.name;if(Mp.has(e))return Do.debug(`There were multiple attempts to register component ${e}.`),!1;Mp.set(e,n);for(const t of So.values())vZ(t,n);return!0}function Ao(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Ui=new Xr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wZ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}const wc="9.23.0";function DF(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:xp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ui.create("bad-app-name",{appName:String(i)});if(t||(t=pF()),!t)throw Ui.create("no-options");const s=So.get(i);if(s){if(Sp(t,s.options)&&Sp(r,s.config))return s;throw Ui.create("duplicate-app",{appName:i})}const o=new MJ(i);for(const c of Mp.values())o.addComponent(c);const a=new wZ(t,r,o);return So.set(i,a),a}function kp(n=xp){const e=So.get(n);if(!e&&n===xp&&pF())return DF();if(!e)throw Ui.create("no-app",{appName:n});return e}function SF(){return Array.from(So.values())}function Oe(n,e,t){var r;let i=null!==(r=yZ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Do.warn(a.join(" "))}ln(new Qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Mu="firebase-heartbeat-store";let NF,PF,gw=null;function AF(){return gw||(gw=function HJ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=bs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(bs(o.result),c.oldVersion,c.newVersion,bs(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Mu)}}).catch(n=>{throw Ui.create("idb-open",{originalErrorMessage:n.message})})),gw}function mw(){return(mw=w(function*(n){try{return yield(yield AF()).transaction(Mu).objectStore(Mu).get(MF(n))}catch(e){if(e instanceof kr)Do.warn(e.message);else{const t=Ui.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Do.warn(t.message)}}})).apply(this,arguments)}function xF(n,e){return _w.apply(this,arguments)}function _w(){return(_w=w(function*(n,e){try{const r=(yield AF()).transaction(Mu,"readwrite");yield r.objectStore(Mu).put(e,MF(n)),yield r.done}catch(t){if(t instanceof kr)Do.warn(t.message);else{const r=Ui.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});Do.warn(r.message)}}})).apply(this,arguments)}function MF(n){return`${n.name}!${n.options.appId}`}class SZ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xZ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return w(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return w(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=kF(),{heartbeatsToSend:r,unsentEntries:i}=function AZ(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),RF(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),RF(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ep(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function kF(){return(new Date).toISOString().substring(0,10)}class xZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(function*(){return!!Io()&&Su().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return w(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function TZ(n){return mw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return w(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return xF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return w(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return xF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function RF(n){return Ep(JSON.stringify({version:2,heartbeats:n})).length}!function MZ(n){ln(new Qt("platform-logger",e=>new WJ(e),"PRIVATE")),ln(new Qt("heartbeat",e=>new SZ(e),"PRIVATE")),Oe(fw,"0.9.13",n),Oe(fw,"0.9.13","esm2017"),Oe("fire-js","")}(""),Oe("firebase","9.23.0","app");const OF=new WeakMap,yw=new WeakMap,FF=new WeakMap,vw=new WeakMap,bw=new WeakMap;let ww={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return yw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||FF.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ws(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function VZ(n){return"function"==typeof n?function UZ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function OZ(){return PF||(PF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Ew(this),e),ws(OF.get(this))}:function(...e){return ws(n.apply(Ew(this),e))}:function(e,...t){const r=n.call(Ew(this),e,...t);return FF.set(r,e.sort?e.sort():[e]),ws(r)}}(n):(n instanceof IDBTransaction&&function LZ(n){if(yw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});yw.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function PZ(){return NF||(NF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ww):n)}function ws(n){if(n instanceof IDBRequest)return function FZ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ws(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&OF.set(t,n)}).catch(()=>{}),bw.set(e,n),e}(n);if(vw.has(n))return vw.get(n);const e=VZ(n);return e!==n&&(vw.set(n,e),bw.set(e,n)),e}const Ew=n=>bw.get(n),HZ=["get","getKey","getAll","getAllKeys","count"],$Z=["put","add","delete","clear"],Iw=new Map;function LF(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Iw.get(e))return Iw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=$Z.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!HZ.includes(t))return;const s=function(){var o=w(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return Iw.set(e,s),s}!function BZ(n){ww=n(ww)}(n=>N_(R_({},n),{get:(e,t,r)=>LF(e,t)||n.get(e,t,r),has:(e,t)=>!!LF(e,t)||n.has(e,t)}));const BF="@firebase/installations",VF="w:0.6.4",jF="FIS_v2",Vi=new Xr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function HF(n){return n instanceof kr&&n.code.includes("request-failed")}function Cw({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function $F(n){return{token:n.token,requestStatus:2,expiresIn:QZ(n.expiresIn),creationTime:Date.now()}}function Dw(n,e){return Sw.apply(this,arguments)}function Sw(){return(Sw=w(function*(n,e){const r=(yield e.json()).error;return Vi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function GF({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function WF(n,{refreshToken:e}){const t=GF(n);return t.append("Authorization",function YZ(n){return`${jF} ${n}`}(e)),t}function Aw(n){return xw.apply(this,arguments)}function xw(){return(xw=w(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function QZ(n){return Number(n.replace("s","000"))}function XZ(n,e){return Mw.apply(this,arguments)}function Mw(){return(Mw=w(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Cw(n),i=GF(n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:jF,appId:n.appId,sdkVersion:VF})},c=yield Aw(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:$F(l.authToken)}}throw yield Dw("Create Installation",c)})).apply(this,arguments)}function zF(n){return new Promise(e=>{setTimeout(e,n)})}const ZZ=/^[cdef][\w-]{21}$/;function eee(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function tee(n){return function JZ(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return ZZ.test(t)?t:""}catch(n){return""}}function Ec(n){return`${n.appName}!${n.appId}`}const Ic=new Map;function qF(n,e){const t=Ec(n);KF(t,e),function iee(n,e){const t=function QF(){return!xo&&"BroadcastChannel"in self&&(xo=new BroadcastChannel("[Firebase] FID Change"),xo.onmessage=n=>{KF(n.data.key,n.data.fid)}),xo}();t&&t.postMessage({key:n,fid:e}),function YF(){0===Ic.size&&xo&&(xo.close(),xo=null)}()}(t,e)}function KF(n,e){const t=Ic.get(n);if(t)for(const r of t)r(e)}let xo=null;const Mo="firebase-installations-store";let Rw=null;function Nw(){return Rw||(Rw=function jZ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ws(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ws(o.result),c.oldVersion,c.newVersion,ws(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Mo)}})),Rw}function Rp(n,e){return Pw.apply(this,arguments)}function Pw(){return(Pw=w(function*(n,e){const t=Ec(n),i=(yield Nw()).transaction(Mo,"readwrite"),s=i.objectStore(Mo),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&qF(n,e.fid),e})).apply(this,arguments)}function Ow(n){return Fw.apply(this,arguments)}function Fw(){return(Fw=w(function*(n){const e=Ec(n),r=(yield Nw()).transaction(Mo,"readwrite");yield r.objectStore(Mo).delete(e),yield r.done})).apply(this,arguments)}function ku(n,e){return Lw.apply(this,arguments)}function Lw(){return(Lw=w(function*(n,e){const t=Ec(n),i=(yield Nw()).transaction(Mo,"readwrite"),s=i.objectStore(Mo),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&qF(n,a.fid),a})).apply(this,arguments)}function Bw(n){return Uw.apply(this,arguments)}function Uw(){return(Uw=w(function*(n){let e;const t=yield ku(n.appConfig,r=>{const i=aee(r),s=cee(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function aee(n){return JF(n||{fid:eee(),registrationStatus:0})}function cee(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Vi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function lee(n,e){return Vw.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:uee(n)}:{installationEntry:e}}function Vw(){return(Vw=w(function*(n,e){try{const t=yield XZ(n,e);return Rp(n.appConfig,t)}catch(t){throw HF(t)&&409===t.customData.serverCode?yield Ow(n.appConfig):yield Rp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function uee(n){return jw.apply(this,arguments)}function jw(){return(jw=w(function*(n){let e=yield XF(n.appConfig);for(;1===e.registrationStatus;)yield zF(100),e=yield XF(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Bw(n);return r||t}return e})).apply(this,arguments)}function XF(n){return ku(n,e=>{if(!e)throw Vi.create("installation-not-found");return JF(e)})}function JF(n){return function dee(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function hee(n,e){return Hw.apply(this,arguments)}function Hw(){return(Hw=w(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=fee(n,t),i=WF(n,t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:VF,appId:n.appId}})},c=yield Aw(()=>fetch(r,a));if(c.ok)return $F(yield c.json());throw yield Dw("Generate Auth Token",c)})).apply(this,arguments)}function fee(n,{fid:e}){return`${Cw(n)}/${e}/authTokens:generate`}function $w(n){return Gw.apply(this,arguments)}function Gw(){return(Gw=w(function*(n,e=!1){let t;const r=yield ku(n.appConfig,s=>{if(!eL(s))throw Vi.create("not-registered");const o=s.authToken;if(!e&&mee(o))return s;if(1===o.requestStatus)return t=pee(n,e),s;{if(!navigator.onLine)throw Vi.create("app-offline");const a=yee(s);return t=gee(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function pee(n,e){return Ww.apply(this,arguments)}function Ww(){return(Ww=w(function*(n,e){let t=yield ZF(n.appConfig);for(;1===t.authToken.requestStatus;)yield zF(100),t=yield ZF(n.appConfig);const r=t.authToken;return 0===r.requestStatus?$w(n,e):r})).apply(this,arguments)}function ZF(n){return ku(n,e=>{if(!eL(e))throw Vi.create("not-registered");return function vee(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function gee(n,e){return zw.apply(this,arguments)}function zw(){return(zw=w(function*(n,e){try{const t=yield hee(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Rp(n.appConfig,r),t}catch(t){if(!HF(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Rp(n.appConfig,r)}else yield Ow(n.appConfig);throw t}})).apply(this,arguments)}function eL(n){return void 0!==n&&2===n.registrationStatus}function mee(n){return 2===n.requestStatus&&!function _ee(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function yee(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function qw(){return(qw=w(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Bw(e);return r?r.catch(console.error):$w(e).catch(console.error),t.fid})).apply(this,arguments)}function Kw(){return(Kw=w(function*(n,e=!1){const t=n;return yield Eee(t),(yield $w(t,e)).token})).apply(this,arguments)}function Eee(n){return Qw.apply(this,arguments)}function Qw(){return(Qw=w(function*(n){const{registrationPromise:e}=yield Bw(n);e&&(yield e)})).apply(this,arguments)}function Jw(n){return Vi.create("missing-app-config-values",{valueName:n})}const tL="installations",See=n=>{const e=n.getProvider("app").getImmediate(),t=function Cee(n){if(!n||!n.options)throw Jw("App Configuration");if(!n.name)throw Jw("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Jw(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Ao(e,"heartbeat"),_delete:()=>Promise.resolve()}},Aee=n=>{const t=Ao(n.getProvider("app").getImmediate(),tL).getImmediate();return{getId:()=>function bee(n){return qw.apply(this,arguments)}(t),getToken:i=>function wee(n){return Kw.apply(this,arguments)}(t,i)}};(function xee(){ln(new Qt(tL,See,"PUBLIC")),ln(new Qt("installations-internal",Aee,"PRIVATE"))})(),Oe(BF,"0.6.4"),Oe(BF,"0.6.4","esm2017");const Zw="@firebase/remote-config",Pn=new Xr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vee{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return w(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function jee(n=navigator){return n.languages&&n.languages[0]||n.language}class Hee{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return w(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:jee()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(o,l),d=new Promise((y,_)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",_(E)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(y){let _="fetch-client-network";throw"AbortError"===(null==y?void 0:y.name)&&(_="fetch-timeout"),Pn.create(_,{originalErrorMessage:null==y?void 0:y.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let y;try{y=yield h.json()}catch(_){throw Pn.create("fetch-client-parse",{originalErrorMessage:null==_?void 0:_.message})}g=y.entries,m=y.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw Pn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class Wee{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return w(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return w(function*(){yield function $ee(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Gee(n){if(!(n instanceof kr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+sw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Kee{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Pp(n,e){const t=n.target.error||void 0;return Pn.create(e,{originalErrorMessage:t&&(null==t?void 0:t.message)})}const ko="app_namespace_store";class Jee{constructor(e,t,r,i=function Xee(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Pp(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ko,{keyPath:"compositeKey"})}}catch(t){e(Pn.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return w(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ko],"readonly").objectStore(ko),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{s(Pp(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(l){s(Pn.create("storage-get",{originalErrorMessage:null==l?void 0:l.message}))}})})()}set(e,t){var r=this;return w(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([ko],"readwrite").objectStore(ko),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:t});u.onerror=d=>{o(Pp(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Pn.create("storage-set",{originalErrorMessage:null==u?void 0:u.message}))}})})()}delete(e){var t=this;return w(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ko],"readwrite").objectStore(ko),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{s(Pp(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Pn.create("storage-delete",{originalErrorMessage:null==l?void 0:l.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Zee{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return w(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function tte(){return iE.apply(this,arguments)}function iE(){return(iE=w(function*(){if(!Io())return!1;try{return yield Su()}catch(n){return!1}})).apply(this,arguments)}let sL,oL;!function ete(){ln(new Qt("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Pn.create("registration-window");if(!Io())throw Pn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Pn.create("registration-project-id");if(!o)throw Pn.create("registration-api-key");if(!a)throw Pn.create("registration-app-id");const c=new Jee(a,r.name,t=t||"firebase"),l=new Zee(c),u=new Co(Zw);u.logLevel=ye.ERROR;const d=new Hee(i,wc,t,s,o,a),h=new Wee(d,c),f=new Vee(h,c,l,u),p=new Kee(r,f,l,c,u);return function Lee(n){const e=Nn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Oe(Zw,"0.4.4"),Oe(Zw,"0.4.4","esm2017")}();const aL=new WeakMap,sE=new WeakMap,cL=new WeakMap,oE=new WeakMap,aE=new WeakMap;let cE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return sE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||cL.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ji(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function lte(n){return"function"==typeof n?function cte(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ite(){return oL||(oL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(lE(this),e),ji(aL.get(this))}:function(...e){return ji(n.apply(lE(this),e))}:function(e,...t){const r=n.call(lE(this),e,...t);return cL.set(r,e.sort?e.sort():[e]),ji(r)}}(n):(n instanceof IDBTransaction&&function ote(n){if(sE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});sE.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function rte(){return sL||(sL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,cE):n)}function ji(n){if(n instanceof IDBRequest)return function ste(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ji(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&aL.set(t,n)}).catch(()=>{}),aE.set(e,n),e}(n);if(oE.has(n))return oE.get(n);const e=lte(n);return e!==n&&(oE.set(n,e),aE.set(e,n)),e}const lE=n=>aE.get(n);function lL(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ji(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ji(o.result),c.oldVersion,c.newVersion,ji(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function uE(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),ji(t).then(()=>{})}const ute=["get","getKey","getAll","getAllKeys","count"],dte=["put","add","delete","clear"],dE=new Map;function uL(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(dE.get(e))return dE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=dte.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ute.includes(t))return;const s=function(){var o=w(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return dE.set(e,s),s}!function ate(n){cE=n(cE)}(n=>N_(R_({},n),{get:(e,t,r)=>uL(e,t)||n.get(e,t,r),has:(e,t)=>!!uL(e,t)||n.has(e,t)}));const hte="/firebase-messaging-sw.js",fte="/firebase-cloud-messaging-push-scope",dL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hL="google.c.a.c_id",gte="google.c.a.c_l",mte="google.c.a.ts",_te="google.c.a.e";var Tc=(()=>{return(n=Tc||(Tc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Tc;var n})();function Hi(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yte(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const hE="fcm_token_details_db",fL="fcm_token_object_Store";function bte(n){return fE.apply(this,arguments)}function fE(){return fE=w(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(hE))return null;let e=null;return(yield lL(hE,5,{upgrade:(r=w(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(fL))return;const l=a.objectStore(fL),u=yield l.index("fcmSenderId").get(n);if(yield l.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Hi(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Hi(d.auth),p256dh:Hi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Hi(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Hi(d.auth),p256dh:Hi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Hi(d.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield uE(hE),yield uE("fcm_vapid_details_db"),yield uE("undefined"),wte(e)?e:null;var r}),fE.apply(this,arguments)}function wte(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ro="firebase-messaging-store";let pE=null;function gE(){return pE||(pE=lL("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ro)}})),pE}function pL(n){return mE.apply(this,arguments)}function mE(){return(mE=w(function*(n){const e=bE(n),r=yield(yield gE()).transaction(Ro).objectStore(Ro).get(e);if(r)return r;{const i=yield bte(n.appConfig.senderId);if(i)return yield _E(n,i),i}})).apply(this,arguments)}function _E(n,e){return yE.apply(this,arguments)}function yE(){return(yE=w(function*(n,e){const t=bE(n),i=(yield gE()).transaction(Ro,"readwrite");return yield i.objectStore(Ro).put(e,t),yield i.done,e})).apply(this,arguments)}function Tte(n){return vE.apply(this,arguments)}function vE(){return(vE=w(function*(n){const e=bE(n),r=(yield gE()).transaction(Ro,"readwrite");yield r.objectStore(Ro).delete(e),yield r.done})).apply(this,arguments)}function bE({appConfig:n}){return n.appId}const Yt=new Xr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Dte(n,e){return wE.apply(this,arguments)}function wE(){return(wE=w(function*(n,e){const t=yield CE(n),r=mL(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(TE(n.appConfig),i)).json()}catch(o){throw Yt.create("token-subscribe-failed",{errorInfo:null==o?void 0:o.toString()})}if(s.error)throw Yt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Yt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Ste(n,e){return EE.apply(this,arguments)}function EE(){return(EE=w(function*(n,e){const t=yield CE(n),r=mL(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${TE(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw Yt.create("token-update-failed",{errorInfo:null==o?void 0:o.toString()})}if(s.error)throw Yt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Yt.create("token-update-no-token");return s.token})).apply(this,arguments)}function gL(n,e){return IE.apply(this,arguments)}function IE(){return(IE=w(function*(n,e){const r={method:"DELETE",headers:yield CE(n)};try{const s=yield(yield fetch(`${TE(n.appConfig)}/${e}`,r)).json();if(s.error)throw Yt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Yt.create("token-unsubscribe-failed",{errorInfo:null==i?void 0:i.toString()})}})).apply(this,arguments)}function TE({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function CE(n){return DE.apply(this,arguments)}function DE(){return(DE=w(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function mL({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==dL&&(i.web.applicationPubKey=r),i}function xte(n){return SE.apply(this,arguments)}function SE(){return(SE=w(function*(n){const e=yield kte(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Hi(e.getKey("auth")),p256dh:Hi(e.getKey("p256dh"))},r=yield pL(n.firebaseDependencies);if(r){if(Rte(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?Mte(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield gL(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return yL(n.firebaseDependencies,t)}return yL(n.firebaseDependencies,t)})).apply(this,arguments)}function _L(n){return AE.apply(this,arguments)}function AE(){return(AE=w(function*(n){const e=yield pL(n.firebaseDependencies);e&&(yield gL(n.firebaseDependencies,e.token),yield Tte(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function Mte(n,e){return xE.apply(this,arguments)}function xE(){return(xE=w(function*(n,e){try{const t=yield Ste(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield _E(n.firebaseDependencies,r),t}catch(t){throw yield _L(n),t}})).apply(this,arguments)}function yL(n,e){return ME.apply(this,arguments)}function ME(){return(ME=w(function*(n,e){const r={token:yield Dte(n,e),createTime:Date.now(),subscriptionOptions:e};return yield _E(n,r),r.token})).apply(this,arguments)}function kte(n,e){return kE.apply(this,arguments)}function kE(){return(kE=w(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yte(e)})})).apply(this,arguments)}function Rte(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function vL(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Nte(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function Pte(n,e){!e.data||(n.data=e.data)}(e,n),function Ote(n,e){var t,r,i,s,o;if(!e.fcmOptions&&!(null===(t=e.notification)||void 0===t?void 0:t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function Fte(n){return"object"==typeof n&&!!n&&hL in n}function bL(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function RE(n){return Yt.create("missing-app-config-values",{valueName:n})}bL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bte{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Lte(n){if(!n||!n.options)throw RE("App Configuration Object");if(!n.name)throw RE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw RE(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function wL(n){return NE.apply(this,arguments)}function NE(){return(NE=w(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(hte,{scope:fte}),n.swRegistration.update().catch(()=>{})}catch(e){throw Yt.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}})).apply(this,arguments)}function Ute(n,e){return PE.apply(this,arguments)}function PE(){return(PE=w(function*(n,e){if(!e&&!n.swRegistration&&(yield wL(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Yt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Vte(n,e){return OE.apply(this,arguments)}function OE(){return(OE=w(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=dL)})).apply(this,arguments)}function FE(){return(FE=w(function*(n,e){if(!navigator)throw Yt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yt.create("permission-blocked");return yield Vte(n,null==e?void 0:e.vapidKey),yield Ute(n,null==e?void 0:e.serviceWorkerRegistration),xte(n)})).apply(this,arguments)}function jte(n,e,t){return LE.apply(this,arguments)}function LE(){return(LE=w(function*(n,e,t){const r=Hte(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[hL],message_name:t[gte],message_time:t[mte],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Hte(n){switch(n){case Tc.NOTIFICATION_CLICKED:return"notification_open";case Tc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function BE(){return(BE=w(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Tc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(vL(t)):n.onMessageHandler.next(vL(t)));const r=t.data;Fte(r)&&"1"===r[_te]&&(yield jte(n,t.messageType,r))})).apply(this,arguments)}const IL="@firebase/messaging",Gte=n=>{const e=new Bte(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function $te(n,e){return BE.apply(this,arguments)}(e,t)),e},Wte=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function EL(n,e){return FE.apply(this,arguments)}(e,r)}};function CL(){return UE.apply(this,arguments)}function UE(){return(UE=w(function*(){try{yield Su()}catch(n){return!1}return"undefined"!=typeof window&&Io()&&nw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zte(){ln(new Qt("messaging",Gte,"PUBLIC")),ln(new Qt("messaging-internal",Wte,"PRIVATE")),Oe(IL,"0.12.4"),Oe(IL,"0.12.4","esm2017")}();const Op="analytics",Qte="firebase_id",Jte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",HE="https://www.googletagmanager.com/gtag/js",Lt=new Co("@firebase/analytics"),Cn=new Xr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ene(n){if(!n.startsWith(HE)){const e=Cn.create("invalid-gtag-resource",{gtagURL:n});return Lt.warn(e.message),""}return n}function DL(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function nne(n,e){const t=function tne(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:ene}),r=document.createElement("script"),i=`${HE}?l=${n}&id=${e}`;r.src=t?null==t?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function ine(n,e,t,r,i,s){return $E.apply(this,arguments)}function $E(){return($E=w(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield DL(t)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Lt.error(a)}n("config",i,s)})).apply(this,arguments)}function sne(n,e,t,r,i){return GE.apply(this,arguments)}function GE(){return(GE=w(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield DL(t);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Lt.error(s)}})).apply(this,arguments)}function cne(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(HE)&&t.src.includes(n))return t;return null}const SL=new class dne{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function hne(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function fne(n){return WE.apply(this,arguments)}function WE(){return(WE=w(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:hne(r)},s=Jte.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();(null===(e=c.error)||void 0===e?void 0:e.message)&&(a=c.error.message)}catch(c){}throw Cn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function pne(n){return zE.apply(this,arguments)}function zE(){return(zE=w(function*(n,e=SL,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Cn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Cn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new _ne;return setTimeout(w(function*(){a.abort()}),void 0!==t?t:6e4),AL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function AL(n,e,t){return qE.apply(this,arguments)}function qE(){return(qE=w(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=SL){var s;const{appId:o,measurementId:a}=n;try{yield gne(r,e)}catch(c){if(a)return Lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==c?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield fne(n);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!mne(l)){if(i.deleteThrottleMetadata(o),a)return Lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=null==l?void 0:l.customData)||void 0===s?void 0:s.httpStatus)?sw(t,i.intervalMillis,30):sw(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,d),Lt.debug(`Calling attemptFetch again in ${u} millis`),AL(n,d,r,i)}})).apply(this,arguments)}function gne(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mne(n){if(!(n instanceof kr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class _ne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let KE,tI;function QE(){return(QE=w(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function XE(){return(XE=w(function*(n,e,t,r){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();n("config",yield e,{update:!0,user_id:t})})).apply(this,arguments)}function xL(n){tI=n}function ML(n){KE=n}function Tne(){return nI.apply(this,arguments)}function nI(){return(nI=w(function*(){if(!Io())return Lt.warn(Cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Su()}catch(n){return Lt.warn(Cn.create("indexeddb-unavailable",{errorInfo:null==n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function rI(){return(rI=w(function*(n,e,t,r,i,s,o){var a;const c=pne(n);c.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Lt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Lt.error(f)),e.push(c);const l=Tne().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([c,l]);cne(s)||nne(s,u.measurementId),tI&&(i("consent","default",tI),xL(void 0)),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Qte]=d),i("config",u.measurementId,h),KE&&(i("set",KE),ML(void 0)),u.measurementId})).apply(this,arguments)}class Dne{constructor(e){this.app=e}_delete(){return delete Jr[this.app.options.appId],Promise.resolve()}}let Jr={},kL=[];const RL={};let PL,Zr,Fp="dataLayer",iI=!1;function Ane(n,e,t){!function Sne(){const n=[];if(tw()&&n.push("This is a browser extension environment."),nw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Cn.create("invalid-analytics-context",{errorInfo:e});Lt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Cn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Cn.create("no-api-key");Lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Jr[r])throw Cn.create("already-exists",{id:r});if(!iI){!function rne(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Fp);const{wrappedGtag:s,gtagCore:o}=function ane(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function one(n,e,t,r){function s(){return(s=w(function*(o,...a){try{if("event"===o){const[c,l]=a;yield sne(n,e,t,c,l)}else if("config"===o){const[c,l]=a;yield ine(n,e,t,r,c,l)}else if("consent"===o){const[c]=a;n("consent","update",c)}else if("get"===o){const[c,l,u]=a;n("get",c,l,u)}else if("set"===o){const[c]=a;n("set",c)}else n(o,...a)}catch(c){Lt.error(c)}})).apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Jr,kL,RL,Fp,"gtag");Zr=s,PL=o,iI=!0}return Jr[r]=function Cne(n,e,t,r,i,s,o){return rI.apply(this,arguments)}(n,kL,RL,e,PL,Fp,t),new Dne(n)}function xne(n=kp()){const e=Ao(n=Nn(n),Op);return e.isInitialized()?e.getImmediate():function Mne(n,e={}){const t=Ao(n,Op);if(t.isInitialized()){const i=t.getImmediate();if(Sp(e,t.getOptions()))return i;throw Cn.create("already-initialized")}return t.initialize({options:e})}(n)}function kne(){return sI.apply(this,arguments)}function sI(){return(sI=w(function*(){if(tw()||!nw()||!Io())return!1;try{return yield Su()}catch(n){return!1}})).apply(this,arguments)}function Rne(n,e,t){n=Nn(n),function bne(n,e,t,r){return XE.apply(this,arguments)}(Zr,Jr[n.app.options.appId],e,t).catch(r=>Lt.error(r))}function OL(n,e,t,r){n=Nn(n),function yne(n,e,t,r,i){return QE.apply(this,arguments)}(Zr,Jr[n.app.options.appId],e,t,r).catch(i=>Lt.error(i))}const FL="@firebase/analytics";!function Nne(){ln(new Qt(Op,(e,{options:t})=>Ane(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),ln(new Qt("analytics-internal",function n(e){try{const t=e.getProvider(Op).getImmediate();return{logEvent:(r,i,s)=>OL(t,r,i,s)}}catch(t){throw Cn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Oe(FL,"0.10.0"),Oe(FL,"0.10.0","esm2017")}();class Pne extends xn{constructor(e,t){super()}schedule(e,t=0){return this}}const Lp={setInterval(...n){const{delegate:e}=Lp;return((null==e?void 0:e.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:e}=Lp;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class BL extends Pne{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Lp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;Lp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ia(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const UL={now:()=>(UL.delegate||Date).now(),delegate:void 0};class Ru{constructor(e,t=Ru.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Ru.now=UL.now;class VL extends Ru{constructor(e,t=Ru.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Lne=new class Fne extends VL{}(class One extends BL{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),Bne=new VL(BL),No=new yo("7.6.1"),aI="__angularfire_symbol__analyticsIsSupportedValue",cI="__angularfire_symbol__analyticsIsSupported",lI="__angularfire_symbol__remoteConfigIsSupportedValue",uI="__angularfire_symbol__remoteConfigIsSupported",dI="__angularfire_symbol__messagingIsSupportedValue",hI="__angularfire_symbol__messagingIsSupported";globalThis[cI]||(globalThis[cI]=kne().then(n=>globalThis[aI]=n).catch(()=>globalThis[aI]=!1)),globalThis[hI]||(globalThis[hI]=CL().then(n=>globalThis[dI]=n).catch(()=>globalThis[dI]=!1)),globalThis[uI]||(globalThis[uI]=tte().then(n=>globalThis[lI]=n).catch(()=>globalThis[lI]=!1));const Bp={async:()=>globalThis[cI],sync:()=>{const n=globalThis[aI];if(void 0===n)throw new Error((n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`)("Analytics"));return n}};function Nu(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const Pu=(n,e)=>{const t=e?[e]:SF(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Cc(){}class jL{constructor(e,t=Lne){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Une{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cc,{},Cc,Cc)),t.pipe(qt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Up=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new jL(Zone.current)),this.insideAngular=t.run(()=>new jL(Zone.current,Bne)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(x(Be))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Po(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Vne(n){return Po().ngZone.runOutsideAngular(()=>n())}function Oo(n){return Po().ngZone.run(()=>n())}function jne(n){return Po(),function Hne(n){return function(t){return(t=t.lift(new Une(n.ngZone))).pipe(zh(n.outsideAngular),Wh(n.insideAngular))}}(Po())(n)}const $ne=(n,e)=>{const t=void 0;return function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Oo(()=>n.apply(t,r))}},ei=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Oo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cc,{},Cc,Cc)))),r[s]=$ne(r[s],t));const i=Vne(()=>n.apply(this,r));if(!e){if(i instanceof ke){const s=Po();return i.pipe(zh(s.outsideAngular),Wh(s.insideAngular))}return Oo(()=>i)}return i instanceof ke?i.pipe(jne):i instanceof Promise?Oo(()=>new Promise((s,o)=>i.then(a=>Oo(()=>s(a)),a=>Oo(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Oo(()=>i)};class Es{constructor(e){return e}}class Vp{constructor(){return SF()}}const pI=new L("angularfire2._apps"),Wne={provide:Es,useFactory:function Gne(n){return n&&1===n.length?n[0]:new Es(kp())},deps:[[new De,pI]]},zne={provide:Vp,deps:[[new De,pI]]};function qne(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Es(r)}}let Kne=(()=>{class n{constructor(t){Oe("angularfire",No.full,"core"),Oe("angularfire",No.full,"app"),Oe("angular",UP.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(x(fc))},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({providers:[Wne,zne]}),n})();function Qne(n,...e){return{ngModule:Kne,providers:[{provide:pI,useFactory:qne(n),multi:!0,deps:[Be,st,Up,...e]}]}}const Yne=ei(DF,!0);function _I(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}"function"==typeof SuppressedError&&SuppressedError;const vre=function GL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},WL=new Xr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),jp=new Co("@firebase/auth");function Hp(n,...e){jp.logLevel<=ye.ERROR&&jp.error(`Auth (${wc}): ${n}`,...e)}function On(n,...e){throw bI(n,...e)}function ti(n,...e){return bI(n,...e)}function zL(n,e,t){const r=Object.assign(Object.assign({},vre()),{[e]:t});return new Xr("auth","Firebase",r).create(e,{appName:n.name})}function bI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return WL.create(n,...e)}function S(n,e,...t){if(!n)throw bI(e,...t)}function ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hp(e),new Error(e)}function Is(n,e){n||ni(e)}function qL(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Lu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Is(t>e,"Short delay should be less than long delay!"),this.isMobile=ew()||mF()}get(){return function wre(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function wI(){return"http:"===qL()||"https:"===qL()}()||tw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class KL{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ire={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Tre=new Lu(3e4,6e4);function Ze(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ct(n,e,t,r){return II.apply(this,arguments)}function II(){return(II=w(function*(n,e,t,r,i={}){return QL(n,i,w(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=rw(Object.assign({key:n.config.apiKey},o)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),KL.fetch()(YL(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function QL(n,e,t){return TI.apply(this,arguments)}function TI(){return(TI=w(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ire),e);try{const i=new Cre(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Bu(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Bu(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Bu(n,"email-already-in-use",o);if("USER_DISABLED"===c)throw Bu(n,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw zL(n,u,l);On(n,u)}}catch(i){if(i instanceof kr)throw i;On(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function YL(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function EI(n,e){Is(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class Cre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),Tre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bu(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ti(n,e,r);return i.customData._tokenResponse=t,i}function DI(){return(DI=w(function*(n,e){return ct(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Are(n,e){return AI.apply(this,arguments)}function AI(){return(AI=w(function*(n,e){return ct(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Uu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function xI(){return(xI=w(function*(n,e=!1){const t=Nn(n),r=yield t.getIdToken(e),i=$p(r);S(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Uu(MI(i.auth_time)),issuedAtTime:Uu(MI(i.iat)),expirationTime:Uu(MI(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function MI(n){return 1e3*Number(n)}function $p(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Hp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ip(t);return i?JSON.parse(i):(Hp("Failed to decode base64 JWT payload"),null)}catch(i){return Hp("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}function Gi(n,e){return kI.apply(this,arguments)}function kI(){return(kI=w(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof kr&&kre(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function kre({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Rre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(w(function*(){yield t.iteration()}),r)}iteration(){var e=this;return w(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class XL{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vu(n){return RI.apply(this,arguments)}function RI(){return(RI=w(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Gi(n,Are(t,{idToken:r}));S(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?Ore(s.providerUserInfo):[],a=Pre(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new XL(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function NI(){return(NI=w(function*(n){const e=Nn(n);yield Vu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Pre(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ore(n){return n.map(e=>{var{providerId:t}=e,r=_I(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function PI(){return(PI=w(function*(n,e){const t=yield QL(n,{},w(function*(){const r=rw({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=YL(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",KL.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(void 0!==e.idToken,"internal-error"),S(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function Mre(n){const e=$p(n);return S(e,"internal-error"),S(void 0!==e.exp,"internal-error"),S(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return w(function*(){return S(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return w(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Fre(n,e){return PI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new ju;return r&&(S("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(S("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(S("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ju,this.toJSON())}_performRefresh(){return ni("not implemented")}}function Ts(n,e){S("string"==typeof n||void 0===n,"internal-error",{appName:e})}class Fo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=_I(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new XL(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return w(function*(){const r=yield Gi(t,t.stsTokenManager.getToken(t.auth,e));return S(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function xre(n){return xI.apply(this,arguments)}(this,e)}reload(){return function Nre(n){return NI.apply(this,arguments)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return w(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Vu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return w(function*(){const t=yield e.getIdToken();return yield Gi(e,function Dre(n,e){return DI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,l,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,_=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:E,emailVerified:N,isAnonymous:$,providerData:ne,stsTokenManager:Ke}=t;S(E&&Ke,e,"internal-error");const tr=ju.fromJSON(this.name,Ke);S("string"==typeof E,e,"internal-error"),Ts(d,e.name),Ts(h,e.name),S("boolean"==typeof N,e,"internal-error"),S("boolean"==typeof $,e,"internal-error"),Ts(f,e.name),Ts(p,e.name),Ts(g,e.name),Ts(m,e.name),Ts(y,e.name),Ts(_,e.name);const yi=new Fo({uid:E,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:tr,createdAt:y,lastLoginAt:_});return ne&&Array.isArray(ne)&&(yi.providerData=ne.map(jh=>Object.assign({},jh))),m&&(yi._redirectEventId=m),yi}static _fromIdTokenResponse(e,t,r=!1){return w(function*(){const i=new ju;i.updateFromServerResponse(t);const s=new Fo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vu(s),s})()}}const JL=new Map;function Wi(n){Is(n instanceof Function,"Expected a class definition");let e=JL.get(n);return e?(Is(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,JL.set(n,e),e)}const ZL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(function*(){return!0})()}_set(t,r){var i=this;return w(function*(){i.storage[t]=r})()}_get(t){var r=this;return w(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return w(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Gp(n,e,t){return`firebase:${n}:${e}:${t}`}class Sc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return w(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Fo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return w(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(function*(){if(!t.length)return new Sc(Wi(ZL),e,r);const i=(yield Promise.all(t.map(function(){var l=w(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Wi(ZL);const o=Gp(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=yield l._get(o);if(u){const d=Fo._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch(u){}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=w(function*(u){if(u!==s)try{yield u._remove(o)}catch(d){}});return function(u){return l.apply(this,arguments)}}())),new Sc(s,e,r)):new Sc(s,e,r)})()}}function e2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function r2(n=Qn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function t2(n=Qn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function s2(n=Qn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function o2(n=Qn()){return/webos/i.test(n)}(e))return"Webos";if(function OI(n=Qn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function n2(n=Qn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function i2(n=Qn()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function a2(n,e=[]){let t;switch(n){case"Browser":t=e2(Qn());break;case"Worker":t=`${e2(Qn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wc}/${r}`}function c2(n,e){return LI.apply(this,arguments)}function LI(){return(LI=w(function*(n,e){return ct(n,"GET","/v2/recaptchaConfig",Ze(n,e))})).apply(this,arguments)}function u2(n){return void 0!==n&&void 0!==n.enterprise}class d2{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class f2{constructor(e){this.type="recaptcha-enterprise",this.auth=Bt(e)}verify(e="verify",t=!1){var r=this;return w(function*(){function s(){return s=w(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=w(function*(l,u){c2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new d2(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;u2(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!t&&u2(window.grecaptcha))o(l,a,c);else{if("undefined"==typeof window)return void c(new Error("RecaptchaVerifier is only supported in browser"));(function BI(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ti("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function Vre(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}class Gre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return w(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch(o){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null==i?void 0:i.message})}})()}}class Wre{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p2(this),this.idTokenSubscription=new p2(this),this.beforeStateQueue=new Gre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Wi(t)),this._initializationPromise=this.queue(w(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Sc.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return w(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return w(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=null==s?void 0:s._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&(null==l?void 0:l.user)&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return S(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return w(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return w(function*(){try{yield Vu(e)}catch(r){if("auth/network-request-failed"!==(null==r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ere(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return w(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return w(function*(){const r=e?Nn(e):null;return r&&S(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return w(function*(){if(!r._deleted)return e&&S(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(w(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return w(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(w(function*(){yield t.assertedPersistence.setPersistence(Wi(e))}))}initializeRecaptchaConfig(){var e=this;return w(function*(){const t=yield c2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new d2(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new f2(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return w(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return w(function*(){if(!t.redirectPersistenceManager){const r=e&&Wi(e)||t._popupRedirectResolver;S(r,t,"argument-error"),t.redirectPersistenceManager=yield Sc.create(t,[Wi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return w(function*(){var r,i;return t._isInitialized&&(yield t.queue(w(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return w(function*(){if(e===t.currentUser)return t.queue(w(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return S(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return w(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=a2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return w(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return w(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return(null==r?void 0:r.error)&&function bre(n,...e){jp.logLevel<=ye.WARN&&jp.warn(`Auth (${wc}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),null==r?void 0:r.token})()}}function Bt(n){return Nn(n)}class p2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function yJ(n,e){const t=new vJ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function h2(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Lu(3e4,6e4),new Lu(2e3,1e4),new Lu(3e4,6e4),new Lu(5e3,15e3),encodeURIComponent("fac");var $2="@firebase/auth";class Bse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return w(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((null==r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Gse(n){return new ke(function(e){var t=function Die(n,e,t,r){return Nn(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}Tp(),function Vse(n){ln(new Qt("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;S(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a2(n)},l=new Wre(r,i,s,c);return function qre(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Wi);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ln(new Qt("auth-internal",e=>{const t=Bt(e.getProvider("auth").getImmediate());return new Bse(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe($2,"0.23.2",function Use(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Oe($2,"0.23.2","esm2017")}("Browser");class rg{constructor(e){return e}}class TC{constructor(){return Pu("auth")}}const Qse=ei(Gse,!0),DC=new Map,q2={activated:!1,tokenObservers:[]},Yse={initialized:!1,enabled:!1};function lt(n){return DC.get(n)||Object.assign({},q2)}function ig(){return Yse}class noe{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return w(function*(){t.stop();try{t.pending=new vc,yield function roe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new vc,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Xt=new Xr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function AC(n){if(!lt(n).activated)throw Xt.create("use-before-activation",{appName:n.name})}function ag(n,e){return MC.apply(this,arguments)}function MC(){return MC=w(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw Xt.create("fetch-network-error",{originalErrorMessage:null==d?void 0:d.message})}if(200!==o.status)throw Xt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Xt.create("fetch-parse-error",{originalErrorMessage:null==d?void 0:d.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Xt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),MC.apply(this,arguments)}function Q2(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const zu="firebase-app-check-store";let cg=null;function X2(){return cg||(cg=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Xt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(zu,{keyPath:"compositeKey"})}}catch(t){e(Xt.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}}),cg)}function kC(){return kC=w(function*(n,e){const r=(yield X2()).transaction(zu,"readwrite"),s=r.objectStore(zu).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(Xt.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),kC.apply(this,arguments)}const qu=new Co("@firebase/app-check");function PC(n,e){return Io()?function uoe(n,e){return function J2(n,e){return kC.apply(this,arguments)}(function eB(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{qu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function FC(){return ig().enabled}function LC(){return BC.apply(this,arguments)}function BC(){return BC=w(function*(){const n=ig();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),BC.apply(this,arguments)}const moe={error:"UNKNOWN_ERROR"};function _oe(n){return wp.encodeString(JSON.stringify(n),!1)}function lg(n){return UC.apply(this,arguments)}function UC(){return UC=w(function*(n,e=!1){const t=n.app;AC(t);const r=lt(t);let s,i=r.token;if(i&&!xc(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(xc(c)?i=c:yield PC(t,void 0))}if(!e&&i&&xc(i))return{token:i.token};let a,o=!1;if(FC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ag(Q2(t,yield LC()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield PC(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield lt(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?qu.warn(c.message):qu.error(c),s=c}return i?s?a=xc(i)?{token:i.token,internalError:s}:iB(s):(a={token:i.token},r.token=i,yield PC(t,i)):a=iB(s),o&&rB(t,a),a}),UC.apply(this,arguments)}function VC(){return VC=w(function*(n){const e=n.app;AC(e);const{provider:t}=lt(e);if(FC()){const r=yield LC(),{token:i}=yield ag(Q2(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),VC.apply(this,arguments)}function HC(n,e){const t=lt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function nB(n){const{app:e}=n,t=lt(e);let r=t.tokenRefresher;r||(r=function yoe(n){const{app:e}=n;return new noe(w(function*(){let r;if(r=lt(e).token?yield lg(n,!0):yield lg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=lt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function rB(n,e){const t=lt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function xc(n){return n.expireTimeMillis-Date.now()>0}function iB(n){return{token:_oe(moe),error:n}}class voe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=lt(this.app);for(const t of e)HC(this.app,t.next);return Promise.resolve()}}const hB="app-check-internal";!function Noe(){ln(new Qt("app-check",n=>function boe(n,e){return new voe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(hB).initialize()})),ln(new Qt(hB,n=>function woe(n){return{getToken:e=>lg(n,e),getLimitedUseToken:()=>function tB(n){return VC.apply(this,arguments)}(n),addTokenListener:e=>function jC(n,e,t,r){const{app:i}=n,s=lt(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&xc(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),nB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>nB(n))}(n,"INTERNAL",e),removeTokenListener:e=>HC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Oe("@firebase/app-check","0.8.0")}();class zC{constructor(){return Pu("app-check")}}"undefined"!=typeof window&&window;const pB="@firebase/database";let KC="";class Uoe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Rt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Au(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Voe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Bi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const mB=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Uoe(e)}}catch(e){}return new Voe},Vo=mB("localStorage"),QC=mB("sessionStorage"),Mc=new Co("@firebase/database"),_B=function(){let n=1;return function(){return n++}}(),yB=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new _J;t.update(e);const r=t.digest();return wp.encodeByteArray(r)},Ku=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Ku.apply(null,r):e+="object"==typeof r?Rt(r):r,e+=" "}return e};let jo=null,vB=!0;const Ut=function(...n){if(!0===vB&&(vB=!1,null===jo&&!0===QC.get("logging_enabled")&&function(n,e){D(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Mc.logLevel=ye.VERBOSE,jo=Mc.log.bind(Mc),e&&QC.set("logging_enabled",!0)):"function"==typeof n?jo=n:(jo=null,QC.remove("logging_enabled"))}(!0)),jo){const e=Ku.apply(null,n);jo(e)}},Qu=function(n){return function(...e){Ut(n,...e)}},YC=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ku(...n);Mc.error(e)},ri=function(...n){const e=`FIREBASE FATAL ERROR: ${Ku(...n)}`;throw Mc.error(e),new Error(e)},un=function(...n){const e="FIREBASE WARNING: "+Ku(...n);Mc.warn(e)},dg=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ds="[MIN_NAME]",qi="[MAX_NAME]",Ho=function(n,e){if(n===e)return 0;if(n===Ds||e===qi)return-1;if(e===Ds||n===qi)return 1;{const t=IB(n),r=IB(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},$oe=function(n,e){return n===e?0:n<e?-1:1},Yu=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Rt(e))},XC=function(n){if("object"!=typeof n||null===n)return Rt(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=Rt(e[r]),t+=":",t+=XC(n[e[r]]);return t+="}",t},wB=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Vt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const EB=function(n){D(!dg(n),"Invalid JSON number");const r=1023;let i,s,o,a,c;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=11;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},qoe=new RegExp("^-?(0*)\\d{1,10}$"),IB=function(n){if(qoe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},kc=function(n){try{n()}catch(e){setTimeout(()=>{throw un("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Xu=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Xoe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){un(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Joe{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',un(e)}}let Ju=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const AB=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kB="websocket",RB="long_polling";class ZC{constructor(e,t,r,i,s=!1,o="",a=!1,c=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vo.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function NB(n,e,t){let r;if(D("string"==typeof e,"typeof type must == string"),D("object"==typeof t,"typeof params must == object"),e===kB)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==RB)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Zoe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Vt(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class eae{constructor(){this.counters_={}}incrementCounter(e,t=1){Bi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return rJ(this.counters_)}}const e0={},t0={};function n0(n){const e=n.toString();return e0[e]||(e0[e]=new eae),e0[e]}class nae{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&kc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ss{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qu(e),this.stats_=n0(t),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),NB(t,RB,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new nae(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new r0((...s)=>{const[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=c;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&AB.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ss.forceAllow_=!0}static forceDisallow(){Ss.forceDisallow_=!0}static isAvailable(){return!(!Ss.forceAllow_&&(Ss.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Rt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=dF(t),i=wB(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Rt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class r0{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_B(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=r0.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ut("frame writing exception"),a.stack&&Ut(a.stack),Ut(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ut("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Ut("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let fg=null;"undefined"!=typeof MozWebSocket?fg=MozWebSocket:"undefined"!=typeof WebSocket&&(fg=WebSocket);let Rc=(()=>{class n{constructor(t,r,i,s,o,a,c){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qu(this.connId),this.stats_=n0(r),this.connURL=n.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return"undefined"!=typeof location&&location.hostname&&AB.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),NB(t,kB,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vo.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new fg(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==fg&&!n.forceDisallow_}static previouslyFailed(){return Vo.isInMemoryStorage||!0===Vo.get("previous_websocket_failure")}markConnectionHealthy(){Vo.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Au(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(D(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=Rt(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=wB(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),VB=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ss,Rc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Rc&&Rc.isAvailable();let i=r&&!Rc.previouslyFailed();if(t.webSocketOnly&&(r||un("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Rc];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class qB{constructor(e,t,r,i,s,o,a,c,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qu("c:"+this.id+":"),this.transportManager_=new VB(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Xu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Yu("t",e),r=Yu("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Yu("t",e),r=Yu("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Yu("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?YC("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):YC("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&un("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Xu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class KB{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class QB{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){D(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class pg extends QB{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!ew()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new pg}getInitialEvent(e){return D("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Te{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function we(){return new Te("")}function ae(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function As(n){return n.pieces_.length-n.pieceNum_}function Fe(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Te(n.pieces_,e)}function o0(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Zu(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function JB(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Te(e,0)}function Ye(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Te)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Te(t,0)}function ce(n){return n.pieceNum_>=n.pieces_.length}function Dn(n,e){const t=ae(n),r=ae(e);if(null===t)return e;if(t===r)return Dn(Fe(n),Fe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function a0(n,e){if(As(n)!==As(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function hr(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(As(n)>As(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class Cae{constructor(e,t){this.errorPrefix_=t,this.parts_=Zu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ap(this.parts_[r]);ZB(this)}}function ZB(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+$o(n))}function $o(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class c0 extends QB{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new c0}getInitialEvent(e){return D("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ed=1e3;let mg,Go=(()=>{class n extends KB{constructor(t,r,i,s,o,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=Qu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ed,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");c0.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&pg.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(Rt(o)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new vc,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),D(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,c=>{const l=c.d,u=c.s;n.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&Bi(t,"w")){const i=bc(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();un(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=Cp(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=Cp(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),D(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Rt(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):YC("Unrecognized action received from server: "+Rt(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ed,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ed,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ed),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return w(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,s())};t.realtime_={close:u,sendRequest:function(f){D(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);c?Ut("getToken() completed but was canceled"):(Ut("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,l=new qB(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,g=>{un(g+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),c||(t.repoInfo_.nodeAdmin&&un(f),u())}}})()}interrupt(t){Ut("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ut("Resuming connection for reason: "+t),delete this.interruptReasons_[t],_F(this.interruptReasons_)&&(this.reconnectDelay_=ed,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>XC(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Te(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Ut("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ut("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+KC.replace(/\./g,"-")]=1,ew()?t["framework.cordova"]=1:mF()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=pg.getInstance().currentlyOnline();return _F(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ue{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ue(e,t)}}class gg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new ue(Ds,e),i=new ue(Ds,t);return 0!==this.compare(r,i)}minPost(){return ue.MIN}}class nU extends gg{static get __EMPTY_NODE(){return mg}static set __EMPTY_NODE(e){mg=e}compare(e,t){return Ho(e.name,t.name)}isDefinedOn(e){throw yc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ue.MIN}maxPost(){return new ue(qi,mg)}makePost(e,t){return D("string"==typeof e,"KeyIndex indexValue must always be a string."),new ue(e,mg)}toString(){return".key"}}const ii=new nU;class _g{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let u0,Rr=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:Fn.EMPTY_NODE,this.right=null!=o?o:Fn.EMPTY_NODE}copy(t,r,i,s,o){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Fn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Fn{constructor(e,t=Fn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Fn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Rr.BLACK,null,null))}remove(e){return new Fn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rr.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new _g(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new _g(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new _g(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new _g(this.root_,null,this.comparator_,!0,e)}}function Nae(n,e){return Ho(n.name,e.name)}function l0(n,e){return Ho(n,e)}Fn.EMPTY_NODE=new class Rae{copy(e,t,r,i,s){return this}insert(e,t,r){return new Rr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const rU=function(n){return"number"==typeof n?"number:"+EB(n):"string:"+n},iU=function(n){if(n.isLeafNode()){const e=n.val();D("string"==typeof e||"number"==typeof e||"object"==typeof e&&Bi(e,".sv"),"Priority must be a string or number.")}else D(n===u0||n.isEmpty(),"priority of unexpected type.");D(n===u0||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let sU,oU,aU,Nc=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,D(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),iU(this.priorityNode_)}static set __childrenNodeConstructor(t){sU=t}static get __childrenNodeConstructor(){return sU}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ce(t)?this:".priority"===ae(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=ae(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(D(".priority"!==i||1===As(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fe(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+rU(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?EB(this.value_):this.value_,this.lazyHash_=yB(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(D(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return D(s>=0,"Unknown leaf type: "+r),D(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ve=new class Lae extends gg{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?Ho(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(qi,new Nc("[PRIORITY-POST]",aU))}makePost(e,t){const r=oU(e);return new ue(t,new Nc("[PRIORITY-POST]",r))}toString(){return".priority"}},Bae=Math.log(2);class Uae{constructor(e){this.count=parseInt(Math.log(e+1)/Bae,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yg=function(n,e,t,r){n.sort(e);const i=function(c,l){const u=l-c;let d,h;if(0===u)return null;if(1===u)return d=n[c],h=t?t(d):d,new Rr(h,d.node,Rr.BLACK,null,null);{const f=parseInt(u/2,10)+c,p=i(c,f),g=i(f+1,l);return d=n[f],h=t?t(d):d,new Rr(h,d.node,Rr.BLACK,p,g)}},a=function(c){let l=null,u=null,d=n.length;const h=function(p,g){const m=d-p,y=d;d-=p;const _=i(m+1,y),E=n[m],N=t?t(E):E;f(new Rr(N,E.node,g,null,_))},f=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){const g=c.nextBitIsOne(),m=Math.pow(2,c.count-(p+1));g?h(m,Rr.BLACK):(h(m,Rr.BLACK),h(m,Rr.RED))}return u}(new Uae(n.length));return new Fn(r||e,a)};let d0;const Pc={};class Ki{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return D(Pc&&Ve,"ChildrenNode.ts has not been loaded"),d0=d0||new Ki({".priority":Pc},{".priority":Ve}),d0}get(e){const t=bc(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Fn?t:null}hasIndex(e){return Bi(this.indexSet_,e.toString())}addIndex(e,t){D(e!==ii,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(ue.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?yg(r,e.getCompare()):Pc;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=a,new Ki(u,l)}addToIndexes(e,t){const r=Dp(this.indexes_,(i,s)=>{const o=bc(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===Pc){if(o.isDefinedOn(e.node)){const a=[],c=t.getIterator(ue.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),yg(a,o.getCompare())}return Pc}{const a=t.get(e.name);let c=i;return a&&(c=c.remove(new ue(e.name,a))),c.insert(e,e.node)}});return new Ki(r,this.indexSet_)}removeFromIndexes(e,t){const r=Dp(this.indexes_,i=>{if(i===Pc)return i;{const s=t.get(e.name);return s?i.remove(new ue(e.name,s)):i}});return new Ki(r,this.indexSet_)}}let td,te=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&iU(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return td||(td=new n(new Fn(l0),null,Ki.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||td}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?td:r}}getChild(t){const r=ae(t);return null===r?this:this.getImmediateChild(r).getChild(Fe(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(D(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new ue(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?td:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=ae(t);if(null===i)return r;{D(".priority"!==ae(t)||1===As(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Fe(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Ve,(a,c)=>{r[a]=c.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+rU(this.getPriority().val())+":"),this.forEachChild(Ve,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":yB(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ue(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ue(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ue(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,ue.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,ue.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===nd?-1:0}withIndex(t){if(t===ii||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===ii||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Ve),s=r.getIterator(Ve);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===ii?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const nd=new class Vae extends te{constructor(){super(new Fn(l0),te.EMPTY_NODE,Ki.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return te.EMPTY_NODE}isEmpty(){return!1}};function et(n,e=null){if(null===n)return te.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),D(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Nc(n,et(e));if(n instanceof Array){let t=te.EMPTY_NODE;return Vt(n,(r,i)=>{if(Bi(n,r)&&"."!==r.substring(0,1)){const s=et(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(et(e))}{const t=[];let r=!1;if(Vt(n,(o,a)=>{if("."!==o.substring(0,1)){const c=et(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new ue(o,c)))}}),0===t.length)return te.EMPTY_NODE;const s=yg(t,Nae,o=>o.name,l0);if(r){const o=yg(t,Ve.getCompare());return new te(s,et(e),new Ki({".priority":o},{".priority":Ve}))}return new te(s,et(e),Ki.Default)}}Object.defineProperties(ue,{MIN:{value:new ue(Ds,te.EMPTY_NODE)},MAX:{value:new ue(qi,nd)}}),nU.__EMPTY_NODE=te.EMPTY_NODE,Nc.__childrenNodeConstructor=te,function Pae(n){u0=n}(nd),function Fae(n){aU=n}(nd),function Oae(n){oU=n}(et);class h0 extends gg{constructor(e){super(),this.indexPath_=e,D(!ce(e)&&".priority"!==ae(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?Ho(e.name,t.name):s}makePost(e,t){const r=et(e),i=te.EMPTY_NODE.updateChild(this.indexPath_,r);return new ue(t,i)}maxPost(){const e=te.EMPTY_NODE.updateChild(this.indexPath_,nd);return new ue(qi,e)}toString(){return Zu(this.indexPath_,0).join("/")}}const f0=new class Hae extends gg{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Ho(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,t){const r=et(e);return new ue(t,r)}toString(){return".value"}};function cU(n){return{type:"value",snapshotNode:n}}function Oc(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function rd(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function id(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class p0{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(rd(t,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Oc(t,r)):o.trackChildChange(id(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Ve,(i,s)=>{t.hasChild(i)||r.trackChildChange(rd(i,s))}),t.isLeafNode()||t.forEachChild(Ve,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(id(i,s,o))}else r.trackChildChange(Oc(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?te.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class sd{constructor(e){this.indexedFilter_=new p0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=sd.getStartPost_(e),this.endPost_=sd.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,o){return this.matches(new ue(t,r))||(r=te.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=te.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(te.EMPTY_NODE);const s=this;return t.forEachChild(Ve,(o,a)=>{s.matches(new ue(o,a))||(i=i.updateImmediateChild(o,te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Gae{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new sd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new ue(t,r))||(r=te.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=te.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=te.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),o++}}}else{let s;i=t.withIndex(this.index_),i=i.updatePriority(te.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const c=new ue(t,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(t)){const d=a.getImmediateChild(t);let h=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=h&&(h.name===t||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:o(h,c);if(u&&!r.isEmpty()&&f>=0)return null!=s&&s.trackChildChange(id(t,r,d)),a.updateImmediateChild(t,r);{null!=s&&s.trackChildChange(rd(t,d));const g=a.updateImmediateChild(t,te.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=s&&s.trackChildChange(Oc(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}return r.isEmpty()?e:u&&o(l,c)>=0?(null!=s&&(s.trackChildChange(rd(l.name,l.node)),s.trackChildChange(Oc(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(l.name,te.EMPTY_NODE)):e}}class g0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ds}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new g0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function lU(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Ve?t="$priority":n.index_===f0?t="$value":n.index_===ii?t="$key":(D(n.index_ instanceof h0,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Rt(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Rt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Rt(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Rt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Rt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function uU(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Ve&&(e.i=n.index_.toString()),e}class bg extends KB{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Qu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=bg.getListenId_(e,r),a={};this.listens_[o]=a;const c=lU(e._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let d=u;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(s,d,!1,r),bc(this.listens_,o)===a){let h;h=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(h,null)}})}unlisten(e,t){const r=bg.getListenId_(e,t);delete this.listens_[r]}get(e){const t=lU(e._queryParams),r=e._path.toString(),i=new vc;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+rw(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Au(a.responseText)}catch(l){un("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&un("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class Yae{constructor(){this.rootNode_=te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function wg(){return{value:null,children:new Map}}function Fc(n,e,t){if(ce(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=ae(e);n.children.has(r)||n.children.set(r,wg()),Fc(n.children.get(r),e=Fe(e),t)}}function v0(n,e,t){null!==n.value?t(e,n.value):function Xae(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{v0(i,new Te(e.toString()+"/"+r),t)})}class Jae{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Vt(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class tce{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Jae(e);const r=1e4+2e4*Math.random();Xu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Vt(e,(i,s)=>{s>0&&Bi(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Xu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var fr=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(fr||(fr={})),fr))();function E0(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Eg{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=fr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ce(this.path)){if(null!=this.affectedTree.value)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Te(e));return new Eg(we(),t,this.revert)}}return D(ae(this.path)===e,"operationForChild called for unrelated child."),new Eg(Fe(this.path),this.affectedTree,this.revert)}}class od{constructor(e,t){this.source=e,this.path=t,this.type=fr.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new od(this.source,we()):new od(this.source,Fe(this.path))}}class Wo{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=fr.OVERWRITE}operationForChild(e){return ce(this.path)?new Wo(this.source,we(),this.snap.getImmediateChild(e)):new Wo(this.source,Fe(this.path),this.snap)}}class Lc{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=fr.MERGE}operationForChild(e){if(ce(this.path)){const t=this.children.subtree(new Te(e));return t.isEmpty()?null:t.value?new Wo(this.source,we(),t.value):new Lc(this.source,we(),t)}return D(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Lc(this.source,Fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xs{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;const t=ae(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class nce{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ad(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,c)=>function sce(n,e,t){if(null==e.childName||null==t.childName)throw yc("Should only compare child_ events.");const r=new ue(e.childName,e.snapshotNode),i=new ue(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,c)),o.forEach(a=>{const c=function ice(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function Ig(n,e){return{eventCache:n,serverCache:e}}function cd(n,e,t,r){return Ig(new xs(e,t,r),n.serverCache)}function hU(n,e,t,r){return Ig(n.eventCache,new xs(e,t,r))}function Tg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function zo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let I0;class je{constructor(e,t=(()=>(I0||(I0=new Fn($oe)),I0))()){this.value=e,this.children=t}static fromObject(e){let t=new je(null);return Vt(e,(r,i)=>{t=t.set(new Te(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:we(),value:this.value};if(ce(e))return null;{const r=ae(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Fe(e),t);return null!=s?{path:Ye(new Te(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{const t=ae(e),r=this.children.get(t);return null!==r?r.subtree(Fe(e)):new je(null)}}set(e,t){if(ce(e))return new je(t,this.children);{const r=ae(e),s=(this.children.get(r)||new je(null)).set(Fe(e),t),o=this.children.insert(r,s);return new je(this.value,o)}}remove(e){if(ce(e))return this.children.isEmpty()?new je(null):new je(null,this.children);{const t=ae(e),r=this.children.get(t);if(r){const i=r.remove(Fe(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new je(null):new je(this.value,s)}return this}}get(e){if(ce(e))return this.value;{const t=ae(e),r=this.children.get(t);return r?r.get(Fe(e)):null}}setTree(e,t){if(ce(e))return t;{const r=ae(e),s=(this.children.get(r)||new je(null)).setTree(Fe(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new je(this.value,o)}}fold(e){return this.fold_(we(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ye(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,we(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(ce(e))return null;{const s=ae(e),o=this.children.get(s);return o?o.findOnPath_(Fe(e),Ye(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,we(),t)}foreachOnPath_(e,t,r){if(ce(e))return this;{this.value&&r(t,this.value);const i=ae(e),s=this.children.get(i);return s?s.foreachOnPath_(Fe(e),Ye(t,i),r):new je(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Ye(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Nr{constructor(e){this.writeTree_=e}static empty(){return new Nr(new je(null))}}function ld(n,e,t){if(ce(e))return new Nr(new je(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Dn(i,e);return s=s.updateChild(o,t),new Nr(n.writeTree_.set(i,s))}{const i=new je(t),s=n.writeTree_.setTree(e,i);return new Nr(s)}}}function T0(n,e,t){let r=n;return Vt(t,(i,s)=>{r=ld(r,Ye(e,i),s)}),r}function fU(n,e){if(ce(e))return Nr.empty();{const t=n.writeTree_.setTree(e,new je(null));return new Nr(t)}}function C0(n,e){return null!=qo(n,e)}function qo(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Dn(t.path,e)):null}function pU(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ve,(r,i)=>{e.push(new ue(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new ue(r,i.value))}),e}function Ms(n,e){if(ce(e))return n;{const t=qo(n,e);return new Nr(null!=t?new je(t):n.writeTree_.subtree(e))}}function D0(n){return n.writeTree_.isEmpty()}function Bc(n,e){return gU(we(),n.writeTree_,e)}function gU(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(D(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=gU(Ye(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Ye(n,".priority"),r)),t}}function Cg(n,e){return bU(e,n)}function dce(n,e){if(n.snap)return hr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&hr(Ye(n.path,t),e))return!0;return!1}function fce(n){return n.visible}function mU(n,e,t){let r=Nr.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)hr(t,o)?(a=Dn(t,o),r=ld(r,a,s.snap)):hr(o,t)&&(a=Dn(o,t),r=ld(r,we(),s.snap.getChild(a)));else{if(!s.children)throw yc("WriteRecord should have .snap or .children");if(hr(t,o))a=Dn(t,o),r=T0(r,a,s.children);else if(hr(o,t))if(a=Dn(o,t),ce(a))r=T0(r,we(),s.children);else{const c=bc(s.children,ae(a));if(c){const l=c.getChild(Fe(a));r=ld(r,we(),l)}}}}}return r}function _U(n,e,t,r,i){if(r||i){const s=Ms(n.visibleWrites,e);return!i&&D0(s)?t:i||null!=t||C0(s,we())?Bc(mU(n.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(hr(l.path,e)||hr(e,l.path))},e),t||te.EMPTY_NODE):null}{const s=qo(n.visibleWrites,e);if(null!=s)return s;{const o=Ms(n.visibleWrites,e);return D0(o)?t:null!=t||C0(o,we())?Bc(o,t||te.EMPTY_NODE):null}}}function Dg(n,e,t,r){return _U(n.writeTree,n.treePath,e,t,r)}function S0(n,e){return function pce(n,e,t){let r=te.EMPTY_NODE;const i=qo(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ve,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=Ms(n.visibleWrites,e);return t.forEachChild(Ve,(o,a)=>{const c=Bc(Ms(s,new Te(o)),a);r=r.updateImmediateChild(o,c)}),pU(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return pU(Ms(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function yU(n,e,t,r){return function gce(n,e,t,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ye(e,t);if(C0(n.visibleWrites,s))return null;{const o=Ms(n.visibleWrites,s);return D0(o)?i.getChild(t):Bc(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Sg(n,e){return function _ce(n,e){return qo(n.visibleWrites,e)}(n.writeTree,Ye(n.treePath,e))}function A0(n,e,t){return function mce(n,e,t,r){const i=Ye(e,t),s=qo(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?Bc(Ms(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function vU(n,e){return bU(Ye(n.treePath,e),n.writeTree)}function bU(n,e){return{treePath:n,writeTree:e}}class wce{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;D("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),D(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,id(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,rd(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,Oc(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw yc("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,id(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const wU=new class Ece{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class x0{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new xs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return A0(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:zo(this.viewCache_),s=function bce(n,e,t,r,i,s){return function yce(n,e,t,r,i,s,o){let a;const c=Ms(n.visibleWrites,e),l=qo(c,we());if(null!=l)a=l;else{if(null==t)return[];a=Bc(c,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function EU(n,e,t,r,i,s){const o=e.eventCache;if(null!=Sg(r,t))return e;{let a,c;if(ce(t))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=zo(e),d=S0(r,l instanceof te?l:te.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const l=Dg(r,zo(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{const l=ae(t);if(".priority"===l){D(1===As(t),"Can't have a priority with additional path components");const u=o.getNode();c=e.serverCache.getNode();const d=yU(r,t,u,c);a=null!=d?n.filter.updatePriority(u,d):o.getNode()}else{const u=Fe(t);let d;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();const h=yU(r,t,o.getNode(),c);d=null!=h?o.getNode().getImmediateChild(l).updateChild(u,h):o.getNode().getImmediateChild(l)}else d=A0(r,l,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),l,d,u,i,s):o.getNode()}}return cd(e,a,o.isFullyInitialized()||ce(t),n.filter.filtersNodes())}}function Ag(n,e,t,r,i,s,o,a){const c=e.serverCache;let l;const u=o?n.filter:n.filter.getIndexedFilter();if(ce(t))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const f=c.getNode().updateChild(t,r);l=u.updateFullNode(c.getNode(),f,null)}else{const f=ae(t);if(!c.isCompleteForPath(t)&&As(t)>1)return e;const p=Fe(t),m=c.getNode().getImmediateChild(f).updateChild(p,r);l=".priority"===f?u.updatePriority(c.getNode(),m):u.updateChild(c.getNode(),f,m,p,wU,null)}const d=hU(e,l,c.isFullyInitialized()||ce(t),u.filtersNodes());return EU(n,d,t,i,new x0(i,d,s),a)}function M0(n,e,t,r,i,s,o){const a=e.eventCache;let c,l;const u=new x0(i,e,s);if(ce(t))l=n.filter.updateFullNode(e.eventCache.getNode(),r,o),c=cd(e,l,!0,n.filter.filtersNodes());else{const d=ae(t);if(".priority"===d)l=n.filter.updatePriority(e.eventCache.getNode(),r),c=cd(e,l,a.isFullyInitialized(),a.isFiltered());else{const h=Fe(t),f=a.getNode().getImmediateChild(d);let p;if(ce(h))p=r;else{const g=u.getCompleteChild(d);p=null!=g?".priority"===o0(h)&&g.getChild(JB(h)).isEmpty()?g:g.updateChild(h,r):te.EMPTY_NODE}c=f.equals(p)?e:cd(e,n.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return c}function IU(n,e){return n.eventCache.isCompleteForChild(e)}function TU(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function k0(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=ce(t)?r:new je(null).setTree(t,r);const u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=TU(0,e.serverCache.getNode().getImmediateChild(d),h);c=Ag(n,c,new Te(d),p,i,s,o,a)}}),l.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const g=TU(0,e.serverCache.getNode().getImmediateChild(d),h);c=Ag(n,c,new Te(d),g,i,s,o,a)}}),c}class kce{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new p0(r.getIndex()),s=function Wae(n){return n.loadsAllData()?new p0(n.getIndex()):n.hasLimit()?new Gae(n):new sd(n)}(r);this.processor_=function Ice(n){return{filter:n}}(s);const o=t.serverCache,a=t.eventCache,c=i.updateFullNode(te.EMPTY_NODE,o.getNode(),null),l=s.updateFullNode(te.EMPTY_NODE,a.getNode(),null),u=new xs(c,o.isFullyInitialized(),i.filtersNodes()),d=new xs(l,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Ig(d,u),this.eventGenerator_=new nce(this.query_)}get query(){return this.query_}}function Pce(n,e){const t=zo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ce(e)&&!t.getImmediateChild(ae(e)).isEmpty())?t.getChild(e):null}function CU(n){return 0===n.eventRegistrations_.length}function DU(n,e,t){const r=[];if(t){D(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(o)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function SU(n,e,t,r){e.type===fr.MERGE&&null!==e.source.queryId&&(D(zo(n.viewCache_),"We should always have a full cache before handling merges"),D(Tg(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function Cce(n,e,t,r,i){const s=new wce;let o,a;if(t.type===fr.OVERWRITE){const l=t;l.source.fromUser?o=M0(n,e,l.path,l.snap,r,i,s):(D(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!ce(l.path),o=Ag(n,e,l.path,l.snap,r,i,a,s))}else if(t.type===fr.MERGE){const l=t;l.source.fromUser?o=function Sce(n,e,t,r,i,s,o){let a=e;return r.foreach((c,l)=>{const u=Ye(t,c);IU(e,ae(u))&&(a=M0(n,a,u,l,i,s,o))}),r.foreach((c,l)=>{const u=Ye(t,c);IU(e,ae(u))||(a=M0(n,a,u,l,i,s,o))}),a}(n,e,l.path,l.children,r,i,s):(D(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=k0(n,e,l.path,l.children,r,i,a,s))}else if(t.type===fr.ACK_USER_WRITE){const l=t;o=l.revert?function Mce(n,e,t,r,i,s){let o;if(null!=Sg(r,t))return e;{const a=new x0(r,e,i),c=e.eventCache.getNode();let l;if(ce(t)||".priority"===ae(t)){let u;if(e.serverCache.isFullyInitialized())u=Dg(r,zo(e));else{const d=e.serverCache.getNode();D(d instanceof te,"serverChildren would be complete if leaf node"),u=S0(r,d)}u=u,l=n.filter.updateFullNode(c,u,s)}else{const u=ae(t);let d=A0(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),l=null!=d?n.filter.updateChild(c,u,d,Fe(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(c,u,te.EMPTY_NODE,Fe(t),a,s):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Dg(r,zo(e)),o.isLeafNode()&&(l=n.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Sg(r,we()),cd(e,l,o,n.filter.filtersNodes())}}(n,e,l.path,r,i,s):function Ace(n,e,t,r,i,s,o){if(null!=Sg(i,t))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(ce(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Ag(n,e,t,c.getNode().getChild(t),i,s,a,o);if(ce(t)){let l=new je(null);return c.getNode().forEachChild(ii,(u,d)=>{l=l.set(new Te(u),d)}),k0(n,e,t,l,i,s,a,o)}return e}{let l=new je(null);return r.foreach((u,d)=>{const h=Ye(t,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),k0(n,e,t,l,i,s,a,o)}}(n,e,l.path,l.affectedTree,r,i,s)}else{if(t.type!==fr.LISTEN_COMPLETE)throw yc("Unknown operation type: "+t.type);o=function xce(n,e,t,r,i){const s=e.serverCache;return EU(n,hU(e,s.getNode(),s.isFullyInitialized()||ce(t),s.isFiltered()),t,r,wU,i)}(n,e,t.path,r,s)}const c=s.getChanges();return function Dce(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Tg(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(cU(Tg(e)))}}(e,o,c),{viewCache:o,changes:c}}(n.processor_,i,e,t,r);return function Tce(n,e){D(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,AU(n,s.changes,s.viewCache.eventCache.getNode(),null)}function AU(n,e,t,r){return function rce(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function $ae(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),ad(n,i,"child_removed",e,r,t),ad(n,i,"child_added",e,r,t),ad(n,i,"child_moved",s,r,t),ad(n,i,"child_changed",e,r,t),ad(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let xg,kg;class xU{constructor(){this.views=new Map}}function R0(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return D(null!=s,"SyncTree gave us an op for an invalid query."),SU(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(SU(o,e,t,r));return s}}function MU(n,e,t,r,i){const o=n.views.get(e._queryIdentifier);if(!o){let a=Dg(t,i?r:null),c=!1;a?c=!0:r instanceof te?(a=S0(t,r),c=!1):(a=te.EMPTY_NODE,c=!1);const l=Ig(new xs(a,c,!1),new xs(r,i,!1));return new kce(e,l)}return o}function kU(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ks(n,e){let t=null;for(const r of n.views.values())t=t||Pce(r,e);return t}function RU(n,e){return e._queryParams.loadsAllData()?Mg(n):n.views.get(e._queryIdentifier)}function NU(n,e){return null!=RU(n,e)}function Rs(n){return null!=Mg(n)}function Mg(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Gce=1;class PU{constructor(e){this.listenProvider_=e,this.syncPointTree_=new je(null),this.pendingWriteTree_=function vce(){return{visibleWrites:Nr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function N0(n,e,t,r,i){return function ace(n,e,t,r,i){D(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=ld(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Uc(n,new Wo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Ns(n,e,t=!1){const r=function lce(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function uce(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);D(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&dce(a,r.path)?i=!1:hr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function hce(n){n.visibleWrites=mU(n.allWrites,fce,we()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=fU(n.visibleWrites,r.path):Vt(r.children,c=>{n.visibleWrites=fU(n.visibleWrites,Ye(r.path,c))}),!0))}(n.pendingWriteTree_,e)){let s=new je(null);return null!=r.snap?s=s.set(we(),!0):Vt(r.children,o=>{s=s.set(new Te(o),!0)}),Uc(n,new Eg(r.path,s,t))}return[]}function ud(n,e,t){return Uc(n,new Wo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Rg(n,e,t,r,i=!1){const s=e._path,o=n.syncPointTree_.get(s);let a=[];if(o&&("default"===e._queryIdentifier||NU(o,e))){const c=function jce(n,e,t,r){const i=e._queryIdentifier,s=[];let o=[];const a=Rs(n);if("default"===i)for(const[c,l]of n.views.entries())o=o.concat(DU(l,t,r)),CU(l)&&(n.views.delete(c),l.query._queryParams.loadsAllData()||s.push(l.query));else{const c=n.views.get(i);c&&(o=o.concat(DU(c,t,r)),CU(c)&&(n.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return a&&!Rs(n)&&s.push(new(function Bce(){return D(xg,"Reference.ts has not been loaded"),xg}())(e._repo,e._path)),{removed:s,events:o}}(o,e,t,r);(function Uce(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const l=c.removed;if(a=c.events,!i){const u=-1!==l.findIndex(h=>h._queryParams.loadsAllData()),d=n.syncPointTree_.findOnPath(s,(h,f)=>Rs(f));if(u&&!d){const h=n.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=function Xce(n){return n.fold((e,t,r)=>{if(t&&Rs(t))return[Mg(t)];{let i=[];return t&&(i=kU(t)),Vt(r,(s,o)=>{i=i.concat(o)}),i}})}(h);for(let p=0;p<f.length;++p){const g=f[p],m=g.query,y=BU(n,g);n.listenProvider_.startListening(hd(m),dd(n,m),y.hashFn,y.onComplete)}}}if(!d&&l.length>0&&!r)if(u){const h=null;n.listenProvider_.stopListening(hd(e),h)}else l.forEach(h=>{const f=n.queryToTagMap.get(Pg(h));n.listenProvider_.stopListening(hd(h),f)})}!function Jce(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=Pg(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,l)}return a}function OU(n,e,t,r){const i=O0(n,r);if(null!=i){const s=F0(i),o=s.path,a=s.queryId,c=Dn(o,e);return L0(n,o,new Wo(E0(a),c,t))}return[]}function P0(n,e,t,r=!1){const i=e._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=Dn(h,i);s=s||ks(f,p),o=o||Rs(f)});let c,a=n.syncPointTree_.get(i);a?(o=o||Rs(a),s=s||ks(a,we())):(a=new xU,n.syncPointTree_=n.syncPointTree_.set(i,a)),null!=s?c=!0:(c=!1,s=te.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((f,p)=>{const g=ks(p,we());g&&(s=s.updateImmediateChild(f,g))}));const l=NU(a,e);if(!l&&!e._queryParams.loadsAllData()){const h=Pg(e);D(!n.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=function Zce(){return Gce++}();n.queryToTagMap.set(h,f),n.tagToQueryMap.set(f,h)}let d=function Vce(n,e,t,r,i,s){const o=MU(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),function Oce(n,e){n.eventRegistrations_.push(e)}(o,t),function Fce(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ve,(s,o)=>{r.push(Oc(s,o))}),t.isFullyInitialized()&&r.push(cU(t.getNode())),AU(n,r,t.getNode(),e)}(o,t)}(a,e,t,Cg(n.pendingWriteTree_,i),s,c);if(!l&&!o&&!r){const h=RU(a,e);d=d.concat(function ele(n,e,t){const r=e._path,i=dd(n,e),s=BU(n,t),o=n.listenProvider_.startListening(hd(e),i,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(r);if(i)D(!Rs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,u,d)=>{if(!ce(l)&&u&&Rs(u))return[Mg(u).query];{let h=[];return u&&(h=h.concat(kU(u).map(f=>f.query))),Vt(d,(f,p)=>{h=h.concat(p)}),h}});for(let l=0;l<c.length;++l){const u=c[l];n.listenProvider_.stopListening(hd(u),dd(n,u))}}return o}(n,e,h))}return d}function Ng(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const l=ks(a,Dn(o,e));if(l)return l});return _U(i,e,s,t,!0)}function Uc(n,e){return FU(e,n.syncPointTree_,null,Cg(n.pendingWriteTree_,we()))}function FU(n,e,t,r){if(ce(n.path))return LU(n,e,t,r);{const i=e.get(we());null==t&&null!=i&&(t=ks(i,we()));let s=[];const o=ae(n.path),a=n.operationForChild(o),c=e.children.get(o);if(c&&a){const l=t?t.getImmediateChild(o):null,u=vU(r,o);s=s.concat(FU(a,c,l,u))}return i&&(s=s.concat(R0(i,n,r,t))),s}}function LU(n,e,t,r){const i=e.get(we());null==t&&null!=i&&(t=ks(i,we()));let s=[];return e.children.inorderTraversal((o,a)=>{const c=t?t.getImmediateChild(o):null,l=vU(r,o),u=n.operationForChild(o);u&&(s=s.concat(LU(u,a,c,l)))}),i&&(s=s.concat(R0(i,n,r,t))),s}function BU(n,e){const t=e.query,r=dd(n,t);return{hashFn:()=>(function Rce(n){return n.viewCache_.serverCache.getNode()}(e)||te.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function Kce(n,e,t){const r=O0(n,t);if(r){const i=F0(r),s=i.path,o=i.queryId,a=Dn(s,e);return L0(n,s,new od(E0(o),a))}return[]}(n,t._path,r):function qce(n,e){return Uc(n,new od({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function zoe(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return Rg(n,t,null,s)}}}}function dd(n,e){const t=Pg(e);return n.queryToTagMap.get(t)}function Pg(n){return n._path.toString()+"$"+n._queryIdentifier}function O0(n,e){return n.tagToQueryMap.get(e)}function F0(n){const e=n.indexOf("$");return D(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Te(n.substr(0,e))}}function L0(n,e,t){const r=n.syncPointTree_.get(e);return D(r,"Missing sync point for query tag that we're tracking"),R0(r,t,Cg(n.pendingWriteTree_,e),null)}function hd(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function $ce(){return D(kg,"Reference.ts has not been loaded"),kg}())(n._repo,n._path):n}class B0{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new B0(t)}node(){return this.node_}}class U0{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ye(this.path_,e);return new U0(this.syncTree_,t)}node(){return Ng(this.syncTree_,this.path_)}}const UU=function(n,e,t){return n&&"object"==typeof n?(D(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?nle(n[".sv"],e,t):"object"==typeof n[".sv"]?rle(n[".sv"],e):void D(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},nle=function(n,e,t){if("timestamp"===n)return t.timestamp;D(!1,"Unexpected server value: "+n)},rle=function(n,e,t){n.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},V0=function(n,e,t){return j0(n,new B0(e),t)};function j0(n,e,t){const r=n.getPriority().val(),i=UU(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=UU(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new Nc(a,et(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Nc(i))),o.forEachChild(Ve,(a,c)=>{const l=j0(c,e.getImmediateChild(a),t);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}class H0{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Og(n,e){let t=e instanceof Te?e:new Te(e),r=n,i=ae(t);for(;null!==i;){const s=bc(r.node.children,i)||{children:{},childCount:0};r=new H0(i,r,s),t=Fe(t),i=ae(t)}return r}function Ko(n){return n.node.value}function $0(n,e){n.node.value=e,G0(n)}function jU(n){return n.node.childCount>0}function Fg(n,e){Vt(n.node.children,(t,r)=>{e(new H0(t,n,r))})}function HU(n,e,t,r){t&&!r&&e(n),Fg(n,i=>{HU(i,e,!0,r)}),t&&r&&e(n)}function fd(n){return new Te(null===n.parent?n.name:fd(n.parent)+"/"+n.name)}function G0(n){null!==n.parent&&function ole(n,e,t){const r=function ile(n){return void 0===Ko(n)&&!jU(n)}(t),i=Bi(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,G0(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,G0(n))}(n.parent,n.name,n)}const ale=/[\[\].#$\/\u0000-\u001F\u007F]/,cle=/[\[\].#$\u0000-\u001F\u007F]/,W0=10485760,Lg=function(n){return"string"==typeof n&&0!==n.length&&!ale.test(n)},$U=function(n){return"string"==typeof n&&0!==n.length&&!cle.test(n)},gd=function(n,e,t){const r=t instanceof Te?new Cae(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+$o(r));if("function"==typeof e)throw new Error(n+"contains a function "+$o(r)+" with contents = "+e.toString());if(dg(e))throw new Error(n+"contains "+e.toString()+" "+$o(r));if("string"==typeof e&&e.length>W0/3&&Ap(e)>W0)throw new Error(n+"contains a string greater than "+W0+" utf8 bytes "+$o(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Vt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Lg(o)))throw new Error(n+" contains an invalid key ("+o+") "+$o(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Dae(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Ap(e),ZB(n)})(r,o),gd(n,a,r),function Sae(n){const e=n.parts_.pop();n.byteLength_-=Ap(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+$o(r)+" in addition to actual children.")}},q0=function(n,e,t,r){if(!(r&&void 0===t||$U(t)))throw new Error(xu(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')};class hle{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yn(n,e,t){(function Bg(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!a0(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function qU(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(fle(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>hr(r,e)||hr(e,r))}function fle(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();jo&&Ut("event: "+t.toString()),kc(r)}}}class gle{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hle,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wg(),this.transactionQueueTree_=new H0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QU(n){const t=n.infoData_.getNode(new Te(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function _d(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:QU(n)})}function YU(n,e,t,r,i){n.dataUpdateCount++;const s=new Te(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const c=Dp(t,l=>et(l));o=function Qce(n,e,t,r){const i=O0(n,r);if(i){const s=F0(i),o=s.path,a=s.queryId,c=Dn(o,e),l=je.fromObject(t);return L0(n,o,new Lc(E0(a),c,l))}return[]}(n.serverSyncTree_,s,c,i)}else{const c=et(t);o=OU(n.serverSyncTree_,s,c,i)}else if(r){const c=Dp(t,l=>et(l));o=function zce(n,e,t){const r=je.fromObject(t);return Uc(n,new Lc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,c)}else{const c=et(t);o=ud(n.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=jc(n,s)),Yn(n.eventQueue_,a,o)}function XU(n,e){K0(n,"connected",e),!1===e&&function ble(n){Vc(n,"onDisconnectEvents");const e=_d(n),t=wg();v0(n.onDisconnect_,we(),(i,s)=>{const o=function(n,e,t,r){return j0(e,new U0(t,n),r)}(i,s,n.serverSyncTree_,e);Fc(t,i,o)});let r=[];v0(t,we(),(i,s)=>{r=r.concat(ud(n.serverSyncTree_,i,s));const o=function J0(n,e){const t=fd(eV(n,e)),r=Og(n.transactionQueueTree_,e);return function sle(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{Z0(n,i)}),Z0(n,r),HU(r,i=>{Z0(n,i)}),t}(n,i);jc(n,o)}),n.onDisconnect_=wg(),Yn(n.eventQueue_,we(),r)}(n)}function K0(n,e,t){const r=new Te("/.info/"+e),i=et(t);n.infoData_.updateSnapshot(r,i);const s=ud(n.infoSyncTree_,r,i);Yn(n.eventQueue_,r,s)}function Ug(n){return n.nextWriteId_++}function Vc(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ut(t,...e)}function X0(n,e,t){return Ng(n.serverSyncTree_,e,t)||te.EMPTY_NODE}function Vg(n,e=n.transactionQueueTree_){if(e||jg(n,e),Ko(e)){const t=tV(n,e);D(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function Sle(n,e,t){const r=t.map(l=>l.currentWriteId),i=X0(n,e,r);let s=i;const o=i.hash();for(let l=0;l<t.length;l++){const u=t[l];D(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Dn(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),c=e;n.server_.put(c.toString(),a,l=>{Vc(n,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Ns(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();jg(n,Og(n.transactionQueueTree_,e)),Vg(n,n.transactionQueueTree_),Yn(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)kc(d[h])}else{if("datastale"===l)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{un("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=l}jc(n,e)}},o)}(n,fd(e),t)}else jU(e)&&Fg(e,t=>{Vg(n,t)})}function jc(n,e){const t=eV(n,e),r=fd(t);return function Ale(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=Dn(t,c.path);let d,u=!1;if(D(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,d=c.abortReason,i=i.concat(Ns(n.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)u=!0,d="maxretry",i=i.concat(Ns(n.serverSyncTree_,c.currentWriteId,!0));else{const h=X0(n,c.path,o);c.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){gd("transaction failed: Data returned ",f,c.path);let p=et(f);"object"==typeof f&&null!=f&&Bi(f,".priority")||(p=p.updatePriority(h.getPriority()));const m=c.currentWriteId,y=_d(n),_=V0(p,h,y);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=_,c.currentWriteId=Ug(n),o.splice(o.indexOf(m),1),i=i.concat(N0(n.serverSyncTree_,c.path,_,c.currentWriteId,c.applyLocally)),i=i.concat(Ns(n.serverSyncTree_,m,!0))}else u=!0,d="nodata",i=i.concat(Ns(n.serverSyncTree_,c.currentWriteId,!0))}Yn(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}jg(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)kc(r[a]);Vg(n,n.transactionQueueTree_)}(n,tV(n,t),r),r}function eV(n,e){let t,r=n.transactionQueueTree_;for(t=ae(e);null!==t&&void 0===Ko(r);)r=Og(r,t),t=ae(e=Fe(e));return r}function tV(n,e){const t=[];return nV(n,e,t),t.sort((r,i)=>r.order-i.order),t}function nV(n,e,t){const r=Ko(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);Fg(e,i=>{nV(n,i,t)})}function jg(n,e){const t=Ko(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,$0(e,t.length>0?t:void 0)}Fg(e,r=>{jg(n,r)})}function Z0(n,e){const t=Ko(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(D(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Ns(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?$0(e,void 0):t.length=s+1,Yn(n.eventQueue_,fd(e),i);for(let o=0;o<r.length;o++)kc(r[o])}}const eD=function(n,e){const t=kle(n),r=t.namespace;return"firebase.com"===t.domain&&ri(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&ri("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&un("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ZC(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Te(t.pathString)}},kle=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",c=443;if("string"==typeof n){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=function xle(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(n.substring(u,d)));const h=function Mle(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):un(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));l=e.indexOf(":"),l>=0?(o="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const f=e.slice(0,l);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class iV{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Rt(this.snapshot.exportVal())}}class sV{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class tD{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Xn{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ce(this._path)?null:o0(this._path)}get ref(){return new Pr(this._repo,this._path)}get _queryIdentifier(){const e=uU(this._queryParams),t=XC(e);return"{}"===t?"default":t}get _queryObject(){return uU(this._queryParams)}isEqual(e){if(!((e=Nn(e))instanceof Xn))return!1;const t=this._repo===e._repo,r=a0(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Iae(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Pr extends Xn{constructor(e,t){super(e,t,new g0,!1)}get parent(){const e=JB(this._path);return null===e?null:new Pr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Qo{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Te(e),r=Yo(this.ref,e);return new Qo(this._node.getChild(t),r,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Qo(i,Yo(this.ref,r),Ve)))}hasChild(e){const t=new Te(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function oV(n,e){return(n=Nn(n))._checkNotDeleted("ref"),void 0!==e?Yo(n._root,e):n._root}function Yo(n,e){return null===ae((n=Nn(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),q0("child","path",t,!1)):q0("child","path",e,!1),new Pr(n._repo,Ye(n._path,e));var t}function Ple(n){n=Nn(n);const e=new tD(()=>{}),t=new yd(e);return function yle(n,e,t){const r=function Yce(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(l,u)=>{const d=Dn(l,t);r=r||ks(u,d)});let i=n.syncPointTree_.get(t);i?r=r||ks(i,we()):(i=new xU,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=null!=r,o=s?new xs(r,!0,!1):null;return function Nce(n){return Tg(n.viewCache_)}(MU(i,e,Cg(n.pendingWriteTree_,e._path),s?o.getNode():te.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(i=>{const s=et(i).withIndex(e._queryParams.getIndex());let o;if(P0(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())o=ud(n.serverSyncTree_,e._path,s);else{const a=dd(n.serverSyncTree_,e);o=OU(n.serverSyncTree_,e._path,s,a)}return Yn(n.eventQueue_,e._path,o),Rg(n.serverSyncTree_,e,t,null,!0),s},i=>(Vc(n,"get for query "+Rt(e)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,t).then(r=>new Qo(r,new Pr(n._repo,n._path),n._queryParams.getIndex()))}class yd{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new iV("value",this,new Qo(e.snapshotNode,new Pr(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new sV(this,e,t):null}matches(e){return e instanceof yd&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}(function Lce(n){D(!xg,"__referenceConstructor has already been defined"),xg=n})(Pr),function Hce(n){D(!kg,"__referenceConstructor has already been defined"),kg=n}(Pr);const nD={};function qle(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||ri("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ut("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c,l,o=eD(s,i),a=o.repoInfo;"undefined"!=typeof process&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=eD(s,i),a=o.repoInfo):c=!o.repoInfo.secure;const u=i&&c?new Ju(Ju.OWNER):new Joe(n.name,n.options,e);(function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Lg(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$U(n)}(t))throw new Error(xu(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",o),ce(o.path)||ri("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Qle(n,e,t,r){let i=nD[e.name];i||(i={},nD[e.name]=i);let s=i[n.toURLString()];return s&&ri("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new gle(n,false,t,r),i[n.toURLString()]=s,s}(a,n,u,new Xoe(n.name,t));return new Xle(d,n)}class Xle{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function mle(n,e,t){if(n.stats_=n0(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new bg(n.repoInfo_,(r,i,s,o)=>{YU(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>XU(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Rt(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Go(n.repoInfo_,e,(r,i,s,o)=>{YU(n,r,i,s,o)},r=>{XU(n,r)},r=>{!function _le(n,e){Vt(e,(t,r)=>{K0(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function tae(n,e){const t=n.toString();return t0[t]||(t0[t]=e()),t0[t]}(n.repoInfo_,()=>new tce(n.stats_,n.server_)),n.infoData_=new Yae,n.infoSyncTree_=new PU({startListening:(r,i,s,o)=>{let a=[];const c=n.infoData_.getNode(r._path);return c.isEmpty()||(a=ud(n.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),K0(n,"connected",!1),n.serverSyncTree_=new PU({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,c)=>{const l=o(a,c);Yn(n.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pr(this._repo,we())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Kle(n,e){const t=nD[e];(!t||t[n.key]!==n)&&ri(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function ZU(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ri("Cannot call "+e+" on a deleted database.")}}function Jle(n=kp(),e){const t=Ao(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=fF("database");r&&function Zle(n,e,t,r={}){(n=Nn(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ri("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ri('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ju(Ju.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:gF(r.mockUserToken,n.app.options.projectId);s=new Ju(o)}!function zle(n,e,t,r){n.repoInfo_=new ZC(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r)}return t}Go.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Go.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function eue(n){(function Boe(n){KC=n})(wc),ln(new Qt("database",(e,{instanceIdentifier:t})=>qle(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Oe(pB,"0.14.4",n),Oe(pB,"0.14.4","esm2017")}();class Wg{constructor(e){return e}}const hV="database",rD=new L("angularfire2.database-instances");function sue(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Wg(r)}}const oue={provide:class rue{constructor(){return Pu(hV)}},deps:[[new De,rD]]},aue={provide:Wg,useFactory:function iue(n,e){const t=Nu(hV,n,e);return t&&new Wg(t)},deps:[[new De,rD],Es]};let cue=(()=>{class n{constructor(){Oe("angularfire",No.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({providers:[aue,oue]}),n})();function lue(n,...e){return{ngModule:cue,providers:[{provide:rD,useFactory:sue(n),multi:!0,deps:[Be,st,Up,Vp,[new De,TC],[new De,zC],...e]}]}}const uue=ei(Yo,!0),due=ei(Ple,!0),hue=ei(Jle,!0),fue=ei(oV,!0);let fV=(()=>{class n{constructor(t){this.database=t}getHeader(){const t=fue(this.database);return due(uue(t,"header"))}}return n.\u0275fac=function(t){return new(t||n)(x(Wg))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pue(n,e){if(1&n&&(B(0,"span",15),Se(1),U()),2&n){const t=e.$implicit;qn(1),Ai(t)}}function gue(n,e){if(1&n&&(B(0,"span",15),Se(1),U()),2&n){const t=e.$implicit;qn(1),Ai(t)}}let mue=(()=>{class n{constructor(t){this.service=t,this.myDetails=new eJ}ngOnInit(){this.service.getHeader().then(t=>{this.myDetails=t.val(),this.myDetails.skillArr=t.val().skills.split(","),this.myDetails.techArr=t.val().technologies.split(",")})}}return n.\u0275fac=function(t){return new(t||n)(V(fV))},n.\u0275cmp=nr({type:n,selectors:[["app-home"]],decls:38,vars:5,consts:[[1,"home-container"],[1,"header-section"],[1,"my-avatar"],[1,"my-description"],[1,"name"],[1,"headline"],[1,"description"],[1,"skills-section"],["class","skill",4,"ngFor","ngForOf"],[1,"social-universe"],[1,"spotify-playlist"],["src","https://open.spotify.com/embed/playlist/6ISGW6cNRUjbn1AWTHfACy?utm_source=generator","width","100%","height","352","frameBorder","0","allowfullscreen","","allow","autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture","loading","lazy",2,"border-radius","12px"],[1,"projects-section"],[1,"message"],[1,"message-item"],[1,"skill"]],template:function(t,r){1&t&&(B(0,"div",0),B(1,"div",1),B(2,"div",2),B(3,"mat-icon"),Se(4,"account_circle"),U(),U(),B(5,"div",3),B(6,"span",4),Se(7),U(),B(8,"span",5),Se(9),U(),B(10,"span",6),Se(11),U(),B(12,"div",7),B(13,"span"),Se(14,"Skills:"),U(),Dv(15,pue,2,1,"span",8),U(),B(16,"div",7),B(17,"span"),Se(18,"Technologies:"),U(),Dv(19,gue,2,1,"span",8),U(),U(),B(20,"div",9),B(21,"div",10),B(22,"p"),Se(23,"What I listen to:"),U(),Tr(24,"iframe",11),U(),U(),U(),B(25,"div",12),B(26,"div",13),B(27,"div",14),Se(28,"More to come; incomplete and complete projects, ideas, a blog and geeky stuff."),U(),Tr(29,"br"),B(30,"div",14),Se(31,"This web app was made possible using "),B(32,"span"),Se(33,"Firebase"),U(),Se(34," and "),B(35,"span"),Se(36,"AngularJS"),U(),Se(37,"."),U(),U(),U(),U()),2&t&&(qn(7),Ai(r.myDetails.name),qn(2),Ai(r.myDetails.headline),qn(2),Ai(r.myDetails.description),qn(4),go("ngForOf",r.myDetails.skillArr),qn(4),go("ngForOf",r.myDetails.techArr))},directives:[aF,lO],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;color:#fff;background-color:#263238;font-family:Work Sans;margin:0}html[_ngcontent-%COMP%]   app-root[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   app-root[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}[_ngcontent-%COMP%]::-webkit-scrollbar{padding:0 5px;width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f100;scroll-margin:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#192125b0;border-radius:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.sub-titles[_ngcontent-%COMP%]{color:#6ca9bc;text-transform:uppercase;font-weight:700}.home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0 100px}.home-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:start;margin-top:20px;gap:30px}.my-avatar[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;border:1px solid #3b4f58;border-radius:15px}.my-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:inherit;height:inherit;font-size:145px}.my-description[_ngcontent-%COMP%]{display:flex;flex-direction:column}.my-description[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:32px;margin-bottom:5px}.my-description[_ngcontent-%COMP%]   .headline[_ngcontent-%COMP%]{font-size:21px;margin-bottom:30px;font-family:Work Sans;font-weight:300;font-style:italic}.my-description[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{border:1px solid #3b4f58;font-weight:100;line-height:25px;padding:20px;border-radius:20px;font-size:18px}.my-description[_ngcontent-%COMP%]   .skills-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;margin-top:10px}.my-description[_ngcontent-%COMP%]   .skills-section[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{display:inline-flex;height:32px;justify-content:center;align-items:center;flex-shrink:0;padding:0 10px;background-color:#ffca28;color:#263238;border-radius:8px;box-shadow:0 1px 3px 1px #25323926,0 1px 2px #2532394d}.projects-section[_ngcontent-%COMP%]{width:100%;margin-top:30px;display:flex;flex-direction:column;justify-self:center;align-items:center}.projects-section[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{width:30%;padding:40px;margin:70px;border:1px solid #ffca28;border-radius:15px;color:#fff;font-size:large;text-align:center}.projects-section[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffca28}.spotify-playlist[_ngcontent-%COMP%]{width:300px;margin-bottom:20px}"]}),n})();class Or extends Ur{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function pV(n,e,t){n?vi(t,n,e):e()}const zg=Ot(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function iD(...n){return function vue(){return Al(1)}()(zt(n,xl(n)))}function gV(n){return new ke(e=>{mr(n()).subscribe(e)})}function mV(){return vt((n,e)=>{let t=null;n._refCount++;const r=new nt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class bue extends ke{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Gx(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xn;const t=this.getSubject();e.add(this.source.subscribe(new nt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xn.EMPTY)}return e}refCount(){return mV()(this)}}function Qi(n,e){return vt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(new nt(r,c=>{null==i||i.unsubscribe();let l=0;const u=s++;mr(n(c,u)).subscribe(i=new nt(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function _V(...n){const e=xl(n);return vt((t,r)=>{(e?iD(n,t,e):iD(n,t)).subscribe(r)})}function wue(n,e,t,r,i){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(new nt(o,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function yV(n,e){return vt(wue(n,e,arguments.length>=2,!0))}function sD(n){return n<=0?()=>bi:vt((e,t)=>{let r=[];e.subscribe(new nt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function vV(n=Eue){return vt((e,t)=>{let r=!1;e.subscribe(new nt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Eue(){return new zg}function bV(n){return vt((e,t)=>{let r=!1;e.subscribe(new nt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Hc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fi((i,s)=>n(i,s,r)):os,Ml(1),t?bV(e):vV(()=>new zg))}class Yi{constructor(e,t){this.id=e,this.url=t}}class oD extends Yi{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bd extends Yi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wV extends Yi{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tue extends Yi{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cue extends Yi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Due extends Yi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sue extends Yi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Aue extends Yi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xue extends Yi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EV{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class IV{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mue{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kue{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rue{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TV{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CV{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const de="primary";class Nue{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function $c(n){return new Nue(n)}const DV="ngNavigationCancelingError";function aD(n){const e=Error("NavigationCancelingError: "+n);return e[DV]=!0,e}function Oue(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ai(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!SV(n[i],e[i]))return!1;return!0}function SV(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function AV(n){return Array.prototype.concat.apply([],n)}function xV(n){return n.length>0?n[n.length-1]:null}function Jt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ci(n){return mN(n)?n:Bf(n)?zt(Promise.resolve(n)):W(n)}const Bue={exact:function RV(n,e,t){if(!Jo(n.segments,e.segments)||!qg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!RV(n.children[r],e.children[r],t))return!1;return!0},subset:NV},MV={exact:function Uue(n,e){return ai(n,e)},subset:function Vue(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>SV(n[t],e[t]))},ignored:()=>!0};function kV(n,e,t){return Bue[t.paths](n.root,e.root,t.matrixParams)&&MV[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function NV(n,e,t){return PV(n,e,e.segments,t)}function PV(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Jo(i,t)||e.hasChildren()||!qg(i,t,r))}if(n.segments.length===t.length){if(!Jo(n.segments,t)||!qg(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!NV(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Jo(n.segments,i)&&qg(n.segments,i,r)&&n.children[de])&&PV(n.children[de],e,s,r)}}function qg(n,e,t){return e.every((r,i)=>MV[t](n[i].parameters,r.parameters))}class Xo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$c(this.queryParams)),this._queryParamMap}toString(){return $ue.serialize(this)}}class ge{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Jt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kg(this)}}class wd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=$c(this.parameters)),this._parameterMap}toString(){return UV(this)}}function Jo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class OV{}class FV{parse(e){const t=new Jue(e);return new Xo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ed(e.root,!0)}`,r=function zue(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Qg(t)}=${Qg(i)}`).join("&"):`${Qg(t)}=${Qg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Gue(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const $ue=new FV;function Kg(n){return n.segments.map(e=>UV(e)).join("/")}function Ed(n,e){if(!n.hasChildren())return Kg(n);if(e){const t=n.children[de]?Ed(n.children[de],!1):"",r=[];return Jt(n.children,(i,s)=>{s!==de&&r.push(`${s}:${Ed(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Hue(n,e){let t=[];return Jt(n.children,(r,i)=>{i===de&&(t=t.concat(e(r,i)))}),Jt(n.children,(r,i)=>{i!==de&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===de?[Ed(n.children[de],!1)]:[`${i}:${Ed(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[de]?`${Kg(n)}/${t[0]}`:`${Kg(n)}/(${t.join("//")})`}}function LV(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qg(n){return LV(n).replace(/%3B/gi,";")}function cD(n){return LV(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yg(n){return decodeURIComponent(n)}function BV(n){return Yg(n.replace(/\+/g,"%20"))}function UV(n){return`${cD(n.path)}${function Wue(n){return Object.keys(n).map(e=>`;${cD(e)}=${cD(n[e])}`).join("")}(n.parameters)}`}const que=/^[^\/()?;=#]+/;function Xg(n){const e=n.match(que);return e?e[0]:""}const Kue=/^[^=?&#]+/,Yue=/^[^&#]+/;class Jue{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[de]=new ge(e,t)),r}parseSegment(){const e=Xg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new wd(Yg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Xg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Xg(this.remaining);i&&(r=i,this.capture(r))}e[Yg(t)]=Yg(r)}parseQueryParam(e){const t=function Que(n){const e=n.match(Kue);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Xue(n){const e=n.match(Yue);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=BV(t),s=BV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=de);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[de]:new ge([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class VV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=lD(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=lD(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=uD(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return uD(e,this._root).map(t=>t.value)}}function lD(n,e){if(n===e.value)return e;for(const t of e.children){const r=lD(n,t);if(r)return r}return null}function uD(n,e){if(n===e.value)return[e];for(const t of e.children){const r=uD(n,t);if(r.length)return r.unshift(e),r}return[]}class Xi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Gc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class jV extends VV{constructor(e,t){super(e),this.snapshot=t,dD(this,e)}toString(){return this.snapshot.toString()}}function HV(n,e){const t=function Zue(n,e){const o=new Jg([],{},{},"",{},de,e,null,n.root,-1,{});return new GV("",new Xi(o,[]))}(n,e),r=new Or([new wd("",{})]),i=new Or({}),s=new Or({}),o=new Or({}),a=new Or(""),c=new Wc(r,i,o,a,s,de,e,t.root);return c.snapshot=t.root,new jV(new Xi(c,[]),t)}class Wc{constructor(e,t,r,i,s,o,a,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(e=>$c(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(e=>$c(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $V(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function ede(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Jg{constructor(e,t,r,i,s,o,a,c,l,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$c(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$c(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GV extends VV{constructor(e,t){super(t),this.url=e,dD(this,t)}toString(){return WV(this._root)}}function dD(n,e){e.value._routerState=n,e.children.forEach(t=>dD(n,t))}function WV(n){const e=n.children.length>0?` { ${n.children.map(WV).join(", ")} } `:"";return`${n.value}${e}`}function hD(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ai(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ai(e.params,t.params)||n.params.next(t.params),function Fue(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ai(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ai(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fD(n,e){const t=ai(n.params,e.params)&&function jue(n,e){return Jo(n,e)&&n.every((t,r)=>ai(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||fD(n.parent,e.parent))}function Id(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function nde(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Id(n,r,i);return Id(n,r)})}(n,e,t);return new Xi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Id(n,a)),o}}const r=function rde(n){return new Wc(new Or(n.url),new Or(n.params),new Or(n.queryParams),new Or(n.fragment),new Or(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Id(n,s));return new Xi(r,i)}}function Zg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Td(n){return"object"==typeof n&&null!=n&&n.outlets}function pD(n,e,t,r,i){let s={};return r&&Jt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(c=>`${c}`):`${o}`}),new Xo(t.root===n?e:zV(t.root,n,e),s,i)}function zV(n,e,t){const r={};return Jt(n.children,(i,s)=>{r[s]=i===e?t:zV(i,e,t)}),new ge(n.segments,r)}class qV{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Zg(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Td);if(i&&i!==xV(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gD{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function KV(n,e,t){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return em(n,e,t);const r=function lde(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Td(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!YV(c,l,o))return s;r+=2}else{if(!YV(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ge(n.segments.slice(0,r.pathIndex),{});return s.children[de]=new ge(n.segments.slice(r.pathIndex),n.children),em(s,0,i)}return r.match&&0===i.length?new ge(n.segments,{}):r.match&&!n.hasChildren()?mD(n,e,t):r.match?em(n,0,i):mD(n,e,t)}function em(n,e,t){if(0===t.length)return new ge(n.segments,{});{const r=function cde(n){return Td(n[0])?n[0].outlets:{[de]:n}}(t),i={};return Jt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=KV(n.children[o],e,s))}),Jt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ge(n.segments,i)}}function mD(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Td(s)){const c=ude(s.outlets);return new ge(r,c)}if(0===i&&Zg(t[0])){r.push(new wd(n.segments[e].path,QV(t[0]))),i++;continue}const o=Td(s)?s.outlets[de]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Zg(a)?(r.push(new wd(o,QV(a))),i+=2):(r.push(new wd(o,{})),i++)}return new ge(r,{})}function ude(n){const e={};return Jt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=mD(new ge([],{}),0,t))}),e}function QV(n){const e={};return Jt(n,(t,r)=>e[r]=`${t}`),e}function YV(n,e,t){return n==t.path&&ai(e,t.parameters)}class hde{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),hD(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Gc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Jt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Gc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Gc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Gc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new TV(s.value.snapshot))}),e.children.length&&this.forwardEvent(new kue(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(hD(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hD(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function fde(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),c=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=c,o.outlet&&o.outlet.activateWith(i,c),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class _D{constructor(e,t){this.routes=e,this.module=t}}function Fs(n){return"function"==typeof n}function Zo(n){return n instanceof Xo}const Cd=Symbol("INITIAL_VALUE");function Dd(){return Qi(n=>function _ue(...n){const e=xl(n),t=iM(n),{args:r,keys:i}=WO(n);if(0===r.length)return zt([],e);const s=new ke(function yue(n,e,t=os){return r=>{pV(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)pV(e,()=>{const l=zt(n[c],e);let u=!1;l.subscribe(new nt(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>qO(i,o):os));return t?s.pipe(zO(t)):s}(n.map(e=>e.pipe(Ml(1),_V(Cd)))).pipe(yV((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Cd?i:(s===Cd&&(r=!0),r||!1!==s&&o!==t.length-1&&!Zo(s)?i:s),e)},Cd),Fi(e=>e!==Cd),pe(e=>Zo(e)?e:!0===e),Ml(1)))}class vde{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Sd,this.attachRef=null}}class Sd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new vde,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let yD=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new In,this.deactivateEvents=new In,this.attachEvents=new In,this.detachEvents=new In,this.name=s||de,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,c=new bde(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,c),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(V(Sd),V(Sr),V(_o),Pa("name"),V(_b))},n.\u0275dir=rn({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class bde{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Wc?this.route:e===Sd?this.childContexts:this.parent.get(e,t)}}let vD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nr({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Tr(0,"router-outlet")},directives:[yD],encapsulation:2}),n})();function XV(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];wde(r,Ede(e,r))}}function wde(n,e){n.children&&XV(n.children,e)}function Ede(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function bD(n){const e=n.children&&n.children.map(bD),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==de&&(t.component=vD),t}function pr(n){return n.outlet||de}function JV(n,e){const t=n.filter(r=>pr(r)===e);return t.push(...n.filter(r=>pr(r)!==e)),t}const ZV={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function tm(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},ZV):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Oue)(t,n,e);if(!s)return Object.assign({},ZV);const o={};Jt(s.posParams,(c,l)=>{o[l]=c.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function nm(n,e,t,r,i="corrected"){if(t.length>0&&function Cde(n,e,t){return t.some(r=>rm(n,e,r)&&pr(r)!==de)}(n,t,r)){const o=new ge(e,function Tde(n,e,t,r){const i={};i[de]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&pr(s)!==de){const o=new ge([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[pr(s)]=o}return i}(n,e,r,new ge(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function Dde(n,e,t){return t.some(r=>rm(n,e,r))}(n,t,r)){const o=new ge(n.segments,function Ide(n,e,t,r,i,s){const o={};for(const a of r)if(rm(n,t,a)&&!i[pr(a)]){const c=new ge([],{});c._sourceSegment=n,c._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[pr(a)]=c}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new ge(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function rm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ej(n,e,t,r){return!!(pr(n)===r||r!==de&&rm(e,t,n))&&("**"===n.path||tm(e,n,t).matched)}function tj(n,e,t){return 0===e.length&&!n.children[t]}class Ad{constructor(e){this.segmentGroup=e||null}}class nj{constructor(e){this.urlTree=e}}function im(n){return new ke(e=>e.error(new Ad(n)))}function rj(n){return new ke(e=>e.error(new nj(n)))}function Sde(n){return new ke(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Mde{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Mi)}apply(){const e=nm(this.urlTree.root,[],[],this.config).segmentGroup,t=new ge(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,de).pipe(pe(s=>this.createUrlTree(wD(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oi(s=>{if(s instanceof nj)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ad?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,de).pipe(pe(i=>this.createUrlTree(wD(i),e.queryParams,e.fragment))).pipe(Oi(i=>{throw i instanceof Ad?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new ge([],{[de]:e}):e;return new Xo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(pe(s=>new ge([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return zt(i).pipe(_c(s=>{const o=r.children[s],a=JV(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(pe(c=>({segment:c,outlet:s})))}),yV((s,o)=>(s[o.outlet]=o.segment,s),{}),function Iue(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fi((i,s)=>n(i,s,r)):os,sD(1),t?bV(e):vV(()=>new zg))}())}expandSegment(e,t,r,i,s,o){return zt(r).pipe(_c(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Oi(l=>{if(l instanceof Ad)return W(null);throw l}))),Hc(a=>!!a),Oi((a,c)=>{if(a instanceof zg||"EmptyError"===a.name){if(tj(t,i,s))return W(new ge([],{}));throw new Ad(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return ej(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):im(t):im(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rj(s):this.lineralizeSegments(r,s).pipe(St(o=>{const a=new ge(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:c,lastChild:l,positionalParamSegments:u}=tm(t,i,s);if(!a)return im(t);const d=this.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?rj(d):this.lineralizeSegments(i,d).pipe(St(h=>this.expandSegment(e,t,r,h.concat(s.slice(l)),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?W(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(pe(h=>(r._loadedConfig=h,new ge(i,{})))):W(new ge(i,{}));const{matched:o,consumedSegments:a,lastChild:c}=tm(t,r,i);if(!o)return im(t);const l=i.slice(c);return this.getChildConfig(e,r,i).pipe(St(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:g}=nm(t,a,l,f),m=new ge(p.segments,p.children);if(0===g.length&&m.hasChildren())return this.expandChildren(h,f,m).pipe(pe(N=>new ge(a,N)));if(0===f.length&&0===g.length)return W(new ge(a,{}));const y=pr(r)===s;return this.expandSegment(h,m,f,g,y?de:s,!0).pipe(pe(E=>new ge(a.concat(E.segments),E.children)))}))}getChildConfig(e,t,r){return t.children?W(new _D(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?W(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(St(i=>i?this.configLoader.load(e.injector,t).pipe(pe(s=>(t._loadedConfig=s,s))):function Ade(n){return new ke(e=>e.error(aD(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):W(new _D([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;if(!i||0===i.length)return W(!0);const s=i.map(o=>{const a=e.get(o);let c;if(function gde(n){return n&&Fs(n.canLoad)}(a))c=a.canLoad(t,r);else{if(!Fs(a))throw new Error("Invalid CanLoad guard");c=a(t,r)}return ci(c)});return W(s).pipe(Dd(),qt(o=>{if(!Zo(o))return;const a=aD(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),pe(o=>!0===o))}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[de])return Sde(e.redirectTo);i=i.children[de]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Xo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Jt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Jt(t.children,(a,c)=>{o[c]=this.createSegmentGroup(e,a,r,i)}),new ge(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function wD(n){const e={};for(const r of Object.keys(n.children)){const s=wD(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function kde(n){if(1===n.numberOfChildren&&n.children[de]){const e=n.children[de];return new ge(n.segments.concat(e.segments),e.children)}return n}(new ge(n.segments,e))}class ij{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sm{constructor(e,t){this.component=e,this.route=t}}function Nde(n,e,t){const r=n._root;return xd(r,e?e._root:null,t,[r.value])}function om(n,e,t){const r=function Ode(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function xd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Gc(e);return n.children.forEach(o=>{(function Fde(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function Lde(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Jo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Jo(n.url,e.url)||!ai(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fD(n,e)||!ai(n.queryParams,e.queryParams);default:return!fD(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ij(r)):(s.data=o.data,s._resolvedData=o._resolvedData),xd(n,e,s.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new sm(a.outlet.component,o))}else o&&Md(e,a,i),i.canActivateChecks.push(new ij(r)),xd(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Jt(s,(o,a)=>Md(o,t.getContext(a),i)),i}function Md(n,e,t){const r=Gc(n),i=n.value;Jt(r,(s,o)=>{Md(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new sm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class zde{}function sj(n){return new ke(e=>e.error(n))}class Kde{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=nm(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,de);if(null===t)return null;const r=new Jg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},de,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Xi(r,t),s=new GV(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=$V(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=JV(e,s),c=this.processSegmentGroup(a,o,s);if(null===c)return null;r.push(...c)}const i=oj(r);return function Qde(n){n.sort((e,t)=>e.value.outlet===de?-1:t.value.outlet===de?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return tj(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!ej(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?xV(r).parameters:{};s=new Jg(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lj(e),pr(e),e.component,e,aj(t),cj(t)+r.length,uj(e))}else{const f=tm(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new Jg(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lj(e),pr(e),e.component,e,aj(t),cj(t)+o.length,uj(e))}const c=function Yde(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:u}=nm(t,o,a,c.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const f=this.processChildren(c,l);return null===f?null:[new Xi(s,f)]}if(0===c.length&&0===u.length)return[new Xi(s,[])];const d=pr(e)===i,h=this.processSegment(c,l,u,d?de:i);return null===h?null:[new Xi(s,h)]}}function Xde(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function oj(n){const e=[],t=new Set;for(const r of n){if(!Xde(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=oj(r.children);e.push(new Xi(r.value,i))}return e.filter(r=>!t.has(r))}function aj(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function cj(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function lj(n){return n.data||{}}function uj(n){return n.resolve||{}}function ED(n){return Qi(e=>{const t=n(e);return t?zt(t).pipe(pe(()=>e)):W(e)})}class she extends class ihe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ID=new L("ROUTES");class dj{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(pe(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new _D(AV(o.injector.get(ID,void 0,ee.Self|ee.Optional)).map(bD),o)}),Oi(s=>{throw t._loader$=void 0,s}));return t._loader$=new bue(i,()=>new Ur).pipe(mV()),t._loader$}loadModuleFactory(e){return ci(e()).pipe(St(t=>t instanceof HP?W(t):zt(this.compiler.compileModuleAsync(t))))}}class ahe{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function che(n){throw n}function lhe(n,e,t){return e.parse("/")}function hj(n,e){return W(null)}const uhe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dhe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ln=(()=>{class n{constructor(t,r,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ur,this.errorHandler=che,this.malformedUriErrorHandler=lhe,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hj,afterPreactivation:hj},this.urlHandlingStrategy=new ahe,this.routeReuseStrategy=new she,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Mi),this.console=o.get(C1);const d=o.get(Be);this.isNgZoneEnabled=d instanceof Be&&Be.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function Lue(){return new Xo(new ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new dj(o,a,h=>this.triggerEvent(new EV(h)),h=>this.triggerEvent(new IV(h))),this.routerState=HV(this.currentUrlTree,this.rootComponentType),this.transitions=new Or({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Fi(i=>0!==i.id),pe(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Qi(i=>{let s=!1,o=!1;return W(i).pipe(qt(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qi(a=>{const c=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return am(a.source)&&(this.browserUrlTree=a.extractedUrl),W(a).pipe(Qi(d=>{const h=this.transitions.getValue();return r.next(new oD(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?bi:Promise.resolve(d)}),function Rde(n,e,t,r){return Qi(i=>function xde(n,e,t,r,i){return new Mde(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(pe(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),qt(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function Jde(n,e,t,r,i){return St(s=>function qde(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new Kde(n,e,t,r,i,s).recognize();return null===o?sj(new zde):W(o)}catch(o){return sj(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(pe(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),qt(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new Cue(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,y=new oD(h,this.serializeUrl(f),p,g);r.next(y);const _=HV(f,this.rootComponentType).snapshot;return W(Object.assign(Object.assign({},a),{targetSnapshot:_,urlAfterRedirects:f,extras:Object.assign(Object.assign({},m),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),bi}),ED(a=>{const{targetSnapshot:c,id:l,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(c,{navigationId:l,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),qt(a=>{const c=new Due(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),pe(a=>Object.assign(Object.assign({},a),{guards:Nde(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function Bde(n,e){return St(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?W(Object.assign(Object.assign({},t),{guardsResult:!0})):function Ude(n,e,t,r){return zt(n).pipe(St(i=>function Wde(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const c=om(a,e,i);let l;if(function yde(n){return n&&Fs(n.canDeactivate)}(c))l=ci(c.canDeactivate(n,e,t,r));else{if(!Fs(c))throw new Error("Invalid CanDeactivate guard");l=ci(c(n,e,t,r))}return l.pipe(Hc())})).pipe(Dd()):W(!0)}(i.component,i.route,t,e,r)),Hc(i=>!0!==i,!0))}(o,r,i,n).pipe(St(a=>a&&function pde(n){return"boolean"==typeof n}(a)?function Vde(n,e,t,r){return zt(e).pipe(_c(i=>iD(function Hde(n,e){return null!==n&&e&&e(new Mue(n)),W(!0)}(i.route.parent,r),function jde(n,e){return null!==n&&e&&e(new Rue(n)),W(!0)}(i.route,r),function Gde(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Pde(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>gV(()=>W(o.guards.map(c=>{const l=om(c,o.node,t);let u;if(function _de(n){return n&&Fs(n.canActivateChild)}(l))u=ci(l.canActivateChild(r,n));else{if(!Fs(l))throw new Error("Invalid CanActivateChild guard");u=ci(l(r,n))}return u.pipe(Hc())})).pipe(Dd())));return W(s).pipe(Dd())}(n,i.path,t),function $de(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(s=>gV(()=>{const o=om(s,e,t);let a;if(function mde(n){return n&&Fs(n.canActivate)}(o))a=ci(o.canActivate(e,n));else{if(!Fs(o))throw new Error("Invalid CanActivate guard");a=ci(o(e,n))}return a.pipe(Hc())}));return W(i).pipe(Dd())}(n,i.route,t))),Hc(i=>!0!==i,!0))}(r,s,n,e):W(a)),pe(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),qt(a=>{if(Zo(a.guardsResult)){const l=aD(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const c=new Sue(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),Fi(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),ED(a=>{if(a.guards.canActivateChecks.length)return W(a).pipe(qt(c=>{const l=new Aue(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(l)}),Qi(c=>{let l=!1;return W(c).pipe(function Zde(n,e){return St(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let s=0;return zt(i).pipe(_c(o=>function ehe(n,e,t,r){return function the(n,e,t,r){const i=Object.keys(n);if(0===i.length)return W({});const s={};return zt(i).pipe(St(o=>function nhe(n,e,t,r){const i=om(n,e,r);return ci(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(qt(a=>{s[o]=a}))),sD(1),St(()=>Object.keys(s).length===i.length?W(s):bi))}(n._resolve,n,e,r).pipe(pe(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),$V(n,t).resolve),null)))}(o.route,r,n,e)),qt(()=>s++),sD(1),St(o=>s===i.length?W(t):bi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),qt({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),qt(c=>{const l=new xue(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(l)}))}),ED(a=>{const{targetSnapshot:c,id:l,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(c,{navigationId:l,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),pe(a=>{const c=function tde(n,e,t){const r=Id(n,e._root,t?t._root:void 0);return new jV(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:c})}),qt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>pe(r=>(new hde(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),qt({next(){s=!0},complete(){s=!0}}),KO(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Oi(a=>{if(o=!0,function Pue(n){return n&&n[DV]}(a)){const c=Zo(a.url);c||(this.navigated=!0,this.restoreHistory(i,!0));const l=new wV(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(l),c?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||am(i.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new Tue(i.id,this.serializeUrl(i.extractedUrl),a);r.next(c);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return bi}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const c=Object.assign({},o);delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){XV(t),this.config=t.map(bD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=i||this.routerState.root,u=c?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function ide(n,e,t,r,i){if(0===t.length)return pD(e.root,e.root,e,r,i);const s=function sde(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qV(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Jt(s.outlets,(c,l)=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new qV(t,e,r)}(t);if(s.toRoot())return pD(e.root,new ge([],{}),e,r,i);const o=function ode(n,e,t){if(n.isAbsolute)return new gD(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new gD(s,s===e.root,0)}const r=Zg(n.commands[0])?0:1;return function ade(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new gD(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?em(o.segmentGroup,o.index,s.commands):KV(o.segmentGroup,o.index,s.commands);return pD(o.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Zo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function hhe(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},uhe):!1===r?Object.assign({},dhe):r,Zo(t))return kV(this.currentUrlTree,t,i);const s=this.parseUrl(t);return kV(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new bd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,c,l;if(this.disposed)return Promise.resolve(!1);const u=this.transitions.value,d=am(r)&&u&&!am(u.source),h=u.rawUrl.toString()===t.toString(),f=u.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let g,m,y;o?(g=o.resolve,m=o.reject,y=o.promise):y=new Promise((N,$)=>{g=N,m=$});const _=++this.navigationId;let E;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),E=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(c=this.browserPageId)&&void 0!==c?c:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):E=0,this.setTransition({id:_,targetPageId:E,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:g,reject:m,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(N=>Promise.reject(N))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new wV(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){kv()},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();function am(n){return"imperative"!==n}let TD=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Ur,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:zc(this.skipLocationChange),replaceUrl:zc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(V(Ln),V(Wc),Pa("tabindex"),V(zf),V(xi))},n.\u0275dir=rn({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&Uf("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[lo]}),n})(),cm=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Ur,this.subscription=t.events.subscribe(s=>{s instanceof bd&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){if(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:zc(this.skipLocationChange),replaceUrl:zc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(V(Ln),V(Wc),V(gc))},n.\u0275dir=rn({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&Uf("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Ff("target",r.target)("href",r.href,Tf)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[lo]}),n})();function zc(n){return""===n||!!n}let fj=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new In,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof bd&&this.update()})}ngAfterContentInit(){W(this.links.changes,this.linksWithHrefs.changes,W(null)).pipe(Al()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=zt(r).pipe(Al()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function fhe(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(V(Ln),V(xi),V(zf),V(_b),V(TD,8),V(cm,8))},n.\u0275dir=rn({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(rb(i,TD,5),rb(i,cm,5)),2&t){let s;nb(s=ib())&&(r.links=s),nb(s=ib())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[lo]}),n})();class pj{}class gj{preload(e,t){return W(null)}}let mj=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new dj(i,r,c=>t.triggerEvent(new EV(c)),c=>t.triggerEvent(new IV(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(Fi(t=>t instanceof bd),_c(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Mi);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return zt(i).pipe(Al(),pe(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?W(r._loadedConfig):this.loader.load(t.injector,r)).pipe(St(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(x(Ln),x(Jf),x(st),x(pj))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),CD=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof oD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof CV&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new CV(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){kv()},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const ea=new L("ROUTER_CONFIGURATION"),_j=new L("ROUTER_FORROOT_GUARD"),ghe=[Ib,{provide:OV,useClass:FV},{provide:Ln,useFactory:function bhe(n,e,t,r,i,s,o={},a,c){const l=new Ln(null,n,e,t,r,i,AV(s));return a&&(l.urlHandlingStrategy=a),c&&(l.routeReuseStrategy=c),function whe(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,l),o.enableTracing&&l.events.subscribe(u=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(h=console.groupEnd)||void 0===h||h.call(console)}),l},deps:[OV,Sd,Ib,st,Jf,ID,ea,[class ohe{},new De],[class rhe{},new De]]},Sd,{provide:Wc,useFactory:function Ehe(n){return n.routerState.root},deps:[Ln]},mj,gj,class phe{preload(e,t){return t().pipe(Oi(()=>W(null)))}},{provide:ea,useValue:{enableTracing:!1}}];function mhe(){return new k1("Router",Ln)}let yj=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[ghe,vj(t),{provide:_j,useFactory:vhe,deps:[[Ln,new De,new uo]]},{provide:ea,useValue:r||{}},{provide:gc,useFactory:yhe,deps:[bo,[new zl(tp),new De],ea]},{provide:CD,useFactory:_he,deps:[Ln,zQ,ea]},{provide:pj,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:gj},{provide:k1,multi:!0,useFactory:mhe},[DD,{provide:pu,multi:!0,useFactory:Ihe,deps:[DD]},{provide:bj,useFactory:The,deps:[DD]},{provide:T1,multi:!0,useExisting:bj}]]}}static forChild(t){return{ngModule:n,providers:[vj(t)]}}}return n.\u0275fac=function(t){return new(t||n)(x(_j,8),x(Ln,8))},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({}),n})();function _he(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new CD(n,e,t)}function yhe(n,e,t={}){return t.useHash?new CK(n,e):new Z1(n,e)}function vhe(n){return"guarded"}function vj(n){return[{provide:q3,multi:!0,useValue:n},{provide:ID,multi:!0,useValue:n}]}let DD=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ur}appInitializer(){return this.injector.get(EK,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Ln),o=this.injector.get(ea);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?W(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ea),i=this.injector.get(mj),s=this.injector.get(CD),o=this.injector.get(Ln),a=this.injector.get(mu);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(x(st))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();function Ihe(n){return n.appInitializer.bind(n)}function The(n){return n.bootstrapListener.bind(n)}const bj=new L("Router Initializer"),Dhe=[{path:"",component:mue},{path:"contacts",component:ZX},{path:"about",component:JX},{path:"portfolio",component:XX},{path:"**",component:YX}];let She=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({imports:[[yj.forRoot(Dhe)],yj]}),n})();const Ahe=function(){return["/"]};let xhe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nr({type:n,selectors:[["app-navbar"]],inputs:{headerData:"headerData"},decls:3,vars:2,consts:[[1,"navbar-container"],["routerLinkActive","active",1,"link-button","sub-titles",3,"routerLink"]],template:function(t,r){1&t&&(B(0,"nav",0),B(1,"a",1),Se(2,"Home"),U(),U()),2&t&&(qn(1),go("routerLink",zP(1,Ahe)))},directives:[cm,fj],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;color:#fff;background-color:#263238;font-family:Work Sans;margin:0}html[_ngcontent-%COMP%]   app-root[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   app-root[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}[_ngcontent-%COMP%]::-webkit-scrollbar{padding:0 5px;width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f100;scroll-margin:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#192125b0;border-radius:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.sub-titles[_ngcontent-%COMP%]{color:#6ca9bc;text-transform:uppercase;font-weight:700}.navbar-container[_ngcontent-%COMP%]{text-align:center;background-color:#263238;margin:0;padding:20px;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:30px}.navbar-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{list-style:none}.link-button[_ngcontent-%COMP%]{text-decoration:none;transition:.5s;color:#6ca9bc;text-transform:uppercase;font-weight:700}.link-button[_ngcontent-%COMP%]:hover, .active[_ngcontent-%COMP%]{padding:5px;color:#fff;border-bottom:3px solid #ffca28}a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})(),Mhe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nr({type:n,selectors:[["app-footer"]],inputs:{myDetails:"myDetails"},decls:42,vars:3,consts:[[1,"footer"],[1,"follow-me"],[1,"social-title","sub-titles"],[1,"social-links"],["target","_blank","href","https://linkedin.com/in/benard-mathu"],["src","assets/images/linkedin.svg","alt","LinkedIn",1,"social-icons"],["target","_blank","href","https://twitter.com/beniemathu"],["src","assets/images/twitter.svg","alt","Twitter",1,"social-icons"],["target","_blank","href","https://instagram.com/benard.mathu?igshid=ZDdkNTZiNTM="],["src","assets/images/instagram.svg","alt","Instagram",1,"social-icons"],["target","_blank","href","https://github.com/ben-mathu"],["src","assets/images/github.svg","width","30","height","30","alt","Github: ben-mathu",1,"social-icons"],[1,"links"],[1,"information","link-sections"],[1,"info-title","sub-titles"],[1,"info-links"],["target","_blank",3,"href"],["href","#"]],template:function(t,r){1&t&&(B(0,"div",0),B(1,"div",1),B(2,"div",2),Se(3,"Follow Me"),U(),B(4,"div",3),B(5,"ul"),B(6,"li"),B(7,"a",4),Tr(8,"img",5),U(),U(),B(9,"li"),B(10,"a",6),Tr(11,"img",7),U(),U(),B(12,"li"),B(13,"a",8),Tr(14,"img",9),U(),U(),B(15,"li"),B(16,"a",10),Tr(17,"img",11),U(),U(),U(),U(),U(),B(18,"div",12),B(19,"div",13),B(20,"div",14),Se(21,"Information"),U(),B(22,"div",15),B(23,"ul"),B(24,"li"),B(25,"a",16),B(26,"mat-icon"),Se(27,"description"),U(),B(28,"span"),Se(29,"CV"),U(),U(),U(),B(30,"li"),B(31,"a",17),B(32,"mat-icon"),Se(33,"phone"),U(),B(34,"span"),Se(35),U(),U(),U(),B(36,"li"),B(37,"a",17),B(38,"mat-icon"),Se(39,"email"),U(),B(40,"span"),Se(41),U(),U(),U(),U(),U(),U(),U(),U()),2&t&&(qn(25),Pv("href",r.myDetails.cv_url,Tf),qn(10),Ai(r.myDetails.phone),qn(6),Ai(r.myDetails.email))},directives:[aF],styles:[".footer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;background-image:url(footer_background.d1ed5fbbbb3ad3db.svg);background-repeat:no-repeat;background-size:cover}.footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-left:auto}.footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .link-sections[_ngcontent-%COMP%]{margin:30px}.info-links[_ngcontent-%COMP%]{width:270px}.info-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;border:1px solid #3b4f58;border-radius:10px}.info-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;align-items:center;gap:10px;text-decoration:none;color:#fff;font-weight:700}.info-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6ca9bc}.follow-me[_ngcontent-%COMP%]{margin:30px}ul[_ngcontent-%COMP%]{padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:5px}.social-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}.social-icons[_ngcontent-%COMP%]{width:15px;height:15px;padding:8px;background-color:#1e272c;border-radius:5px;text-decoration:none}"]}),n})(),khe=(()=>{class n{constructor(t){this.service=t}ngOnInit(){this.service.getHeader().then(t=>{this.myDetails=t.val(),this.myDetails.skillArr=t.val().skills.split(","),this.myDetails.techArr=t.val().technologies.split(",")})}}return n.\u0275fac=function(t){return new(t||n)(V(fV))},n.\u0275cmp=nr({type:n,selectors:[["app-root"]],decls:3,vars:2,consts:[[3,"headerData"],[3,"myDetails"]],template:function(t,r){1&t&&(Tr(0,"app-navbar",0),Tr(1,"router-outlet"),Tr(2,"app-footer",1)),2&t&&(go("headerData",r.myDetails),qn(2),go("myDetails",r.myDetails))},directives:[xhe,yD,Mhe],styles:["app-footer[_ngcontent-%COMP%]{margin-top:auto}"]}),n})();const SD_firebase={projectId:"ben-mathu-portfolio",appId:"1:512645300438:web:e1b41a9724275508b28977",databaseURL:"https://ben-mathu-portfolio-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"ben-mathu-portfolio.appspot.com",locationId:"europe-west",apiKey:"AIzaSyASvEpLdxPFboli1hzO8AFrth1cpc9Ate0",authDomain:"ben-mathu-portfolio.firebaseapp.com",messagingSenderId:"512645300438",measurementId:"G-3S6VR7XQRY"};class Nhe extends nt{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}function Ohe(n,e){return n===e}class kd{constructor(e){return e}}const wj="analytics",Ej=Bp.async,Bhe=ei(xne,!0),Uhe=ei(OL,!0),Vhe=ei(Rne,!0);let Ij=(()=>{class n{constructor(t,r,i){let s;this.disposables=[],Oe("angularfire",No.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),Ej().then(()=>{const o=i.get(kd);o?this.disposables=[Qse(t).subscribe(a=>{Vhe(o,null==a?void 0:a.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(x(rg),x(Be),x(st))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const Tj="firebase_screen_id",AD="outlet",Rd="screen_class",Cj="screen_name";let Jhe=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const xD={},Zhe=n=>{const e=[n[Rd],n[AD]].join("#");if(xD.hasOwnProperty(e))return xD[e];{const t=Jhe++;return xD[e]=t,t}},efe=(n,e,t)=>n.events.pipe(Fi(i=>i instanceof TV)).pipe(Qi(i=>{var s;const a=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",c=n.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!c)return W(null);let l=c;for(;l.firstChild;)l=l.firstChild;const u=l.pathFromRoot.map(f=>{var p;return null===(p=f.routeConfig)||void 0===p?void 0:p.path}).filter(f=>f).join("/")||"/",d={[Cj]:u,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:u,[AD]:i.snapshot.outlet};e&&(d.page_title=e.getTitle());let h=c.component;if(h){if(h===vD){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;h=f.component}}else h=i.snapshot.component;if("string"==typeof h)return W(Object.assign(Object.assign({},d),{[Rd]:h}));if(h){const f=t.resolveComponentFactory(h);return W(Object.assign(Object.assign({},d),{[Rd]:f.selector}))}return W(null)}),Fi(i=>!!i),pe(i=>Object.assign({firebase_screen_class:i[Rd],[Tj]:Zhe(i)},i)),function Rhe(n,e,t,r){return vt((i,s)=>{let o;e&&"function"!=typeof e?({duration:t,element:o,connector:r}=e):o=e;const a=new Map,c=h=>{a.forEach(h),h(s)},l=h=>c(f=>f.error(h)),u=new Nhe(s,h=>{try{const f=n(h);let p=a.get(f);if(!p){a.set(f,p=r?r():new Ur);const g=function d(h,f){const p=new ke(g=>{u.activeGroups++;const m=f.subscribe(g);return()=>{m.unsubscribe(),0==--u.activeGroups&&u.teardownAttempted&&u.unsubscribe()}});return p.key=h,p}(f,p);if(s.next(g),t){const m=new nt(p,()=>{p.complete(),null==m||m.unsubscribe()},void 0,void 0,()=>a.delete(f));u.add(mr(t(g)).subscribe(m))}}p.next(o?o(h):h)}catch(f){l(f)}},()=>c(h=>h.complete()),l,()=>a.clear());i.subscribe(u)})}(i=>i[AD]),St(i=>i.pipe(function Phe(n,e=os){return n=null!=n?n:Ohe,vt((t,r)=>{let i,s=!0;t.subscribe(new nt(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}((s,o)=>JSON.stringify(s)===JSON.stringify(o)),_V(void 0),function Fhe(){return vt((n,e)=>{let t,r=!1;n.subscribe(new nt(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}(),pe(([s,o])=>s?Object.assign({firebase_previous_class:s[Rd],firebase_previous_screen:s[Cj],firebase_previous_id:s[Tj]},o):o))));let tfe=(()=>{class n{constructor(t,r,i,s,o,a){Oe("angularfire",No.full,"screen-tracking"),Ej().then(()=>{const c=a.get(kd);!t||!c||s.runOutsideAngular(()=>{this.disposable=efe(t,r,i).pipe(Qi(l=>function HL(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){return o&&(yield o.initialized),Uhe(c,"screen_view",l)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(x(Ln,8),x(SO,8),x(_o),x(Be),x(Ij,8),x(st))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const MD=new L("angularfire2.analytics-instances");function rfe(n){return(e,t)=>{if(!Bp.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new kd(r)}}const ife={provide:class Lhe{constructor(){return Pu(wj)}},deps:[[new De,MD]]},sfe={provide:kd,useFactory:function nfe(n,e){if(!Bp.sync())return null;const t=Nu(wj,n,e);return t&&new kd(t)},deps:[[new De,MD],Es]};let ofe=(()=>{class n{constructor(t,r){Oe("angularfire",No.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(x(tfe,8),x(Ij,8))},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({providers:[sfe,ife,{provide:pu,useValue:Bp.async,multi:!0}]}),n})();function afe(n,...e){return{ngModule:ofe,providers:[{provide:MD,useFactory:rfe(n),multi:!0,deps:[Be,st,Up,Vp,...e]}]}}var R,cfe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Fr={},kD=kD||{},Y=cfe||self;function lm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Nd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var RD="closure_uid_"+(1e9*Math.random()>>>0),ufe=0;function dfe(n,e,t){return n.call.apply(n.bind,arguments)}function hfe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function dn(n,e,t){return(dn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dfe:hfe).apply(null,arguments)}function um(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function jt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ls(){this.s=this.s,this.o=this.o}Ls.prototype.s=!1,Ls.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lfe(n){Object.prototype.hasOwnProperty.call(n,RD)&&n[RD]||(n[RD]=++ufe)}(this)},Ls.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Dj=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ND(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Sj(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(lm(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function hn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var pfe=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Y.addEventListener("test",()=>{},e),Y.removeEventListener("test",()=>{},e)}catch(t){}return n}();function Pd(n){return/^[\s\xa0]*$/.test(n)}function dm(){var n=Y.navigator;return n&&(n=n.userAgent)?n:""}function li(n){return-1!=dm().indexOf(n)}function PD(n){return PD[" "](n),n}PD[" "]=function(){};var FD,mfe=li("Opera"),qc=li("Trident")||li("MSIE"),Aj=li("Edge"),OD=Aj||qc,xj=li("Gecko")&&!(-1!=dm().toLowerCase().indexOf("webkit")&&!li("Edge"))&&!(li("Trident")||li("MSIE"))&&!li("Edge"),_fe=-1!=dm().toLowerCase().indexOf("webkit")&&!li("Edge");function Mj(){var n=Y.document;return n?n.documentMode:void 0}e:{var LD="",BD=function(){var n=dm();return xj?/rv:([^\);]+)(\)|;)/.exec(n):Aj?/Edge\/([\d\.]+)/.exec(n):qc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_fe?/WebKit\/(\S+)/.exec(n):mfe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(BD&&(LD=BD?BD[1]:""),qc){var UD=Mj();if(null!=UD&&UD>parseFloat(LD)){FD=String(UD);break e}}FD=LD}var yfe=Y.document&&qc&&(Mj()||parseInt(FD,10))||void 0;function Od(n,e){if(hn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(xj){e:{try{PD(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:vfe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Od.$.h.call(this)}}jt(Od,hn);var vfe={2:"touch",3:"pen",4:"mouse"};Od.prototype.h=function(){Od.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Fd="closure_listenable_"+(1e6*Math.random()|0),bfe=0;function wfe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++bfe,this.fa=this.ia=!1}function hm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function jD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Rj(n){const e={};for(const t in n)e[t]=n[t];return e}const Nj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pj(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<Nj.length;s++)t=Nj[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function fm(n){this.src=n,this.g={},this.h=0}function HD(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=Dj(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(hm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function $D(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}fm.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=$D(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new wfe(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var GD="closure_lm_"+(1e6*Math.random()|0),WD={};function Oj(n,e,t,r,i){if(r&&r.once)return Lj(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Oj(n,e[s],t,r,i);return null}return t=QD(t),n&&n[Fd]?n.O(e,t,Nd(r)?!!r.capture:!!r,i):Fj(n,e,t,!1,r,i)}function Fj(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Nd(i)?!!i.capture:!!i,a=qD(n);if(a||(n[GD]=a=new fm(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Ife(){const e=Tfe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)pfe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Uj(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Lj(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Lj(n,e[s],t,r,i);return null}return t=QD(t),n&&n[Fd]?n.P(e,t,Nd(r)?!!r.capture:!!r,i):Fj(n,e,t,!0,r,i)}function Bj(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Bj(n,e[s],t,r,i);else r=Nd(r)?!!r.capture:!!r,t=QD(t),n&&n[Fd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=$D(s=n.g[e],t,r,i))&&(hm(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=qD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=$D(e,t,r,i)),(t=-1<n?e[n]:null)&&zD(t))}function zD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Fd])HD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Uj(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=qD(e))?(HD(t,n),0==t.h&&(t.src=null,e[GD]=null)):hm(n)}}}function Uj(n){return n in WD?WD[n]:WD[n]="on"+n}function Tfe(n,e){if(n.fa)n=!0;else{e=new Od(e,this);var t=n.listener,r=n.la||n.src;n.ia&&zD(n),n=t.call(r,e)}return n}function qD(n){return(n=n[GD])instanceof fm?n:null}var KD="__closure_events_fn_"+(1e9*Math.random()>>>0);function QD(n){return"function"==typeof n?n:(n[KD]||(n[KD]=function(e){return n.handleEvent(e)}),n[KD])}function Ht(){Ls.call(this),this.i=new fm(this),this.S=this,this.J=null}function Zt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new hn(e,n);else if(e instanceof hn)e.target=e.target||n;else{var i=e;Pj(e=new hn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=pm(o,r,!0,e)&&i}if(i=pm(o=e.g=n,r,!0,e)&&i,i=pm(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=pm(o=e.g=t[s],r,!1,e)&&i}function pm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,c=o.la||o.src;o.ia&&HD(n.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}jt(Ht,Ls),Ht.prototype[Fd]=!0,Ht.prototype.removeEventListener=function(n,e,t,r){Bj(this,n,e,t,r)},Ht.prototype.N=function(){if(Ht.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)hm(t[r]);delete n.g[e],n.h--}}this.J=null},Ht.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ht.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var YD=Y.JSON.stringify;function Dfe(){var n=XD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Vj=new class Cfe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Afe,n=>n.reset());class Afe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function xfe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Mfe(n){Y.setTimeout(()=>{throw n},0)}let Ld,Bd=!1,XD=new class Sfe{constructor(){this.h=this.g=null}add(e,t){const r=Vj.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},jj=()=>{const n=Y.Promise.resolve(void 0);Ld=()=>{n.then(kfe)}};var kfe=()=>{for(var n;n=Dfe();){try{n.h.call(n.g)}catch(t){Mfe(t)}var e=Vj;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Bd=!1};function gm(n,e){Ht.call(this),this.h=n||1,this.g=e||Y,this.j=dn(this.qb,this),this.l=Date.now()}function JD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function ZD(n,e,t){if("function"==typeof n)t&&(n=dn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=dn(n.handleEvent,n)}return 2147483647<Number(e)?-1:Y.setTimeout(n,e||0)}function Hj(n){n.g=ZD(()=>{n.g=null,n.i&&(n.i=!1,Hj(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}jt(gm,Ht),(R=gm.prototype).ga=!1,R.T=null,R.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zt(this,"tick"),this.ga&&(JD(this),this.start()))}},R.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.N=function(){gm.$.N.call(this),JD(this),delete this.g};class Rfe extends Ls{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hj(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ud(n){Ls.call(this),this.h=n,this.g={}}jt(Ud,Ls);var $j=[];function Gj(n,e,t,r){Array.isArray(t)||(t&&($j[0]=t.toString()),t=$j);for(var i=0;i<t.length;i++){var s=Oj(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Wj(n){jD(n.g,function(e,t){this.g.hasOwnProperty(t)&&zD(e)},n),n.g={}}function mm(){this.g=!0}function Kc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ffe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return YD(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}Ud.prototype.N=function(){Ud.$.N.call(this),Wj(this)},Ud.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mm.prototype.Ea=function(){this.g=!1},mm.prototype.info=function(){};var ta={},zj=null;function _m(){return zj=zj||new Ht}function qj(n){hn.call(this,ta.Ta,n)}function Vd(n){const e=_m();Zt(e,new qj(e))}function Kj(n,e){hn.call(this,ta.STAT_EVENT,n),this.stat=e}function Sn(n){const e=_m();Zt(e,new Kj(e,n))}function Qj(n,e){hn.call(this,ta.Ua,n),this.size=e}function jd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){n()},e)}ta.Ta="serverreachability",jt(qj,hn),ta.STAT_EVENT="statevent",jt(Kj,hn),ta.Ua="timingevent",jt(Qj,hn);var ym={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yj={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function eS(){}function Jj(){}eS.prototype.h=null;var rS,Hd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tS(){hn.call(this,"d")}function nS(){hn.call(this,"c")}function vm(){}function $d(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Ud(this),this.P=Lfe,this.V=new gm(n=OD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Zj}function Zj(){this.i=null,this.g="",this.h=!1}jt(tS,hn),jt(nS,hn),jt(vm,eS),vm.prototype.g=function(){return new XMLHttpRequest},vm.prototype.i=function(){return{}},rS=new vm;var Lfe=45e3,iS={},bm={};function sS(n,e,t){n.L=1,n.v=Tm(Ji(e)),n.s=t,n.S=!0,eH(n,null)}function eH(n,e){n.G=Date.now(),Gd(n),n.A=Ji(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),uH(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Zj,n.g=PH(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Rfe(dn(n.Pa,n,n.g),n.O)),Gj(n.U,n.g,"readystatechange",n.nb),e=n.I?Rj(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Vd(),function Nfe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function tH(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function nH(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Bfe(n,t),i==bm){4==e&&(n.o=4,Sn(14),r=!1),Kc(n.j,n.m,null,"[Incomplete Response]");break}if(i==iS){n.o=4,Sn(15),Kc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Kc(n.j,n.m,i,null),oS(n,i)}tH(n)&&i!=bm&&i!=iS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Sn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),fS(e),e.M=!0,Sn(11))):(Kc(n.j,n.m,t,"[Invalid Chunked Response]"),na(n),Wd(n))}function Bfe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?bm:(t=Number(e.substring(t,r)),isNaN(t)?iS:(r+=1)+t>e.length?bm:(e=e.slice(r,r+t),n.C=r+t,e))}function Gd(n){n.Y=Date.now()+n.P,rH(n,n.P)}function rH(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=jd(dn(n.lb,n),e)}function wm(n){n.B&&(Y.clearTimeout(n.B),n.B=null)}function Wd(n){0==n.l.H||n.J||MH(n.l,n)}function na(n){wm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,JD(n.V),Wj(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function oS(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||aS(t.i,n)))if(!n.K&&aS(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=jd(dn(t.ib,t),6e3));else{if(t.g){if(!(t.g.G+3e3<n.G))break e;Mm(t),Am(t)}hS(t),Sn(18)}if(1>=fH(t.i)&&t.oa){try{t.oa()}catch(l){}t.oa=void 0}}else ia(t,11)}else if((n.K||t.g==n)&&Mm(t),!Pd(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const u=l[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(cS(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ge(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=NH(r,r.J?r.pa:null,r.Y),o.K){pH(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(wm(a),Gd(a)),r.g=o}else AH(r);0<t.j.length&&xm(t)}else"stop"!=l[0]&&"close"!=l[0]||ia(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ia(t,7):dS(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}Vd()}catch(l){}}function iH(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(lm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Vfe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(lm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Ufe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(lm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(R=$d.prototype).setTimeout=function(n){this.P=n},R.nb=function(n){n=n.target;const e=this.M;e&&3==ui(n)?e.l():this.Pa(n)},R.Pa=function(n){try{if(n==this.g)e:{const u=ui(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||OD||this.g&&(this.h.h||this.g.ja()||EH(this.g)))){this.J||4!=u||7==e||Vd(),wm(this);var t=this.g.da();this.ca=t;t:if(tH(this)){var r=EH(this.g);n="";var i=r.length,s=4==ui(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){na(this),Wd(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function Pfe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pd(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Sn(12),na(this),Wd(this);break e}Kc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oS(this,t)}this.S?(nH(this,u,o),OD&&this.i&&3==u&&(Gj(this.U,this.V,"tick",this.mb),this.V.start())):(Kc(this.j,this.m,o,null),oS(this,o)),4==u&&na(this),this.i&&!this.J&&(4==u?MH(this.l,this):(this.i=!1,Gd(this)))}else(function ipe(n){const e={};n=(n.g&&2<=ui(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Pd(n[r]))continue;var t=xfe(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function Efe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Sn(12)):(this.o=0,Sn(13)),na(this),Wd(this)}}}catch(u){}},R.mb=function(){if(this.g){var n=ui(this.g),e=this.g.ja();this.C<e.length&&(wm(this),nH(this,n,e),this.i&&4!=n&&Gd(this))}},R.cancel=function(){this.J=!0,na(this)},R.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Ofe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Vd(),Sn(17)),na(this),this.o=2,Wd(this)):rH(this,this.Y-n)};var sH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ra){this.h=n.h,Em(this,n.j),this.s=n.s,this.g=n.g,Im(this,n.m),this.l=n.l;var e=n.i,t=new Kd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),oH(this,t),this.o=n.o}else n&&(e=String(n).match(sH))?(this.h=!1,Em(this,e[1]||"",!0),this.s=zd(e[2]||""),this.g=zd(e[3]||"",!0),Im(this,e[4]),this.l=zd(e[5]||"",!0),oH(this,e[6]||"",!0),this.o=zd(e[7]||"")):(this.h=!1,this.i=new Kd(null,this.h))}function Ji(n){return new ra(n)}function Em(n,e,t){n.j=t?zd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Im(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function oH(n,e,t){e instanceof Kd?(n.i=e,function qfe(n,e){e&&!n.j&&(Bs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(cH(this,r),uH(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=qd(e,Wfe)),n.i=new Kd(e,n.h))}function Ge(n,e,t){n.i.set(e,t)}function Tm(n){return Ge(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function zd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Hfe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Hfe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ra.prototype.toString=function(){var n=[],e=this.j;e&&n.push(qd(e,aH,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(qd(e,aH,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(qd(t,"/"==t.charAt(0)?Gfe:$fe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",qd(t,zfe)),n.join("")};var aH=/[#\/\?@]/g,$fe=/[#\?:]/g,Gfe=/[#\?]/g,Wfe=/[#\?@]/g,zfe=/#/g;function Kd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Bs(n){n.g||(n.g=new Map,n.h=0,n.i&&function jfe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function cH(n,e){Bs(n),e=Qc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function lH(n,e){return Bs(n),e=Qc(n,e),n.g.has(e)}function uH(n,e,t){cH(n,e),0<t.length&&(n.i=null,n.g.set(Qc(n,e),ND(t)),n.h+=t.length)}function Qc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function dH(n){this.l=n||Qfe,n=Y.PerformanceNavigationTiming?0<(n=Y.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=Kd.prototype).add=function(n,e){Bs(this),this.i=null,n=Qc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},R.forEach=function(n,e){Bs(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},R.ta=function(){Bs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},R.Z=function(n){Bs(this);let e=[];if("string"==typeof n)lH(this,n)&&(e=e.concat(this.g.get(Qc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},R.set=function(n,e){return Bs(this),this.i=null,lH(this,n=Qc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},R.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Qfe=10;function hH(n){return!!n.h||!!n.g&&n.g.size>=n.j}function fH(n){return n.h?1:n.g?n.g.size:0}function aS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function cS(n,e){n.g?n.g.add(e):n.h=e}function pH(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function gH(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ND(n.i)}function Xfe(){this.g=new class{stringify(n){return Y.JSON.stringify(n,void 0)}parse(n){return Y.JSON.parse(n,void 0)}}}function Jfe(n,e,t){const r=t||"";try{iH(n,function(i,s){let o=i;Nd(i)&&(o=YD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Cm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Qd(n){this.l=n.fc||null,this.j=n.ob||!1}function Dm(n,e){Ht.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=lS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dH.prototype.cancel=function(){if(this.i=gH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},jt(Qd,eS),Qd.prototype.g=function(){return new Dm(this.l,this.j)},Qd.prototype.i=function(n){return function(){return n}}({}),jt(Dm,Ht);var lS=0;function mH(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Yd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Xd(n)}function Xd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(R=Dm.prototype).open=function(n,e){if(this.readyState!=lS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Xd(this)},R.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yd(this)),this.readyState=lS},R.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Xd(this)),this.g&&(this.readyState=3,Xd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==Y.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mH(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},R.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Yd(this):Xd(this),3==this.readyState&&mH(this)}},R.Za=function(n){this.g&&(this.response=this.responseText=n,Yd(this))},R.Ya=function(n){this.g&&(this.response=n,Yd(this))},R.ka=function(){this.g&&Yd(this)},R.setRequestHeader=function(n,e){this.v.append(n,e)},R.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Dm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var epe=Y.JSON.parse;function ut(n){Ht.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_H,this.L=this.M=!1}jt(ut,Ht);var _H="",tpe=/^https?$/i,npe=["POST","PUT"];function yH(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,vH(n),Sm(n)}function vH(n){n.F||(n.F=!0,Zt(n,"complete"),Zt(n,"error"))}function bH(n){if(n.h&&void 0!==kD&&(!n.C[1]||4!=ui(n)||2!=n.da()))if(n.v&&4==ui(n))ZD(n.La,0,n);else if(Zt(n,"readystatechange"),4==ui(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(sH)[1]||null;!i&&Y.self&&Y.self.location&&(i=Y.self.location.protocol.slice(0,-1)),r=!tpe.test(i?i.toLowerCase():"")}t=r}if(t)Zt(n,"complete"),Zt(n,"success");else{n.m=6;try{var s=2<ui(n)?n.g.statusText:""}catch(a){s=""}n.j=s+" ["+n.da()+"]",vH(n)}}finally{Sm(n)}}}function Sm(n,e){if(n.g){wH(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Zt(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function wH(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Y.clearTimeout(n.A),n.A=null)}function ui(n){return n.g?n.g.readyState:0}function EH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case _H:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function IH(n){let e="";return jD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function uS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=IH(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ge(n,e,t))}function Jd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function TH(n){this.Ga=0,this.j=[],this.l=new mm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Jd("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Jd("baseRetryDelayMs",5e3,n),this.hb=Jd("retryDelaySeedMs",1e4,n),this.eb=Jd("forwardChannelMaxRetries",2,n),this.xa=Jd("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new dH(n&&n.concurrentRequestLimit),this.Ja=new Xfe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function dS(n){if(CH(n),3==n.H){var e=n.W++,t=Ji(n.I);if(Ge(t,"SID",n.K),Ge(t,"RID",e),Ge(t,"TYPE","terminate"),Zd(n,t),(e=new $d(n,n.l,e)).L=2,e.v=Tm(Ji(t)),t=!1,Y.navigator&&Y.navigator.sendBeacon)try{t=Y.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!t&&Y.Image&&((new Image).src=e.v,t=!0),t||(e.g=PH(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Gd(e)}RH(n)}function Am(n){n.g&&(fS(n),n.g.cancel(),n.g=null)}function CH(n){Am(n),n.u&&(Y.clearTimeout(n.u),n.u=null),Mm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Y.clearTimeout(n.m),n.m=null)}function xm(n){if(!hH(n.i)&&!n.m){n.m=!0;var e=n.Na;Ld||jj(),Bd||(Ld(),Bd=!0),XD.add(e,n),n.C=0}}function DH(n,e){var t;t=e?e.m:n.W++;const r=Ji(n.I);Ge(r,"SID",n.K),Ge(r,"RID",t),Ge(r,"AID",n.V),Zd(n,r),n.o&&n.s&&uS(r,n.o,n.s),t=new $d(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=SH(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),cS(n.i,t),sS(t,r,e)}function Zd(n,e){n.na&&jD(n.na,function(t,r){Ge(e,r,t)}),n.h&&iH({},function(t,r){Ge(e,r,t)})}function SH(n,e,t){t=Math.min(n.j.length,t);var r=n.h?dn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<t;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{Jfe(u,o,"req"+l+"_")}catch(d){r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function AH(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ld||jj(),Bd||(Ld(),Bd=!0),XD.add(e,n),n.A=0}}function hS(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=jd(dn(n.Ma,n),kH(n,n.A)),n.A++,0))}function fS(n){null!=n.B&&(Y.clearTimeout(n.B),n.B=null)}function xH(n){n.g=new $d(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ji(n.wa);Ge(e,"RID","rpc"),Ge(e,"SID",n.K),Ge(e,"AID",n.V),Ge(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ge(e,"TO",n.qa),Ge(e,"TYPE","xmlhttp"),Zd(n,e),n.o&&n.s&&uS(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Tm(Ji(e)),t.s=null,t.S=!0,eH(t,n)}function Mm(n){null!=n.v&&(Y.clearTimeout(n.v),n.v=null)}function MH(n,e){var t=null;if(n.g==e){Mm(n),fS(n),n.g=null;var r=2}else{if(!aS(n.i,e))return;t=e.F,pH(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Zt(r=_m(),new Qj(r,t)),xm(n)}else AH(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function spe(n,e){return!(fH(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=jd(dn(n.Na,n,e),kH(n,n.C)),n.C++,0)))}(n,e)||2==r&&hS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ia(n,5);break;case 4:ia(n,10);break;case 3:ia(n,6);break;default:ia(n,2)}}function kH(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ia(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=dn(n.pb,n);t||(t=new ra("//www.google.com/images/cleardot.gif"),Y.location&&"http"==Y.location.protocol||Em(t,"https"),Tm(t)),function Zfe(n,e){const t=new mm;if(Y.Image){const r=new Image;r.onload=um(Cm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=um(Cm,t,r,"TestLoadImage: error",!1,e),r.onabort=um(Cm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=um(Cm,t,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Sn(2);n.H=0,n.h&&n.h.za(e),RH(n),CH(n)}function RH(n){if(n.H=0,n.ma=[],n.h){const e=gH(n.i);(0!=e.length||0!=n.j.length)&&(Sj(n.ma,e),Sj(n.ma,n.j),n.i.i.length=0,ND(n.j),n.j.length=0),n.h.ya()}}function NH(n,e,t){var r=t instanceof ra?Ji(t):new ra(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Im(r,r.m);else{var i=Y.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ra(null);r&&Em(s,r),e&&(s.g=e),i&&Im(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Ge(r,t,e),Ge(r,"VER",n.ra),Zd(n,r),r}function PH(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ut(t&&n.Ha&&!n.va?new Qd({ob:!0}):n.va)).Oa(n.J),e}function OH(){}function km(){if(qc&&!(10<=Number(yfe)))throw Error("Environmental error: no available transport.")}function Jn(n,e){Ht.call(this),this.g=new TH(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Pd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Yc(this)}function FH(n){tS.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function LH(){nS.call(this),this.status=1}function Yc(n){this.g=n}function Lr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function pS(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ae(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(R=ut.prototype).Oa=function(n){this.M=n},R.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rS.g(),this.C=function Xj(n){return n.h||(n.h=n.i())}(this.u?this.u:rS),this.g.onreadystatechange=dn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void yH(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Y.FormData&&n instanceof Y.FormData,!(0<=Dj(npe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wH(this),0<this.B&&((this.L=function rpe(n){return qc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.ua,this)):this.A=ZD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){yH(this,s)}},R.ua=function(){void 0!==kD&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zt(this,"timeout"),this.abort(8))},R.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zt(this,"complete"),Zt(this,"abort"),Sm(this))},R.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sm(this,!0)),ut.$.N.call(this)},R.La=function(){this.s||(this.G||this.v||this.l?bH(this):this.kb())},R.kb=function(){bH(this)},R.isActive=function(){return!!this.g},R.da=function(){try{return 2<ui(this)?this.g.status:-1}catch(n){return-1}},R.ja=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},R.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),epe(e)}},R.Ia=function(){return this.m},R.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=TH.prototype).ra=8,R.H=1,R.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new $d(this,this.l,n);let s=this.s;if(this.U&&(s?(s=Rj(s),Pj(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=SH(this,i,e),Ge(t=Ji(this.I),"RID",n),Ge(t,"CVER",22),this.F&&Ge(t,"X-HTTP-Session-Id",this.F),Zd(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(IH(s)))+"&"+e:this.o&&uS(t,this.o,s)),cS(this.i,i),this.bb&&Ge(t,"TYPE","init"),this.P?(Ge(t,"$req",e),Ge(t,"SID","null"),i.aa=!0,sS(i,t,null)):sS(i,t,e),this.H=2}}else 3==this.H&&(n?DH(this,n):0==this.j.length||hH(this.i)||DH(this))},R.Ma=function(){if(this.u=null,xH(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=jd(dn(this.jb,this),n)}},R.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sn(10),Am(this),xH(this))},R.ib=function(){null!=this.v&&(this.v=null,Am(this),hS(this),Sn(19))},R.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Sn(2)):(this.l.info("Failed to ping google.com"),Sn(1))},R.isActive=function(){return!!this.h&&this.h.isActive(this)},(R=OH.prototype).Ba=function(){},R.Aa=function(){},R.za=function(){},R.ya=function(){},R.isActive=function(){return!0},R.Va=function(){},km.prototype.g=function(n,e){return new Jn(n,e)},jt(Jn,Ht),Jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Sn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=NH(n,null,n.Y),xm(n)},Jn.prototype.close=function(){dS(this.g)},Jn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=YD(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&xm(e)},Jn.prototype.N=function(){this.g.h=null,delete this.j,dS(this.g),delete this.g,Jn.$.N.call(this)},jt(FH,tS),jt(LH,nS),jt(Yc,OH),Yc.prototype.Ba=function(){Zt(this.g,"a")},Yc.prototype.Aa=function(n){Zt(this.g,new FH(n))},Yc.prototype.za=function(n){Zt(this.g,new LH)},Yc.prototype.ya=function(){Zt(this.g,"b")},jt(Lr,function ope(){this.blockSize=-1}),Lr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Lr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)pS(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){pS(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){pS(this,r),i=0;break}}this.h=i,this.i+=e},Lr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var ape={};function gS(n){return-128<=n&&128>n?function gfe(n,e){var t=ape;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ae([0|e],0>e?-1:0)}):new Ae([0|n],0>n?-1:0)}function di(n){if(isNaN(n)||!isFinite(n))return Xc;if(0>n)return en(di(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=mS;return new Ae(e,0)}var mS=4294967296,Xc=gS(0),_S=gS(1),UH=gS(16777216);function Zi(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function gr(n){return-1==n.h}function en(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ae(t,~n.h).add(_S)}function Rm(n,e){return n.add(en(e))}function Nm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function eh(n,e){this.g=n,this.h=e}function Pm(n,e){if(Zi(e))throw Error("division by zero");if(Zi(n))return new eh(Xc,Xc);if(gr(n))return e=Pm(en(n),e),new eh(en(e.g),en(e.h));if(gr(e))return e=Pm(n,en(e)),new eh(en(e.g),e.h);if(30<n.g.length){if(gr(n)||gr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=_S,r=e;0>=r.X(n);)t=VH(t),r=VH(r);var i=Jc(t,1),s=Jc(r,1);for(r=Jc(r,2),t=Jc(t,2);!Zi(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Jc(r,1),t=Jc(t,1)}return e=Rm(n,i.R(e)),new eh(i,e)}for(i=Xc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=di(t)).R(e);gr(o)||0<o.X(n);)o=(s=di(t-=r)).R(e);Zi(s)&&(s=_S),i=i.add(s),n=Rm(n,o)}return new eh(i,n)}function VH(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ae(t,n.h)}function Jc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Ae(i,n.h)}(R=Ae.prototype).ea=function(){if(gr(this))return-en(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:mS+r)*e,e*=mS}return n},R.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Zi(this))return"0";if(gr(this))return"-"+en(this).toString(n);for(var e=di(Math.pow(n,6)),t=this,r="";;){var i=Pm(t,e).g,s=((0<(t=Rm(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Zi(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},R.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},R.X=function(n){return gr(n=Rm(this,n))?-1:Zi(n)?0:1},R.abs=function(){return gr(this)?en(this):this},R.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Ae(t,-2147483648&t[t.length-1]?-1:0)},R.R=function(n){if(Zi(this)||Zi(n))return Xc;if(gr(this))return gr(n)?en(this).R(en(n)):en(en(this).R(n));if(gr(n))return en(this.R(en(n)));if(0>this.X(UH)&&0>n.X(UH))return di(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,c=65535&n.D(i);t[2*r+2*i]+=o*c,Nm(t,2*r+2*i),t[2*r+2*i+1]+=s*c,Nm(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Nm(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Nm(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ae(t,0)},R.gb=function(n){return Pm(this,n).h},R.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ae(t,this.h&n.h)},R.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ae(t,this.h|n.h)},R.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ae(t,this.h^n.h)},km.prototype.createWebChannel=km.prototype.g,Jn.prototype.send=Jn.prototype.u,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,ym.NO_ERROR=0,ym.TIMEOUT=8,ym.HTTP_ERROR=6,Yj.COMPLETE="complete",Jj.EventType=Hd,Hd.OPEN="a",Hd.CLOSE="b",Hd.ERROR="c",Hd.MESSAGE="d",Ht.prototype.listen=Ht.prototype.O,ut.prototype.listenOnce=ut.prototype.P,ut.prototype.getLastError=ut.prototype.Sa,ut.prototype.getLastErrorCode=ut.prototype.Ia,ut.prototype.getStatus=ut.prototype.da,ut.prototype.getResponseJson=ut.prototype.Wa,ut.prototype.getResponseText=ut.prototype.ja,ut.prototype.send=ut.prototype.ha,ut.prototype.setWithCredentials=ut.prototype.Oa,Lr.prototype.digest=Lr.prototype.l,Lr.prototype.reset=Lr.prototype.reset,Lr.prototype.update=Lr.prototype.j,Ae.prototype.add=Ae.prototype.add,Ae.prototype.multiply=Ae.prototype.R,Ae.prototype.modulo=Ae.prototype.gb,Ae.prototype.compare=Ae.prototype.X,Ae.prototype.toNumber=Ae.prototype.ea,Ae.prototype.toString=Ae.prototype.toString,Ae.prototype.getBits=Ae.prototype.D,Ae.fromNumber=di,Ae.fromString=function BH(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return en(BH(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=di(Math.pow(e,8)),r=Xc,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=di(Math.pow(e,s)),r=r.R(s).add(di(o))):r=(r=r.R(t)).add(di(o))}return r},Fr.createWebChannelTransport=function(){return new km},Fr.getStatEventTarget=function(){return _m()},Fr.ErrorCode=ym,Fr.EventType=Yj,Fr.Event=ta,Fr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fr.FetchXmlHttpFactory=Qd,Fr.WebChannel=Jj,Fr.XhrIo=ut,Fr.Md5=Lr;var cpe=Fr.Integer=Ae;const jH="@firebase/firestore";class $t{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let th="9.23.0";const Us=new Co("@firebase/firestore");function C(n,...e){if(Us.logLevel<=ye.DEBUG){const t=e.map(vS);Us.debug(`Firestore (${th}): ${n}`,...t)}}function gt(n,...e){if(Us.logLevel<=ye.ERROR){const t=e.map(vS);Us.error(`Firestore (${th}): ${n}`,...t)}}function vS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function F(n="Unexpected state"){const e=`FIRESTORE (${th}) INTERNAL ASSERTION FAILED: `+n;throw gt(e),new Error(e)}function j(n,e){n||F()}const b_CANCELLED="cancelled",b_INVALID_ARGUMENT="invalid-argument",b_FAILED_PRECONDITION="failed-precondition",b_UNAVAILABLE="unavailable";class I extends kr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class HH{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lpe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($t.UNAUTHENTICATED))}shutdown(){}}class upe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dpe{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(w(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new HH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new $t(e)}}class hpe{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class fpe{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new hpe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $H{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ppe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(j("string"==typeof t.token),this.T=t.token,new $H(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gpe(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function K(n,e){return n<e?-1:n>e?1:0}class Om{constructor(e,t,r){void 0===t?t=0:t>e.length&&F(),void 0===r?r=e.length-t:r>e.length-t&&F(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Om.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Om?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ve extends Om{construct(e,t,r){return new ve(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new I(b_INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ve(t)}static emptyPath(){return new ve([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(ve.fromString(e))}static fromName(e){return new M(ve.fromString(e).popFirst(5))}static empty(){return new M(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ve(e.slice()))}}function js(n){return"IndexedDbTransactionError"===n.name}class He{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new He(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vm(this.root,e,this.comparator,!0)}}class Vm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:tn.RED,this.left=null!=i?i:tn.EMPTY,this.right=null!=s?s:tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new tn(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1,tn.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(n,e,t,r,i){return this}insert(n,e,t){return new tn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class We{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new s$(this.data.getIterator())}getIteratorFrom(e){return new s$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new We(this.comparator);return t.data=e,t}}class s${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class o$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw"undefined"!=typeof DOMException&&i instanceof DOMException?new o$("Invalid base64 string: "+i):i}}(e);return new Pt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function dt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}Pt.EMPTY_BYTE_STRING=new Pt("");class Hpe{constructor(e,t,r,i,s,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class aa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new aa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof aa&&e.projectId===this.projectId&&e.database===this.database}}var Ct,be;new He(M.comparator),new He(M.comparator),new He(M.comparator),new We(M.comparator),new We(K),(be=Ct||(Ct={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS",new cpe([4294967295,4294967295],0),Error;class ma{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(dt(e.integerValue));else if("doubleValue"in e){const r=dt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),function sh(n){return 0===n&&1/n==-1/0}(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(function es(n){return"string"==typeof n?Pt.fromBase64String(n):Pt.fromUint8Array(n)}(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?function u$(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):F()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),M.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}ma.Ve=new ma,new Uint8Array(0);class pn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function p_(){return"undefined"!=typeof document?document:null}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class pA{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class NA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new NA(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new I(b_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class Zme{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=class GH{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gpe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=w(function*(a){C("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return w(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new I(b_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(w(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function yl(n,e){if(gt("AsyncQueue",`${e}: ${n}`),js(n))return new I(b_UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function S4(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const A4=new Map;function me(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new I(b_INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function E_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":F()}(n);throw new I(b_INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class R4{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new I(b_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new I(b_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function c_e(n,e,t,r){if(!0===e&&!0===r)throw new I(b_INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=S4(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new I(b_INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new I(b_INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new I(b_INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new I(b_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new I(b_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R4(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new lpe;switch(t.type){case"firstParty":return new fpe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new I(b_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=A4.get(e);t&&(C("ComponentProvider","Removing Datastore"),A4.delete(e),t.terminate())}(this),Promise.resolve()}}class d_e{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new pA(this,"async_queue_retry"),this.Xc=()=>{const t=p_();t&&C("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=p_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=p_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Nt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return w(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!js(t))throw t;C("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,gt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=NA.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return w(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class qe extends Ph{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new d_e,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||function P4(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Hpe(n._databaseId,a,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,S4(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new Zme(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function f_e(n,e){const r="string"==typeof n?n:e||"(default)",i=Ao("object"==typeof n?n:kp(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=fF("firestore");s&&function l_e(n,e,t,r={}){var i;const s=(n=me(n,Ph))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&function hi(n,...e){if(Us.logLevel<=ye.WARN){const t=e.map(vS);Us.warn(`Firestore (${th}): ${n}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=$t.MOCK_USER;else{a=gF(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new I(b_INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new $t(l)}n._authCredentials=new upe(new HH(a,c))}}(i,...s)}return i}!function(n,e=!0){th="9.23.0",ln(new Qt("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new qe(new dpe(t.getProvider("auth-internal")),new ppe(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new I(b_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aa(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Oe(jH,"3.13.0",n),Oe(jH,"3.13.0","esm2017")}();class Ax{constructor(e){return e}}const tW="firestore",xx=new L("angularfire2.firestore-instances");function V_e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ax(r)}}const j_e={provide:class B_e{constructor(){return Pu(tW)}},deps:[[new De,xx]]},H_e={provide:Ax,useFactory:function U_e(n,e){const t=Nu(tW,n,e);return t&&new Ax(t)},deps:[[new De,xx],Es]};let nW=(()=>{class n{constructor(){Oe("angularfire",No.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ht({providers:[H_e,j_e]}),n})();function $_e(n,...e){return{ngModule:nW,providers:[{provide:xx,useFactory:V_e(n),multi:!0,deps:[Be,st,Up,Vp,[new De,TC],[new De,zC],...e]}]}}const G_e=ei(f_e,!0);let W_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n,bootstrap:[khe]}),n.\u0275inj=ht({providers:[{provide:tp,useValue:"/ben-mathu/"}],imports:[[bY,She,BX,KX,QX,Qne(()=>Yne(SD_firebase)),afe(()=>Bhe()),lue(()=>hue()),$_e(()=>G_e()),nW]]}),n})();(function q8(){L1=!1})(),yY().bootstrapModule(W_e).catch(n=>console.error(n))}},fe=>{fe(fe.s=508)}]);